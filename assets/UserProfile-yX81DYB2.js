import{P as h}from"./vue3-perfect-scrollbar.esm-BkibdV_6.js";import{j as I,b6 as n,m as e,o as r,f as l,e as a,b as o,$ as u,t as i,v as c,c as d,F as p,h as P,b7 as x,q as L,d as B,ah as w,y as N}from"./index-JJLVR7gw.js";import{u as S}from"./useAbility-BOeyMXQp.js";import{V as f}from"./VAvatar-yCqntSJd.js";import{V as b}from"./VImg-KnL00SIm.js";import{V as A}from"./VMenu-D0jACTlk.js";import{V as C,a as y,b as v,d as D}from"./VList-oRE7i2Tp.js";import{V as z}from"./VListItemAction-CjRT3Kl0.js";import{V as m}from"./VBadge-BIl0LKQJ.js";import{V as T}from"./VDivider-DXXBACNJ.js";import"./transition-C2_fb7u_.js";import"./VOverlay-yE6I3_jC.js";import"./easing-CjukEv2V.js";import"./lazy-amXKMzDk.js";import"./scopeId-ClaAXU-I.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-OOY4pNuk.js";import"./index-GgA-9tW3.js";import"./ssrBoot-BZxQaRBH.js";import"./createSimpleFunctional-C_BTfS6z.js";const F={class:"px-4 py-2"},lt={__name:"UserProfile",setup(R){const _=I(),V=S(),t=n("userData"),g=async()=>{n("accessToken").value=null,t.value=null,await _.push("/login"),n("userAbilityRules").value=null,V.update([])},k=[{type:"divider"},{type:"navItem",icon:"tabler-user",title:"Profile",to:{name:"profile-tab",params:{tab:"account"}}},{type:"navItem",icon:"tabler-settings",title:"Settings",to:{name:"profile-tab",params:{tab:"security"}}}];return($,j)=>e(t)?(r(),l(m,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:a(()=>[o(f,{size:"38",class:"cursor-pointer",color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(r(),l(b,{key:0,src:e(t).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"tabler-user"})),o(A,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:a(()=>[o(C,null,{default:a(()=>[o(y,null,{prepend:a(()=>[o(z,{start:""},{default:a(()=>[o(m,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(f,{color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(r(),l(b,{key:0,src:e(t).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:a(()=>[o(v,{class:"font-weight-medium"},{default:a(()=>[i(c(e(t).fullName||e(t).username),1)]),_:1}),o(D,null,{default:a(()=>[i(c(e(t).role),1)]),_:1})]),_:1}),o(e(h),{options:{wheelPropagation:!1}},{default:a(()=>[(r(),d(p,null,P(k,s=>(r(),d(p,{key:s.title},[s.type==="navItem"?(r(),l(y,{key:0,to:s.to},x({prepend:a(()=>[o(u,{icon:s.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(v,null,{default:a(()=>[i(c(s.title),1)]),_:2},1024)]),_:2},[s.badgeProps?{name:"append",fn:a(()=>[o(m,L({rounded:"sm",class:"me-3"},s.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(r(),l(T,{key:1,class:"my-2"}))],64))),64)),B("div",F,[o(w,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:g},{default:a(()=>[i(" Logout ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):N("",!0)}};export{lt as default};
