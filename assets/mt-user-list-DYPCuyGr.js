import{h as D}from"./permission-je0EhvfM.js";import{f as oe}from"./formatters-MfVJSZma.js";import{_ as ae}from"./CustomStaffCardChip-DCvvDnRU.js";import{_ as se}from"./CustomClientCardChip-Tau189B7.js";import{_ as ie}from"./CustomMT5Chip-plAVBm_R.js";import{_ as ne}from"./AppTextField-DKJnmTOJ.js";import{_ as re}from"./AppDateTimePicker-hPy3T18M.js";import{_ as me}from"./CustomManagerSelectWidget-Nu42fgHF.js";import{_ as ue}from"./AppSelect-Cl6HxbQQ.js";import{_ as pe}from"./CustomPageHeaderWidget-VnTGBbDe.js";import{_ as de}from"./AddNewClientDialog-BWSQRcII.js";import{f as ce,g as _e,a as I}from"./apiUtils-fq-JXE4W.js";import{$ as fe}from"./api-DKU2c_97.js";import{r as s,w as M,a4 as P,E as ve,cn as he,j as Ve,o as n,c as p,b as t,e as i,f as d,y as c,m as T,d as a,v as r,$ as G,t as _,F as R,h as B,ah as ge}from"./index-BOEtP-vQ.js";import{V as be}from"./VCard-D7qQTl7j.js";import{V as x}from"./VCardText-Cu1A2p50.js";import{V as ye,a as f}from"./VRow-Cfalt0VA.js";import{V as z}from"./VDivider-ct61W42j.js";import{V as Ce}from"./VSpacer-DyJ6DYU3.js";import{V as De}from"./VChip-BSWb23AE.js";import{V as Te}from"./VList-Cx8ZpknI.js";import{V as we}from"./VTable-d4c6nSqr.js";import{V as ke}from"./VSkeletonLoader-dUicmzDN.js";import{V as Se}from"./VPagination-BokvTrni.js";import"./helpers-DK5QwNv0.js";import"./VAvatar-4Kvzh9ag.js";import"./VImg-CA8IuiYj.js";import"./transition-DsC3VmLB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-CseWHeeO.js";import"./VTextField-B-kj7Uh1.js";/* empty css                   */import"./VCounter-XmrXUFzL.js";import"./index-DdTD1XfB.js";import"./VField-BBTESSfe.js";import"./easing-CjukEv2V.js";import"./VInput-B0KZ_kJr.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-vlfTTGeh.js";import"./dialog-transition-CDzkOlQm.js";import"./VMenu-DyyTCiwk.js";import"./VOverlay-DJ7nF4XL.js";import"./lazy-PN5-REnJ.js";import"./scopeId-Cur9i-dl.js";import"./VCheckboxBtn-BGxdUy4v.js";import"./VSelectionControl-fLItKvg2.js";import"./ConfirmDialog-DTjq62H2.js";import"./VDialog-CSR0sace.js";import"./AppDrawerHeaderSection-CfJ7DThO.js";import"./vue3-perfect-scrollbar.esm-CWMpAH4j.js";import"./VRadioGroup-BtrPXsYv.js";import"./VNavigationDrawer-CHWaiH5t.js";import"./ssrBoot-CmZJdz4s.js";import"./useApi-CwI42Skv.js";import"./index-B3bPRkoL.js";import"./createSimpleFunctional-BVEdWqLB.js";import"./VCardTitle-ByxFLjtO.js";/* empty css              */import"./VSlideGroup-jwesl6Ba.js";const Ae={class:"me-3 d-flex gap-3"},Me={style:{"inline-size":"15.625rem"}},Ge={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},xe={class:"card-subtitle pt-3"},Le=a("th",null," ID/DOJ ",-1),Ue=a("th",null," MT5 ID ",-1),Ee=a("th",null," NAME | EMAIL ",-1),$e=a("th",null," ASSIGNED RM ",-1),Ne=a("th",null," VIEW ",-1),Oe={class:"text-caption me-0 ms-0",style:{"padding-left":"2px"}},Ie=a("br",null,null,-1),Pe={key:0},Re={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Qt={__name:"mt-user-list",setup(Be){const m=s(""),v=s(null),h=s(null),V=s(null),g=s(null),b=s(null),y=s(null),L=s(25),C=s(1),j=s(null),F=s(null),u=s(null),W=[{title:"All",value:null},{title:"Deposited",value:"1"},{title:"Not Deposited",value:"1"}],w=s(null),U=s(null),H=()=>I("mtGroupCategories","admin/group-categories",w);M(w,o=>{o&&(U.value=o.group_category.map(l=>({title:l.category_name,value:l.id})))});const k=s(null),E=s(null),J=()=>I("mtGroups","admin/group-list",k);M(k,o=>{o&&(E.value=o.groups.map(l=>({title:l.mt_group_name,value:l.id})))});const $=async()=>{u.value=null;const o=await fe("/client/sorted-mt5-list",{method:"POST",body:{keyword:m.value,page:C.value,RM:g.value,category_id:v.value,group_id:V.value,deposit_status:h.value,joined_from:b.value,joined_to:y.value},onResponseError({response:l}){console.log(l)}});u.value=o},Q=P(()=>{var o;return((o=u.value)==null?void 0:o.result.mt5List.data)||[]}),S=P(()=>{var o;return((o=u.value)==null?void 0:o.result.mt5List.total)||0});ve(async()=>{m.value="",ce(),_e(),H(),J(),$()}),M([C,L,h,g,V,v,m,j,F,b,y],()=>{$()},{deep:!0,immediate:!1}),he(()=>{});const N=s(!1),Y=Ve(),q=o=>{D("view_client_profile")&&Y.push(`/client/client-${o}-home-null-details`)};return(o,l)=>{const K=pe,A=ue,X=me,O=re,Z=ne,ee=ie,te=se,le=ae;return n(),p("section",null,[t(K),t(be,{class:"mb-6"},{default:i(()=>[t(x,null,{default:i(()=>[t(ye,null,{default:i(()=>[w.value?(n(),d(f,{key:0,cols:"12",sm:"2"},{default:i(()=>[t(A,{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=e=>v.value=e),label:"Group Categories",placeholder:"MT5 Group Category",items:U.value,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):c("",!0),k.value?(n(),d(f,{key:1,cols:"12",sm:"2"},{default:i(()=>[t(A,{label:"MT Group",modelValue:V.value,"onUpdate:modelValue":l[1]||(l[1]=e=>V.value=e),placeholder:"MT5 Group",items:E.value,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):c("",!0),("hasAccess"in o?o.hasAccess:T(D))("view_all_clients")||("hasAccess"in o?o.hasAccess:T(D))("view_my_team_clients")?(n(),d(X,{key:2,modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=e=>g.value=e)},null,8,["modelValue"])):c("",!0),t(f,{cols:"12",sm:"2"},{default:i(()=>[t(A,{modelValue:h.value,"onUpdate:modelValue":l[3]||(l[3]=e=>h.value=e),label:"Deposit Status",placeholder:"Deposit Status",items:W,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(f,{cols:"12",sm:"2"},{default:i(()=>[t(O,{modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=e=>b.value=e),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(f,{cols:"12",sm:"2"},{default:i(()=>[t(O,{modelValue:y.value,"onUpdate:modelValue":l[5]||(l[5]=e=>y.value=e),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(z),t(x,{class:"d-flex flex-wrap gap-4"},{default:i(()=>[a("div",Ae,[a("div",Me,[t(Z,{label:"Search by Name/Email/MT5 ID",modelValue:m.value,"onUpdate:modelValue":l[6]||(l[6]=e=>m.value=e),placeholder:"Search User"},null,8,["modelValue"])])]),t(Ce),a("div",Ge,[a("p",xe,"TOTAL LISTED COUNT : "+r(S.value?S.value:0),1)])]),_:1}),t(z),u.value?(n(),d(we,{key:0,height:"800","fixed-header":"",class:"text-no-wrap"},{default:i(()=>[a("thead",null,[a("tr",null,[Le,Ue,a("th",null,[t(G,{icon:"tabler-badge-filled",size:"16"}),_(" LEVERAGE ")]),a("th",null,[t(G,{icon:"tabler-bookmark-filled",size:"16"}),_(" MT5 GROUP ")]),a("th",null,[t(G,{icon:"tabler-bookmarks-filled me-1",size:"16"}),_(" CATEGORY ")]),Ee,$e,Ne])]),a("tbody",null,[(n(!0),p(R,null,B(Q.value,e=>(n(),p("tr",{class:"",key:e.id},[a("td",Oe,[t(De,{size:"x-small"},{default:i(()=>[_(" #"+r(e.id),1)]),_:2},1024),Ie,_(" "+r(("formatDateToMonthShort"in o?o.formatDateToMonthShort:T(oe))(e.created_at)),1)]),a("td",null,[t(ee,{client_id:e.client_id,mt_id:e.mt5_id,is_wallet:e.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),a("td",null," 1:"+r(e.leverage),1),a("td",null,r(e.mt_group_name),1),a("td",null,r(e.category_name),1),a("td",null,[t(Te,{class:"card-list"},{default:i(()=>[t(te,{client_name:e.client_name,client_id:e.client_id,email:e.email,client_pic:e.client_pic},null,8,["client_name","client_id","email","client_pic"])]),_:2},1024)]),a("td",null,[e.rm_name?(n(),d(le,{key:0,rm_name:e.rm_name,rm_id:e.manager_id},null,8,["rm_name","rm_id"])):c("",!0)]),("hasAccess"in o?o.hasAccess:T(D))("view_client_profile")?(n(),p("td",Pe,[t(ge,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-address-book",onClick:ze=>q(e.client_id)},null,8,["onClick"])])):c("",!0)]))),128))])]),_:1})):(n(),p(R,{key:1},B(3,e=>t(ke,{key:e,type:"table-tbody"})),64)),t(x,{class:"pt-2"},{default:i(()=>[a("div",Re,[t(Se,{modelValue:C.value,"onUpdate:modelValue":l[7]||(l[7]=e=>C.value=e),"total-visible":o.$vuetify.display.smAndDown?3:5,length:Math.ceil(S.value/L.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1}),t(de,{isDrawerOpen:N.value,"onUpdate:isDrawerOpen":l[8]||(l[8]=e=>N.value=e)},null,8,["isDrawerOpen"])])}}};export{Qt as default};
