import{r as y,e as x}from"./validators-DpYrMFzk.js";import{r,i as C,j as R,o as B,f as L,e as s,b as a,m as o,b0 as S,aV as q,ah as I,t as f,d as m,b6 as V,a_ as P}from"./index-BfFzL8HD.js";import{u as _}from"./useGenerateImageVariant-DaxKBaVW.js";import{a as T,b as D,c as M,d as N}from"./auth-v2-login-illustration-light-8U3Ay0LB.js";import{a as $,b as j}from"./misc-mask-light-CdCn4Q-o.js";import{_ as h}from"./AppTextField-D61XLKqr.js";import{u as F}from"./useAbility-DDuvesVC.js";import{$ as U}from"./api-Dd2XHtBi.js";import{V as A}from"./VCard-DHhXA2Um.js";import{V as E}from"./VCardText-ne-ZDoNX.js";import{V as G}from"./VForm-CAIvYnNA.js";import{a as l,V as O}from"./VRow-CXSZJOwo.js";import{V as W}from"./VCheckbox-BQgl9vp_.js";import"./helpers-DK5QwNv0.js";import"./form-DZEHER5T.js";import"./VTextField-CokzQfcL.js";/* empty css                   */import"./VCounter-B4v9Z0ap.js";import"./index-DodEhehf.js";import"./VImg-z6XZYEVR.js";import"./VField-hVDyS4h_.js";import"./easing-CjukEv2V.js";import"./VInput-CUfBRsW1.js";import"./forwardRefs-C-GTDzx5.js";import"./index-B3bPRkoL.js";import"./createSimpleFunctional-CsZrM1cY.js";import"./VCardTitle-1x6BYT8h.js";import"./VAvatar-BkQNYRRk.js";/* empty css              */import"./VCheckboxBtn-DaabrkgH.js";import"./VSelectionControl-z7CJLcPb.js";const z=m("h1",{class:"mb-2 mt-5"},"Paperbot Trade Copier",-1),H=m("h2",{class:"mb-2 mt-3 pt-3"},"Welcome Back! ",-1),J=m("p",null,"Please sign in to your account",-1),K=m("a",{href:"#",class:"text-primary"},"Forgot Password?",-1),Q=m("a",{class:"text-primary"},"Contact Support Team",-1),Se={__name:"login",setup(X){_(N,M,D,T,!0),_(j,$);const d=r(!1),b=C(),v=R(),w=F(),n=r(!1),p=r(!1);r(!1);const g=r({email:void 0,password:void 0});r();const i=r({email:"",password:""}),c=r(!1),k=async()=>{n.value=!0,p.value=!0;try{const t=await U("/login",{method:"POST",body:{email:i.value.email,password:i.value.password},onResponseError({response:e}){console.log(e),e._data.error?g.value.password=e._data.error:e._data.message&&(g.value.password=e._data.message),n.value=!1,p.value=!1}});V("userAbilityRules").value=t.abilityRules,w.update(t.abilityRules),V("userData").value=t.user,V("accessToken").value=t.token,await P(()=>{n.value=!1,p.value=!1,v.replace(b.query.to?String(b.query.to):"/")})}catch(t){console.error(t)}};return(t,e)=>(B(),L(O,{"no-gutters":"",align:"center",justify:"center",class:"bg-surface",style:{height:"100vh"}},{default:s(()=>[a(l,{cols:"12",sm:"4",md:"4",lg:"4"},{default:s(()=>[a(A,{class:"pa-4",elevation:"10"},{default:s(()=>[a(E,{class:""},{default:s(()=>[z,H,J]),_:1}),a(o(G),{class:"px-4",onSubmit:S(k,["prevent"])},{default:s(()=>[a(l,{cols:"12"},{default:s(()=>[a(h,{modelValue:o(i).email,"onUpdate:modelValue":e[0]||(e[0]=u=>o(i).email=u),label:"Email",placeholder:"you@example.com",rules:["requiredValidator"in t?t.requiredValidator:o(y),"emailValidator"in t?t.emailValidator:o(x)],type:"email",autofocus:""},null,8,["modelValue","rules"])]),_:1}),a(l,{cols:"12"},{default:s(()=>[a(h,{modelValue:o(i).password,"onUpdate:modelValue":e[1]||(e[1]=u=>o(i).password=u),label:"Password",placeholder:"路路路路路路路路",rules:["requiredValidator"in t?t.requiredValidator:o(y)],type:o(d)?"text":"password","append-inner-icon":o(d)?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=u=>d.value=!o(d))},null,8,["modelValue","rules","type","append-inner-icon"])]),_:1}),a(l,{cols:"12",class:"d-flex justify-space-between"},{default:s(()=>[a(W,{modelValue:o(c),"onUpdate:modelValue":e[3]||(e[3]=u=>q(c)?c.value=u:null),label:"Remember me"},null,8,["modelValue"]),K]),_:1}),a(l,{cols:"12"},{default:s(()=>[a(I,{type:"submit",block:"",loading:o(n),color:"primary"},{default:s(()=>[f(" Sign In ")]),_:1},8,["loading"])]),_:1}),a(l,{cols:"12",class:"text-center text-body-2 mt-2"},{default:s(()=>[f(" Need help? "),Q]),_:1})]),_:1}),a(l,{cols:"12",class:"text-center text-caption mt-6"},{default:s(()=>[f(" 漏 2025 PaperBot Fintech Solutions ")]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Se as default};
