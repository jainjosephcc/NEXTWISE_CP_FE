import{u as f}from"./useApi-58u6MnBJ.js";import{$ as m}from"./api-UAnGyNU9.js";import{r as s}from"./index-D3l41LHo.js";const u=e=>{const t=localStorage.getItem(e);if(!t)return null;const a=JSON.parse(t);return new Date().getTime()>a.expiry?(localStorage.removeItem(e),null):a.value},d=(e,t,a)=>{const n={value:t,expiry:new Date().getTime()+a};localStorage.setItem(e,JSON.stringify(n))},r=s({}),p=s([]),_=s([]),g=s([]),i=s([]),y=s([]),v=s(null),c=s([]),S=s([]),D=async()=>{const e=u("staff_list");if(e&&e.length>10&&e!=="undefined")i.value=JSON.parse(e);else{const t=await f("/data/staff-list",{method:"GET"});t.data.value.result&&(i.value=t.data.value.result.staff_list,d("staff_list",JSON.stringify(i.value)))}y.value=i.value.map(t=>({title:t.staff_name,value:t.id.toString()}))},L=async()=>{const e=u("header_data");if(e)v.value=e;else try{const t=await m("/data/header-list",{method:"GET",onResponseError({response:a}){}});t.result&&(v.value=t.result,d("header_data",t.result,5*60*1e3))}catch(t){console.error("Error fetching header data:",t)}},G=async()=>{const e=u("transfers_filter_dd_data");if(e)r.value=e;else try{const t=await f("/transactions/dropdown-data",{method:"GET"});t.data.value.result&&(r.value=t.data.value.result,d("transfers_filter_dd_data",r.value,24*60*60*1e3))}catch(t){console.error("Error fetching transaction header data:",t)}p.value=r.value.currencies.map(t=>({title:t.code,value:t.id.toString()})),_.value=r.value.payment_methods.map(t=>({title:t.payment_name,value:t.id.toString()})),g.value=r.value.withdraw_methods.map(t=>({title:t.method,value:t.id.toString()}))},J=async()=>{const e=localStorage.getItem("country_list");if(e&&e.length>50&&e!=="undefined")c.value=JSON.parse(e);else{const t=await f("/data/country-list",{method:"GET"});t.data.value.result&&(c.value=t.data.value.result.country_list,localStorage.setItem("country_list",JSON.stringify(c.value)))}S.value=c.value.map(t=>({title:t.name,value:t.id.toString()}))},N=async(e,t,a)=>{const n=u(e);n&&(a.value=n);const l=await m(t,{method:"GET",onResponseError({response:h}){console.error(h)}});if(l)return a.value=l,d(e,l,36e5),l},O=async(e,t)=>{const a=await m(e,{method:"GET",onResponseError({response:o}){console.error(o)}});if(a)return t.value=a,a};export{N as a,G as b,S as c,p as d,O as e,D as f,J as g,v as h,L as i,_ as p,i as s,g as w};
