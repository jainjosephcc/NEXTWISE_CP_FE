import{f as We}from"./formatters-MfVJSZma.js";import{_ as $e}from"./ConfirmDialog-C3KTWwEA.js";import{_ as Te}from"./DialogCloseBtn-DI4p19x4.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as F,b as Fe}from"./VCard-DKDRkIoH.js";import{V as de}from"./VCardTitle-dZh1ieqJ.js";import{V as oe}from"./VDivider-5x_iBr5U.js";import{V as se,a as h}from"./VRow-BvUGedaW.js";import{V as Ee}from"./VSkeletonLoader-BKmj1uWh.js";import{V as G}from"./VCardText-VyBmJXPn.js";import{r as s,o as v,c as q,b as e,e as l,d as t,t as d,F as fe,h as Ve,f as O,x as je,H as Pe,v as c,ai as _,w as Ce,b0 as Ge,y as z,m as W,a0 as ke,b9 as ze,ba as Ae,a5 as Ue,E as Xe}from"./index-D1wpZbIu.js";import{V as ue}from"./VDialog-BHrtIyf0.js";import{_ as Ke,a as Qe}from"./AddSlavesDialog-_AzITWSx.js";import{r as he}from"./validators-DpYrMFzk.js";import{_ as He}from"./AppSelect-Ba94vubz.js";import{_ as Ie}from"./AppTextField--9boQEHq.js";import{$ as te}from"./api-CZThb0As.js";import{V as Ye}from"./VForm-HpC9CO4V.js";import{V as Be}from"./VTable-Bm5-Lsq_.js";import{a as be,b as xe}from"./VList-DMQ33AEG.js";import{V as X}from"./VAvatar-BdL9cLqL.js";import{V as ae}from"./VChip-D0lTDIMf.js";import{V as ye}from"./VImg-CZeKFoIy.js";import{V as pe}from"./VSwitch-Cv-6bv0I.js";import{V as Je}from"./VPagination-BxLpmNeY.js";import"./helpers-DK5QwNv0.js";import"./createSimpleFunctional-CHDm7OKT.js";/* empty css              */import"./VOverlay-BDv7FBdx.js";import"./easing-CjukEv2V.js";import"./lazy-BUdACFqA.js";import"./scopeId-DuQ8HD0W.js";import"./transition-DI64r8B2.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-CyYFvHTT.js";import"./VSlideGroup-Cf_Wy7Ht.js";import"./index-qHcCSCd7.js";import"./VSlideGroupItem-BvdiZipD.js";import"./AppTextarea-B-pRGOv4.js";import"./form-C-VBVvQU.js";import"./VTextarea-Fo-SiG6F.js";/* empty css                   */import"./VCounter-D0lpfgDN.js";import"./VField-BKmLkQ-8.js";import"./VInput-BRlakMdJ.js";import"./VCheckbox-BiX5RPgS.js";import"./VCheckboxBtn-CtpXaLKT.js";import"./VSelectionControl-DyTeC7vw.js";import"./VSpacer-4nysU2Pe.js";import"./VSelect-Dl7trU0N.js";import"./VTextField-75lvywKs.js";import"./VMenu-Co6aMytZ.js";import"./index-B3bPRkoL.js";import"./ssrBoot-bsSlj0BA.js";const Ze={class:"sticky-card"},el={key:0,class:"pa-3 pa-sm-4"},ll={class:"text-base font-weight-medium"},tl={__name:"changeMasterSlaveDialog",props:{isDialogVisible:{type:Boolean,required:!0},masterList:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(f,{emit:K}){const S=s(0),b=f,L=K,g=A=>{L("update:isDialogVisible",A)};function m(){L("masterChanged",b.masterList[S.value].id),g()}return(A,p)=>{const M=Te;return v(),q("section",null,[e(ue,{width:A.$vuetify.display.smAndDown?"auto":650,"model-value":b.isDialogVisible,"onUpdate:modelValue":g},{default:l(()=>[e(M,{onClick:p[0]||(p[0]=x=>g(!1))}),e(F,null,{default:l(()=>[t("div",Ze,[e(de,{class:"pt-3"},{default:l(()=>[d("Change Master ")]),_:1}),e(oe)]),e(Fe,{class:"pt-5 pb-5"},{default:l(()=>[d("Select Master")]),_:1}),f.masterList?(v(),q("div",el,[e(se,null,{default:l(()=>[(v(!0),q(fe,null,Ve(f.masterList,(x,y)=>(v(),O(h,{key:x.id,cols:"12",sm:"4",md:"4"},{default:l(()=>[e(F,{class:je(["d-flex flex-column justify-center align-center cursor-pointer rounded px-1",S.value===y?"border":"border border-dashed"]),style:Pe(S.value===y?"border-color: rgb(var(--v-theme-primary)) !important":""),onClick:I=>S.value=y},{default:l(()=>[e(de,{class:"text-center"},{default:l(()=>[t("h6",ll,c(x.mc_name),1)]),_:2},1024)]),_:2},1032,["class","style","onClick"])]),_:2},1024))),128))]),_:1})])):(v(),q(fe,{key:1},Ve(3,x=>e(Ee,{key:x,type:"list-item-two-line"})),64)),e(G,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(_,{variant:"tonal",color:"secondary",onClick:p[1]||(p[1]=x=>g(!1))},{default:l(()=>[d(" Close ")]),_:1}),e(_,{color:"primary",onClick:p[2]||(p[2]=x=>m())},{default:l(()=>[d(" Change Master ")]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}},al=Le(tl,[["__scopeId","data-v-f839803a"]]),Oe=f=>(ze("data-v-2bc61d8f"),f=f(),Ae(),f),sl={class:"sticky-card"},ol=Oe(()=>t("span",{class:"text-body"},"Master Name :",-1)),il={class:"d-flex align-center"},nl={class:"text-body-1"},rl={class:"d-flex align-center gap-x-2"},ul={class:"text-body-1"},dl={class:"pr-1"},cl={class:"d-flex align-center"},ml={class:"text-body-1"},vl={class:"d-flex align-center gap-x-2"},pl={class:"text-body-1"},fl={key:0,class:"error-message"},_l={class:"text-h4 mb-4"},gl=Oe(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),hl={class:"text-h4 mb-4"},bl={__name:"EditSlavesDialog",props:{isDialogVisible:{type:Boolean,required:!0},masterDetails:{type:Object,required:!0},slaveList:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(f,{emit:K}){const S=s(null),b=s("");s(null),s(!0),s(null);const L=s(!1),g=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],m=s(null),A=s(0),p=s(!1),M=s(!1),x=s(!1),y=s(!1),I=s(0),N=s(!1),U=s(!1),Q=s(!1);let ne=s(""),V=s(""),D=s(""),H=s("");const $=s(!1),Y=s(null);s(null);const j=s(null),J=s(null),Z=s(!1),T=f,ce=K,C=u=>{ce("update:isDialogVisible",u)},k=u=>/^(\d+|\d*\.\d{1,2})$/.test(u.toString())||"Must be a number with up to 2 decimal places";Ce(()=>T.slaveList,u=>{u&&(S.value=u.id||"",L.value=u.is_config_unique===1,b.value=u.sl_mt5_id||"",m.value=u.risk_approach,A.value=u.multiplier,Y.value=u.lot_size,p.value=u.copy_sl===1,M.value=u.copy_tp===1,x.value=u.is_reverse===1,I.value=u.fixed_balance,j.value=u.commission_percentage??"",y.value=u.status===1)},{immediate:!0});const _e=async u=>{var n,re;if(u){$.value=!0;try{await te("slaves/update",{method:"POST",body:{id:T.slaveList.id,master_id:(n=T.masterDetails)==null?void 0:n.id,sl_mt5_id:b.value,server_id:(re=T.masterDetails)==null?void 0:re.server_id,is_config_unique:L.value,risk_approach:m.value,lot_size:Y.value,multiplier:A.value,fixed_balance:I.value,copy_sl:p.value,copy_tp:M.value,is_reverse:x.value,status:y.value,is_live:!0,commission_percentage:j.value},onResponseError({response:me}){ne.value="Something Went Wrong!",V.value=me._data.message,$.value=!1,U.value=!0}})&&(D.value="Success!",H.value="Slave Updated Successfully!",$.value=!1,Q.value=!0)}catch{ne.value="Something Went Wrong!",V.value="Something Went Wrong!",$.value=!1,U.value=!0}}};Ce(b,()=>{T.masterDetails.mc_mt5_id==b.value?(J.value="Master ID and Slave ID cannot be the same",Z.value=!0):(J.value=null,Z.value=!1)});const ge=()=>{ce("reload",T.masterDetails.id),Q.value=!1,U.value=!1,C(!1)};return(u,n)=>{const re=Te,R=Ie,me=He,De=$e;return v(),q("section",null,[e(ue,{width:u.$vuetify.display.smAndDown?"auto":650,"model-value":T.isDialogVisible,"onUpdate:modelValue":C},{default:l(()=>[e(re,{onClick:n[0]||(n[0]=r=>C(!1))}),e(F,null,{default:l(()=>[t("div",sl,[e(de,{class:"pt-3"},{default:l(()=>[d("Edit Slave Account")]),_:1}),e(oe)]),e(Ye,{onSubmit:Ge(()=>{},["prevent"])},{default:l(()=>[e(se,null,{default:l(()=>[e(Be,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(be,null,{append:l(()=>[t("div",il,[t("div",nl,c(f.masterDetails.mc_name),1)])]),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(X,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),ol]),_:1})]),_:1})]),t("td",null,[e(be,null,{append:l(()=>[t("div",rl,[t("div",ul,[e(ae,{size:"medium",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[t("div",dl,[e(ye,{src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}})]),d(" "+c(f.masterDetails.mc_mt5_id),1)]),_:1})])])]),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(X,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),d(" MT5 ACCOUNT : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(be,null,{append:l(()=>{var r,ee;return[t("div",cl,[t("div",ml,c((ee=(r=f.masterDetails)==null?void 0:r.server)==null?void 0:ee.company_name),1)])]}),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(X,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),d(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(be,null,{append:l(()=>{var r,ee;return[t("div",vl,[t("div",pl,c((ee=(r=f.masterDetails)==null?void 0:r.server)==null?void 0:ee.server_name),1)])]}),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(X,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),d(" Server Name : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(oe,{class:"mb-2"}),e(se,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(h,{cols:"6"},{default:l(()=>[t("div",null,[e(R,{label:"MT5 ID",modelValue:b.value,"onUpdate:modelValue":n[1]||(n[1]=r=>b.value=r),disabled:""},null,8,["modelValue"])]),J.value?(v(),q("div",fl,c(J.value),1)):z("",!0)]),_:1}),e(h,{cols:"6"},{default:l(()=>[e(R,{label:"Commission",modelValue:j.value,"onUpdate:modelValue":n[2]||(n[2]=r=>j.value=r),suffix:"%"},null,8,["modelValue"])]),_:1}),e(h,{cols:"6"},{default:l(()=>[e(me,{modelValue:m.value,"onUpdate:modelValue":n[3]||(n[3]=r=>m.value=r),items:g,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in u?u.requiredValidator:W(he)]},null,8,["modelValue","rules"])]),_:1}),m.value==="FIXL"?(v(),O(h,{key:0,cols:"6",class:""},{default:l(()=>[e(R,{label:"Lot Size",modelValue:Y.value,"onUpdate:modelValue":n[4]||(n[4]=r=>Y.value=r),type:"number",min:"0",rules:["requiredValidator"in u?u.requiredValidator:W(he),k]},null,8,["modelValue","rules"])]),_:1})):z("",!0),m.value==="LMUL"||m.value==="BMUL"||m.value==="EMUL"||m.value==="FBMUL"?(v(),O(h,{key:1,cols:"6",class:""},{default:l(()=>[e(R,{label:"Multiplier",modelValue:A.value,"onUpdate:modelValue":n[5]||(n[5]=r=>A.value=r),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in u?u.requiredValidator:W(he),k]},null,8,["modelValue","rules"])]),_:1})):z("",!0),m.value==="FBMUL"?(v(),O(h,{key:2,cols:"6"},{default:l(()=>[e(R,{label:"Fixed Master Balance",modelValue:I.value,"onUpdate:modelValue":n[6]||(n[6]=r=>I.value=r),type:"number",min:"0",rules:["requiredValidator"in u?u.requiredValidator:W(he),k]},null,8,["modelValue","rules"])]),_:1})):z("",!0)]),_:1}),L.value?(v(),O(de,{key:0,class:"mt-2"},{default:l(()=>[d("Advanced Settings")]),_:1})):z("",!0),L.value?(v(),O(se,{key:1,class:"ml-2"},{default:l(()=>[e(h,{cols:"4"},{default:l(()=>[e(pe,{modelValue:p.value,"onUpdate:modelValue":n[7]||(n[7]=r=>p.value=r),label:"Copy Stop Loss"},null,8,["modelValue"])]),_:1}),e(h,{cols:"4"},{default:l(()=>[e(pe,{modelValue:M.value,"onUpdate:modelValue":n[8]||(n[8]=r=>M.value=r),label:"Copy Take Profit"},null,8,["modelValue"])]),_:1}),e(h,{cols:"4"},{default:l(()=>[e(pe,{modelValue:x.value,"onUpdate:modelValue":n[9]||(n[9]=r=>x.value=r),label:"Reverse Trade"},null,8,["modelValue"])]),_:1})]),_:1})):z("",!0),e(se,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(h,{cols:"6"},{default:l(()=>[e(pe,{modelValue:y.value,"onUpdate:modelValue":n[10]||(n[10]=r=>y.value=r),label:y.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(se,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(h,{cols:"6"},{default:l(()=>[e(_,{color:"primary",onClick:n[11]||(n[11]=r=>N.value=!0),loading:$.value,disabled:Z.value},{default:l(()=>[d(" Update Slave ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(De,{isDialogVisible:N.value,"onUpdate:isDialogVisible":n[12]||(n[12]=r=>N.value=r),onConfirm:_e,"confirmation-question":"Do you want to update this slave?","cancel-title":"Cancel","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(ue,{modelValue:Q.value,"onUpdate:modelValue":n[13]||(n[13]=r=>Q.value=r),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(G,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(ke,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",_l,c(W(D)),1),t("p",null,c(W(H)),1),e(_,{color:"success",onClick:ge},{default:l(()=>[d("OK")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ue,{modelValue:U.value,"onUpdate:modelValue":n[14]||(n[14]=r=>U.value=r),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(G,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[gl]),_:1}),t("h1",hl,c(W(ne)),1),t("p",null,c(W(V)),1),e(_,{color:"success",onClick:ge},{default:l(()=>[d("Ok")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},xl=Le(bl,[["__scopeId","data-v-2bc61d8f"]]),ie=f=>(ze("data-v-523ed08a"),f=f(),Ae(),f),yl={class:"d-flex justify-space-between align-center border-r pb-3"},Vl={class:"d-flex flex-column mb-6 align-items-start"},Dl={class:"d-flex align-items-center"},Sl={class:"text-h5 m-0",style:{"margin-right":"55px"}},Cl=ie(()=>t("span",{class:"text-body-1 text-capitalize mt-2"},"MASTER ACCOUNT ID",-1)),kl={class:"d-flex flex-column align-center pb-6"},Ll={class:"d-flex justify-space-between align-center border-r"},wl={class:"d-flex flex-column"},Ml={class:"text-h5"},Ul=ie(()=>t("span",{class:"text-body-1 text-capitalize"},"Master",-1)),$l={class:"d-flex justify-space-between align-center border-r"},Tl={class:"d-flex flex-column"},El={class:"text-h6"},zl=ie(()=>t("span",{class:"text-body-2 text-capitalize"},"Server",-1)),Al={class:"d-flex justify-space-between align-center border-r"},Il={class:"d-flex flex-column"},Bl={class:"text-h5"},Ol=ie(()=>t("span",{class:"text-body-1 text-capitalize"},"Manager",-1)),ql={class:"d-flex flex-column align-end"},Nl={class:"d-flex gap-4 align-center flex-wrap"},Rl={class:"d-flex align-items-center gap-2"},Wl={class:"text-warning"},Fl={class:"d-flex align-center flex-wrap gap-4"},jl={class:"invoice-list-filter"},Pl=ie(()=>t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"SLAVE ACCOUNT"),t("th",null,"STRATEGY"),t("th",null,"VALUE"),t("th",null,"COMMISSION"),t("th",null,"ADDITIONAL SETTINGS"),t("th",null,"STATUS"),t("th",null,"ACTION")])],-1)),Gl={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Xl=ie(()=>t("br",null,null,-1)),Kl={class:"pr-1"},Ql={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Hl={class:"text-h4 mb-4"},Yl=ie(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),Jl={class:"text-h4 mb-4"},Zl={__name:"index",setup(f){const K=s(!1),S=s({}),b=s([]),L=s([]),g=s({}),m=s([]),A=s([]),p=s(!1),M=s(!1),x=s(null),y=s(!1),I=s(!1),N=s(""),U=s(""),Q=s(""),ne=s(""),V=s(""),D=s(!1),H=s(!1),$=s(!1),Y=s(null),j=s(!1),J=s(!1);s(null);const Z=s(!1),T=s(!1),ce=s(!1);Ue(()=>ce.value?"Active":"Turn on the progress"),Ue(()=>ce.value),Xe(async()=>{await ge()});const C=s(15),k=s(1),_e=s(0),ge=async()=>{try{const o=await te("/meta-servers",{method:"GET",onResponseError({response:i}){console.error("Error fetching server list:",i)}});b.value=o.data,b.value.length&&(S.value=b.value[0],H.value=S.value.id,await u(S.value.id))}catch(o){console.error("Error fetching server list:",o)}},u=async()=>{try{const o=await te(`/masters?server_id=${H.value}`,{method:"GET",onResponseError({response:i}){console.error("Error response:",i)}});o?(L.value=o.data,g.value=L.value[0],D.value=g.value.id,A.value=o.data.map(i=>({text:i.mc_name,value:i.id})),await n(D.value,C.value,k.value,V.value)):console.error("Failed to fetch master list or empty response")}catch(o){console.error("Error fetching master list:",o)}},n=async(o,i,E,w)=>{$.value=!0;try{let B=`/slaves?master_id=${o}&per_page=${i}&page=${E}`;V.value.length>1&&(B+=`&search=${encodeURIComponent(V.value)}`);const P=await te(B,{method:"GET",onResponseError({response:ve}){console.error("Error fetching slave data:",ve)}});m.value=[],P&&P.data?(m.value=P.data.data,_e.value=P.data.total,C.value=P.data.per_page,$.value=!1):(console.error("No data found in the response"),$.value=!1),m.value=P.data.data.map(ve=>({...ve,loading:!1}))}catch(B){console.error("Error fetching slave data:",B),$.value=!1}},re=o=>{H.value=o,S.value=b.value.find(i=>i.id===H.value),u()};function R(o){x.value=o,K.value=!0}const me=o=>{D.value=o,g.value=L.value.find(i=>i.id===D.value),n(D.value,C.value,k.value,V.value)};function De(){Z.value=!0}function r(o){Y.value=o.id,D.value=o.master_id,j.value=!0,n(D.value,C.value,k.value,V.value)}const ee=async o=>{if(o){y.value=!0;try{await te("slaves/delete",{method:"POST",body:{id:Y.value},onResponseError({response:E}){N.value="Something Went Wrong !",U.value=E._data.message,y.value=!1,p.value=!0}})&&(Q.value="Success !",ne.value="Slave Deleted Successfully !",y.value=!1,M.value=!0)}catch{N.value="Something Went Wrong !",U.value="Something Went Wrong !",y.value=!1,p.value=!0}}},we=async o=>{M.value=!1,p.value=!1,n(D.value,C.value,k.value,V.value),Se.value=!1};Ce([k,C,V],()=>{n(D.value,C.value,k.value,V.value)},{deep:!0,immediate:!1});const qe=async()=>{T.value=!0;try{const o=`/masters/${D.value}/slaves-report`,i=await te(o,{method:"GET",onResponseError({response:E}){console.error("Error fetching slave data:",E)}});if(i){const E=new Blob([i],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),B=URL.createObjectURL(E);w.setAttribute("href",B),w.setAttribute("download","slaves_report.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w),T.value=!1}else console.error("No data found in the response")}catch(o){console.error("Error fetching slave data:",o)}},Me=o=>{I.value=!1,n(o,C.value,k.value,V.value),Se.value=!1},Se=s(!1);function Ne(o){o.loading=!0,D.value=o.master_id;const i={...o,loading:!0};console.log(o,"slaa"),Se.value=!0;try{if(te("slaves/update",{method:"POST",body:{id:o.id,master_id:o.master_id,sl_mt5_id:o.sl_mt5_id,server_id:o.server_id,is_config_unique:o.is_config_unique,risk_approach:o.risk_approach,lot_size:o.lot_size,multiplier:o.multiplier,fixed_balance:o.fixed_balance,copy_sl:o.copy_sl,copy_tp:o.copy_tp,is_reverse:o.is_reverse,status:o.status,is_live:o.is_live,commission_percentage:o.commission_percentage},onResponseError({response:w}){N.value="Something Went Wrong!",U.value="Something Went Wrong!",p.value=!0,o.loading=!1}})){i.status=o.status,i.loading=!1;const w=m.value.findIndex(B=>B.id===o.id);w!==-1&&m.value.splice(w,1,i)}}catch{N.value="Something Went Wrong!",U.value="Something Went Wrong!",p.value=!0,i.loading=!1}finally{i.loading=!1}}return(o,i)=>{const E=Ie,w=Ke,B=xl,P=Qe,ve=al,Re=$e;return v(),q(fe,null,[t("section",null,[e(F,{class:"mb-6"},{default:l(()=>[e(G,{class:"px-3"},{default:l(()=>[e(se,null,{default:l(()=>[e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>{var a;return[t("div",yl,[t("div",Vl,[t("div",Dl,[e(ye,{src:"/images/svg/mt5_lined.svg",style:{width:"30px",height:"30px","margin-right":"8px"}}),t("h5",Sl,c(((a=g.value)==null?void 0:a.mc_mt5_id)||"--"),1)]),Cl]),t("div",kl,[e(_,{icon:"tabler-refresh",rounded:"",color:"primary",onClick:De})])])]}),_:1}),e(oe,{vertical:""}),e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>{var a;return[t("div",Ll,[t("div",wl,[t("h5",Ml,c(((a=g.value)==null?void 0:a.mc_name)||"--"),1),Ul]),e(ae,{color:"primary",outlined:""},{default:l(()=>[d(" ACTIVE ")]),_:1})])]}),_:1}),e(oe,{vertical:""}),e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",$l,[t("div",Tl,[t("h5",El,c(S.value.server_name),1),zl]),e(X,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(ke,{icon:"tabler-server-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(oe,{vertical:""}),e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",Al,[t("div",Il,[t("h5",Bl,c(S.value.manager_name),1),Ol]),t("div",ql,[e(_,{icon:"tabler-user",rounded:"",variant:"outlined",color:"secondary"})])])]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{id:"invoice-list"},{default:l(()=>[e(G,{class:"d-flex justify-space-between align-center flex-wrap"},{default:l(()=>[t("div",Nl,[t("div",Rl,[e(de,{class:"d-flex align-items-center mr-0"},{default:l(()=>[d(" Mapped Slave Accounts : ")]),_:1}),e(de,{class:"d-flex text-warning"},{default:l(()=>{var a;return[d(c((a=g.value)==null?void 0:a.mc_name)+" ",1),e(ae,{class:"d-flex align-items-center ml-3",variant:"outlined",color:"warning"},{default:l(()=>{var le;return[e(ye,{src:"/images/svg/mt5_lined.svg",style:{width:"24px",height:"24px","margin-right":"8px"}}),t("h3",Wl,c(((le=g.value)==null?void 0:le.mc_mt5_id)||"--"),1)]}),_:1})]}),_:1})])]),t("div",Fl,[t("div",jl,[e(E,{modelValue:V.value,"onUpdate:modelValue":i[0]||(i[0]=a=>V.value=a),placeholder:"Search Slave Account"},null,8,["modelValue"])]),e(_,{onClick:i[1]||(i[1]=a=>I.value=!0)},{default:l(()=>[d(" Add Slave Account ")]),_:1}),e(_,{onClick:qe,loading:T.value},{default:l(()=>[d(" Download ")]),_:1},8,["loading"])])]),_:1}),e(oe),m.value.length>0?(v(),O(Be,{key:0,height:"800","fixed-header":"",class:"text-no-wrap"},{default:l(()=>[Pl,t("tbody",null,[(v(!0),q(fe,null,Ve(m.value,a=>(v(),q("tr",{key:a.id},[t("td",Gl,[e(ae,{size:"x-small"},{default:l(()=>[d(c(a.id),1)]),_:2},1024),Xl,d(" "+c(("formatDateToMonthShort"in o?o.formatDateToMonthShort:W(We))(a.created_at)),1)]),t("td",null,[e(ae,{size:"medium",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[t("div",Kl,[e(ye,{src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}})]),d(" "+c(a.sl_mt5_id),1)]),_:2},1024)]),t("td",null,c(a.risk_approach),1),t("td",null,c(a.risk_approach==="FBMUL"?`${a.fixed_balance} USD`:a.risk_approach==="FIXL"?`${a.lot_size} Lots`:a.risk_approach==="LMUL"||a.risk_approach==="BMUL"||a.risk_approach==="EMUL"?`${a.multiplier} %`:"N/A"),1),t("td",null,[d(c(a.commission_percentage)+"% ",1),a.commission_type==="ONPROFIT"?(v(),O(ae,{key:0,size:"x-small"},{default:l(()=>[d(" OnProfit ")]),_:1})):z("",!0),a.commission_type==="ONNET"?(v(),O(ae,{key:1,size:"x-small"},{default:l(()=>[d(" OnNet ")]),_:1})):z("",!0)]),t("td",null,[e(X,{rounded:"",color:a.is_reverse===1?"success":"error",icon:"tabler-a-b-2",variant:(a.is_reverse===1,"outlined"),class:"me-1",size:"30"},null,8,["color","variant"]),e(X,{rounded:"",color:a.copy_sl===1?"success":"error",variant:(a.copy_sl===1,"outlined"),class:"me-1 ms-2",size:"30"},{default:l(()=>[d("SL ")]),_:2},1032,["color","variant"]),e(X,{rounded:"",color:a.copy_tp===1?"success":"error",variant:(a.copy_tp===1,"outlined"),class:"me-1 ms-2",size:"30"},{default:l(()=>[d("TP ")]),_:2},1032,["color","variant"])]),t("td",null,[e(pe,{modelValue:a.status,"onUpdate:modelValue":le=>a.status=le,"true-value":1,"false-value":0,onChange:le=>Ne(a),loading:a.loading},{label:l(()=>[t("span",null,c(a.loading?"Loading":a.status===1?"Active":"Disabled"),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","loading"])]),t("td",null,[e(_,{color:"secondary",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-edit",onClick:le=>R(a)},null,8,["onClick"]),e(_,{color:"error",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-trash",onClick:le=>r(a),loading:y.value},null,8,["onClick","loading"])])]))),128))])]),_:1})):z("",!0),$.value?(v(),q(fe,{key:1},Ve(3,a=>e(Ee,{key:a,type:"table-tbody"})),64)):z("",!0),m.value.length>0?(v(),O(G,{key:2,class:"pt-2"},{default:l(()=>[t("div",Ql,[e(Je,{modelValue:k.value,"onUpdate:modelValue":i[2]||(i[2]=a=>k.value=a),"total-visible":o.$vuetify.display.smAndDown?3:5,length:Math.ceil(_e.value/C.value)},null,8,["modelValue","total-visible","length"])])]),_:1})):z("",!0)]),_:1})]),e(w,{isDialogVisible:I.value,"onUpdate:isDialogVisible":i[3]||(i[3]=a=>I.value=a),masterDetails:g.value,onReload:Me},null,8,["isDialogVisible","masterDetails"]),e(B,{isDialogVisible:K.value,"onUpdate:isDialogVisible":i[4]||(i[4]=a=>K.value=a),masterDetails:g.value,slaveList:x.value,onReload:Me},null,8,["isDialogVisible","masterDetails","slaveList"]),e(P,{isDialogVisible:J.value,"onUpdate:isDialogVisible":i[5]||(i[5]=a=>J.value=a),serverDetails:b.value,onServerChanged:re},null,8,["isDialogVisible","serverDetails"]),e(ve,{isDialogVisible:Z.value,"onUpdate:isDialogVisible":i[6]||(i[6]=a=>Z.value=a),masterList:L.value,onMasterChanged:me},null,8,["isDialogVisible","masterList"]),e(Re,{isDialogVisible:j.value,"onUpdate:isDialogVisible":i[7]||(i[7]=a=>j.value=a),onConfirm:ee,"confirmation-question":"Are you want to delete slave?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(ue,{modelValue:M.value,"onUpdate:modelValue":i[9]||(i[9]=a=>M.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(G,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(ke,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",Hl,c(Q.value),1),t("p",null,c(ne.value),1),e(_,{color:"success",onClick:i[8]||(i[8]=a=>we())},{default:l(()=>[d(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ue,{modelValue:p.value,"onUpdate:modelValue":i[10]||(i[10]=a=>p.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(G,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Yl]),_:1}),t("h1",Jl,c(N.value),1),t("p",null,c(U.value),1),e(_,{color:"success",onClick:we},{default:l(()=>[d(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},ea=Le(Zl,[["__scopeId","data-v-523ed08a"]]);export{ea as default};
