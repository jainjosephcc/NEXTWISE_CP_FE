import{h as Y}from"./permission-DR6oB80B.js";import{r as z}from"./validators-DpYrMFzk.js";import{r as o,E as ue,o as V,f as M,e as l,b as e,b0 as Z,m as D,c as q,y as H,ai as k,t as C,a0 as P,d as a,v as x,b9 as me,ba as ce,w as ie,a5 as De,F as J,h as de}from"./index-CBhVZTc4.js";import{_ as ee}from"./ConfirmDialog-BGSsLnNH.js";import{_ as le}from"./AppSelect-tvS57Qwf.js";import{_ as ae}from"./AppTextarea-B5Mualtg.js";import{_ as te}from"./AppTextField-CjSkXWoQ.js";import{_ as oe}from"./DialogCloseBtn-D3m39yH2.js";import{_ as xe}from"./CustomManagerSelectWidget-CGs7Bhcs.js";import{$ as se}from"./api-C6qNj58O.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as w,a as fe}from"./VCard-DzvGnMGY.js";import{V as ne}from"./VForm-DJUZjPyQ.js";import{V as W,a as T}from"./VRow-DHqMdoTH.js";import{V as E}from"./VDialog-B_-n48am.js";import{V as B}from"./VCardText-BOevd2Ra.js";import{e as ve}from"./apiUtils-DWYGUEex.js";import{V as _e}from"./VCardTitle-DmFFmBUz.js";import{V as ge,a as Ve}from"./VList-CJR07tl_.js";import{V as be}from"./VTable-rpuj3o2L.js";import{V as Q}from"./VChip-CebBU3Yz.js";import{V as ye}from"./VSkeletonLoader-POTo31gZ.js";import{V as Ae,a as $e}from"./VTabs-B8wavEH9.js";import{V as Ce,a as re}from"./VWindowItem-B1vcpcFc.js";import"./helpers-DK5QwNv0.js";import"./form-CHAnpK0q.js";import"./VSelect-Bb1LeguW.js";import"./VTextField-BNJDaVnd.js";/* empty css                   */import"./VCounter-D_PCOUfE.js";import"./index-CuZpdFX_.js";import"./transition-Bii-6cK3.js";import"./VField-Bnwqjrt3.js";import"./easing-CjukEv2V.js";import"./VInput-L1rHHHdb.js";import"./forwardRefs-C-GTDzx5.js";import"./VImg-DY51D92d.js";import"./dialog-transition-CKZfnOmQ.js";import"./VMenu-BZR14QVz.js";import"./VOverlay-ZCGm6oTg.js";import"./lazy-Dxhhn4Dl.js";import"./scopeId-BLvvDgI7.js";import"./VCheckboxBtn-DdKQthZ3.js";import"./VSelectionControl-tG6hWANL.js";import"./VAvatar-BzNqWKNR.js";import"./VTextarea-4DyS9GMU.js";import"./index-B3bPRkoL.js";import"./createSimpleFunctional-8IiIDXa4.js";/* empty css              */import"./useApi-TTbMCCJH.js";import"./ssrBoot-CH-p_BIW.js";import"./VDivider-Ck6IUcUu.js";import"./VSlideGroup-DB7CBl5R.js";const Se=$=>(me("data-v-fcac41eb"),$=$(),ce(),$),we=Se(()=>a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"}," Add Teams ")])])],-1)),Ue={key:0,class:"text-body-2 pt-3 pb-0 mb-3 text-error"},qe={class:"text-h4 mb-4"},Me=Se(()=>a("span",{class:"text-5xl font-weight-light"},"X",-1)),Ee={class:"text-h4 mb-4"},Re={__name:"AddStaffTeamsdialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup($,{emit:A}){const d=o(""),p=o(null),r=o(""),b=o(null),_=o(!1),f=o(!1),m=o(null),n=o(!1),c=o(!1);let h=o(""),u=o(""),S=o(""),U=o("");const F=[{text:"Active",value:1},{text:"Inactive",value:0}],N=$,I=A,L=t=>{I("update:isDialogVisible",t)},O=async t=>{if(t){_.value=!0;try{await se("/addStaffTeams",{method:"POST",body:{team_name:d.value,manager_id:p.value,description:r.value,status:b.value},onResponseError({response:v}){h.value="Something Went Wrong !",u.value=v._data.message,_.value=!1,n.value=!0}})&&(S.value="Success !",U.value="Team Created Successfully !",_.value=!1,c.value=!0)}catch(s){h.value="Something Went Wrong !",u.value=s.data.message,_.value=!1,n.value=!0}}},j=async t=>{window.location.reload()};function y(){d.value===null||r.value===null||b.value===null?m.value=!1:(m.value=!0,f.value=!0)}return ue(async()=>{}),(t,s)=>{const v=oe,R=te,K=ae,X=le,g=ee;return V(),M(E,{width:t.$vuetify.display.smAndDown?"auto":800,"model-value":N.isDialogVisible,"onUpdate:modelValue":L},{default:l(()=>[e(v,{onClick:s[0]||(s[0]=i=>L(!1))}),e(w,{class:"pa-6 pa-sm-10"},{default:l(()=>[we,e(ne,{onSubmit:Z(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(R,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=i=>d.value=i),label:"Team Name",rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(xe,{modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=i=>p.value=i)},null,8,["modelValue"]),e(T,{cols:"12",md:"12"},{default:l(()=>[e(K,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=i=>r.value=i),label:"Description","persistent-placeholder":"",rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"6"},{default:l(()=>[e(X,{modelValue:b.value,"onUpdate:modelValue":s[4]||(s[4]=i=>b.value=i),items:F,"item-title":"text","item-value":"value",label:"Status","single-line":"",rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),m.value===!1?(V(),q("p",Ue,"All fields are mandatory")):H("",!0),e(W,null,{default:l(()=>[e(T,{cols:"6"},{default:l(()=>[e(k,{class:"me-2",color:"primary",onClick:s[5]||(s[5]=i=>y()),loading:_.value},{default:l(()=>[C(" Add ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(g,{isDialogVisible:f.value,"onUpdate:isDialogVisible":s[6]||(s[6]=i=>f.value=i),onConfirm:O,"confirmation-question":"Are you sure you want to add this team?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"]),e(E,{modelValue:c.value,"onUpdate:modelValue":s[8]||(s[8]=i=>c.value=i),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(P,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",qe,x(D(S)),1),a("p",null,x(D(U)),1),e(k,{color:"success",onClick:s[7]||(s[7]=i=>j())},{default:l(()=>[C(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:n.value,"onUpdate:modelValue":s[9]||(s[9]=i=>n.value=i),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Me]),_:1}),a("h1",Ee,x(D(h)),1),a("p",null,x(D(u)),1),e(k,{color:"success",onClick:j},{default:l(()=>[C(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},Ge=pe(Re,[["__scopeId","data-v-fcac41eb"]]),ze=a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"}," Edit Team ")])])],-1),Oe={class:"text-h4 mb-4"},Ie=a("span",{class:"text-5xl font-weight-light"},"X",-1),We={class:"text-h4 mb-4"},Be={__name:"EditStaffTeamDialog",props:{selectedTeam:{type:Object,required:!1},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup($,{emit:A}){const d=o(""),p=o(""),r=o(""),b=o(null),_=o(null),f=o(!1),m=o(!1),n=o(!1),c=o(!1),h=o(""),u=o(""),S=o(""),U=o(""),F=[{text:"Active",value:1},{text:"Inactive",value:0}],N=o(["Team _kamal","Team_Sapna","Team_ kapil","Team _kamal"]),I=$,L=A,O=s=>{L("update:isDialogVisible",s)};ie(()=>I.selectedTeam,s=>{s&&(p.value=s.id,d.value=s.team_name,r.value=s.description,_.value=s.status)});const j=De(()=>N.value.includes(d.value)),y=async s=>{if(s){if(j.value){h.value="Validation Error",u.value="The Team name has already been taken.",n.value=!0;return}f.value=!0;try{await se("/EditStaffTeams",{method:"POST",body:{teamId:p.value,team_name:d.value,manager_id:b.value,description:r.value,status:_.value},onResponseError({response:R}){h.value="Something Went Wrong!",u.value=R._data.message,f.value=!1,n.value=!0}})&&(S.value="Updated!",U.value="Staff Team Updated Successfully!",f.value=!1,c.value=!0)}catch(v){h.value="Something Went Wrong!",u.value=v.data.message,f.value=!1,n.value=!0}}},t=()=>{window.location.reload()};return(s,v)=>{const R=oe,K=te,X=ae,g=xe,i=le,Te=ee;return V(),q("section",null,[e(E,{width:s.$vuetify.display.smAndDown?"auto":800,"model-value":I.isDialogVisible,"onUpdate:modelValue":O},{default:l(()=>[e(R,{onClick:v[0]||(v[0]=G=>O(!1))}),e(w,{class:"pa-6 pa-sm-10"},{default:l(()=>[ze,e(ne,{onSubmit:Z(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(K,{modelValue:p.value,"onUpdate:modelValue":v[1]||(v[1]=G=>p.value=G),label:"Team Id",disabled:""},null,8,["modelValue"])]),_:1}),e(T,{cols:"12"},{default:l(()=>[e(K,{modelValue:d.value,"onUpdate:modelValue":v[2]||(v[2]=G=>d.value=G),label:"Team Name",rules:["requiredValidator"in s?s.requiredValidator:D(z)],"error-messages":j.value?["The group name has already been taken."]:[]},null,8,["modelValue","rules","error-messages"])]),_:1}),e(T,{cols:"12",md:"12"},{default:l(()=>[e(X,{modelValue:r.value,"onUpdate:modelValue":v[3]||(v[3]=G=>r.value=G),label:"Description","persistent-placeholder":"",rules:["requiredValidator"in s?s.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"12"},{default:l(()=>[e(g,{modelValue:b.value,"onUpdate:modelValue":v[4]||(v[4]=G=>b.value=G)},null,8,["modelValue"])]),_:1}),e(T,{cols:"6"},{default:l(()=>[e(i,{modelValue:_.value,"onUpdate:modelValue":v[5]||(v[5]=G=>_.value=G),items:F,"item-title":"text","item-value":"value",label:"Status","single-line":""},null,8,["modelValue"])]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(T,{cols:"6"},{default:l(()=>[e(k,{class:"me-2",loading:f.value,color:"primary",onClick:v[6]||(v[6]=G=>m.value=!0)},{default:l(()=>[C(" Update ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(Te,{isDialogVisible:m.value,"onUpdate:isDialogVisible":v[7]||(v[7]=G=>m.value=G),onConfirm:y,"confirmation-question":"Are you sure you want to update the staff Team?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"])]),_:1})]),_:1},8,["width","model-value"]),e(E,{modelValue:c.value,"onUpdate:modelValue":v[8]||(v[8]=G=>c.value=G),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(P,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Oe,x(S.value),1),a("p",null,x(U.value),1),e(k,{color:"success",onClick:t},{default:l(()=>[C(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:n.value,"onUpdate:modelValue":v[9]||(v[9]=G=>n.value=G),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Ie]),_:1}),a("h1",We,x(h.value),1),a("p",null,x(u.value),1),e(k,{color:"success",onClick:t},{default:l(()=>[C(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Ne={class:"d-flex align-center justify-space-between"},Fe={key:0},Le=a("thead",null,[a("tr",null,[a("th",null,"Team Name"),a("th",null,"Last Logged In"),a("th",null,"Sales Representative"),a("th",null,"Status"),a("th",null,"Total Members"),a("th",null,"Action")])],-1),je=a("small",null,"Active",-1),Pe=a("small",null,"Inactive",-1),Ke={__name:"StaffTeamsTab",setup($){const A=o([]),d=o(!1),p=o(!1),r=o(null),b=async()=>ve("getStaffTeams",A),_=n=>{if(!n)return"";const c=new Date(n),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=c.getHours()>=12?"PM":"AM",S=c.getHours()%12||12,U=c.getMinutes().toString().padStart(2,"0"),F=`${c.getDate()} ${h[c.getMonth()]}, ${c.getFullYear()}`,N=`${S}:${U} ${u}`;return`${F}
${N}`};ue(async()=>{b()});function f(){d.value=!0}function m(n){r.value=n,p.value=!0}return(n,c)=>{const h=Be,u=Ge;return V(),q(J,null,[a("section",null,[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(w,{class:"custom-card"},{default:l(()=>[e(fe,null,{default:l(()=>[a("div",Ne,[a("div",null,[e(_e,null,{default:l(()=>[C("STAFF TEAMS")]),_:1})]),("hasAccess"in n?n.hasAccess:D(Y))("add_new_team")?(V(),q("div",Fe,[e(k,{class:"me-2",onClick:c[0]||(c[0]=S=>f())},{default:l(()=>[C("Add Teams")]),_:1})])):H("",!0)])]),_:1}),e(B,null,{default:l(()=>[A.value.teams?(V(),M(ge,{key:0,class:"card-list"},{default:l(()=>[e(Ve,null,{default:l(()=>[e(be,null,{default:l(()=>[Le,a("tbody",null,[(V(!0),q(J,null,de(A.value.teams,S=>(V(),q("tr",{key:S.id},[a("td",null,x(S.team_name),1),a("td",null,x(_(S.last_logged_in)),1),a("td",null,x(S.staff_name),1),a("td",null,[S.status===1?(V(),M(Q,{key:0,label:!1,color:"success"},{default:l(()=>[je]),_:1})):(V(),M(Q,{key:1,label:!1,color:"error"},{default:l(()=>[Pe]),_:1}))]),a("td",null,[C(x(S.total_members)+" ",1),e(P,{class:"ms-3",icon:"tabler-eye me-2"})]),a("td",null,[("hasAccess"in n?n.hasAccess:D(Y))("edit_or_delete_team")?(V(),M(P,{key:0,icon:"tabler-edit",onClick:U=>m(S)},null,8,["onClick"])):H("",!0)])]))),128))])]),_:1})]),_:1})]),_:1})):(V(),M(ye,{key:1,type:"table-tbody"}))]),_:1})]),_:1})]),_:1})]),_:1})]),e(h,{isDialogVisible:p.value,"onUpdate:isDialogVisible":c[1]||(c[1]=S=>p.value=S),selectedTeam:r.value},null,8,["isDialogVisible","selectedTeam"]),e(u,{isDialogVisible:d.value,"onUpdate:isDialogVisible":c[2]||(c[2]=S=>d.value=S)},null,8,["isDialogVisible"])],64)}}},Xe=a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"}," Edit Role ")])])],-1),He={class:"text-h4 mb-4"},Je=a("span",{class:"text-5xl font-weight-light"},"X",-1),Ye={class:"text-h4 mb-4"},Qe={__name:"EditStaffRoleDialog",props:{selectedRole:{type:Object,required:!1},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup($,{emit:A}){const d=o(""),p=o(""),r=o(""),b=o(null),_=o(!1),f=o(!1),m=o(!1),n=o(!1),c=o(""),h=o(""),u=o(""),S=o(""),U=o(["Super Admin","Admin","Client Relationship Manager","Manager","Support Staff","Backend Team"]),F=[{text:"Active",value:1},{text:"Inactive",value:0}],N=$,I=A,L=t=>{I("update:isDialogVisible",t)};ie(()=>N.selectedRole,t=>{t&&(p.value=t.id!==void 0?t.id:"",d.value=t.role_name,r.value=t.description,b.value=t.status)});const O=De(()=>U.value.includes(d.value)),j=async t=>{if(t){if(O.value){c.value="Validation Error",h.value="The role name has already been taken.",m.value=!0;return}_.value=!0;try{await se("/EditStaffRoles",{method:"POST",body:{roleId:p.value,role_name:d.value,description:r.value,status:b.value},onResponseError({response:v}){c.value="Something Went Wrong!",h.value=v._data.message,_.value=!1,m.value=!0}})&&(u.value="Updated!",S.value="Role Updated Successfully!",_.value=!1,n.value=!0)}catch(s){c.value="Something Went Wrong!",h.value=s.data.message,_.value=!1,m.value=!0}}},y=()=>{window.location.reload()};return(t,s)=>{const v=oe,R=te,K=ae,X=le,g=ee;return V(),q("section",null,[e(E,{width:t.$vuetify.display.smAndDown?"auto":800,"model-value":N.isDialogVisible,"onUpdate:modelValue":L},{default:l(()=>[e(v,{onClick:s[0]||(s[0]=i=>L(!1))}),e(w,{class:"pa-6 pa-sm-10"},{default:l(()=>[Xe,e(ne,{onSubmit:Z(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(R,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=i=>p.value=i),label:"Role ID",disabled:""},null,8,["modelValue"])]),_:1}),e(T,{cols:"12"},{default:l(()=>[e(R,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=i=>d.value=i),label:"Role Name",rules:["requiredValidator"in t?t.requiredValidator:D(z)],"error-messages":O.value?["The role name has already been taken."]:[]},null,8,["modelValue","rules","error-messages"])]),_:1}),e(T,{cols:"12",md:"12"},{default:l(()=>[e(K,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=i=>r.value=i),label:"Description","persistent-placeholder":"",rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"6"},{default:l(()=>[e(X,{modelValue:b.value,"onUpdate:modelValue":s[4]||(s[4]=i=>b.value=i),items:F,"item-title":"text","item-value":"value",label:"Status","single-line":"",rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(T,{cols:"6"},{default:l(()=>[e(k,{class:"me-2",loading:_.value,color:"primary",onClick:s[5]||(s[5]=i=>f.value=!0)},{default:l(()=>[C(" Update ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(g,{isDialogVisible:f.value,"onUpdate:isDialogVisible":s[6]||(s[6]=i=>f.value=i),onConfirm:j,"confirmation-question":"Are you sure you want to update the role?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"])]),_:1})]),_:1},8,["width","model-value"]),e(E,{modelValue:n.value,"onUpdate:modelValue":s[7]||(s[7]=i=>n.value=i),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(P,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",He,x(u.value),1),a("p",null,x(S.value),1),e(k,{color:"success",onClick:y},{default:l(()=>[C(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:m.value,"onUpdate:modelValue":s[8]||(s[8]=i=>m.value=i),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Je]),_:1}),a("h1",Ye,x(c.value),1),a("p",null,x(h.value),1),e(k,{color:"success",onClick:y},{default:l(()=>[C(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},he=$=>(me("data-v-00621ed6"),$=$(),ce(),$),Ze=he(()=>a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"},"Add Roles")])])],-1)),el={key:0,class:"text-body-2 pt-3 pb-0 mb-3 text-error"},ll={class:"text-h4 mb-4"},al=he(()=>a("span",{class:"text-5xl font-weight-light"},"X",-1)),tl={class:"text-h4 mb-4"},ol={__name:"AddStaffRolesDialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup($,{emit:A}){const d=o(""),p=o(""),r=o(null),b=o(!1),_=o(!1),f=o(null),m=o(!1),n=o(!1);let c=o(""),h=o(""),u=o(""),S=o("");const U=[{text:"Active",value:1},{text:"Inactive",value:0}],F=$,N=A,I=y=>{N("update:isDialogVisible",y)},L=async y=>{if(y){b.value=!0;try{await se("/addStaffRoles",{method:"POST",body:{role_name:d.value,description:p.value,status:r.value},onResponseError({response:s}){c.value="Something Went Wrong !",h.value=s._data.message,b.value=!1,m.value=!0}})&&(u.value="Success !",S.value="Role Created Successfully !",b.value=!1,n.value=!0)}catch(t){c.value="Something Went Wrong !",h.value=t.data.message,b.value=!1,m.value=!0}}},O=async y=>{window.location.reload()};function j(){d.value===null||p.value===null||r.value===null?f.value=!1:(f.value=!0,_.value=!0)}return(y,t)=>{const s=oe,v=te,R=ae,K=le,X=ee;return V(),M(E,{width:y.$vuetify.display.smAndDown?"auto":800,"model-value":F.isDialogVisible,"onUpdate:modelValue":I},{default:l(()=>[e(s,{onClick:t[0]||(t[0]=g=>I(!1))}),e(w,{class:"pa-6 pa-sm-10"},{default:l(()=>[Ze,e(ne,{onSubmit:Z(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(v,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=g=>d.value=g),label:"Role Name",rules:["requiredValidator"in y?y.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"12",md:"12"},{default:l(()=>[e(R,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=g=>p.value=g),label:"Description","persistent-placeholder":"",rules:["requiredValidator"in y?y.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"6"},{default:l(()=>[e(K,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=g=>r.value=g),items:U,"item-title":"text","item-value":"value",label:"Status","single-line":"",rules:["requiredValidator"in y?y.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),f.value===!1?(V(),q("p",el,"All fields are mandatory")):H("",!0),e(W,null,{default:l(()=>[e(T,{cols:"6"},{default:l(()=>[e(k,{class:"me-2",color:"primary",onClick:t[4]||(t[4]=g=>j()),loading:b.value},{default:l(()=>[C(" Add ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(X,{isDialogVisible:_.value,"onUpdate:isDialogVisible":t[5]||(t[5]=g=>_.value=g),onConfirm:L,"confirmation-question":"Are you sure you want to add this team?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"]),e(E,{modelValue:n.value,"onUpdate:modelValue":t[7]||(t[7]=g=>n.value=g),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(P,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",ll,x(D(u)),1),a("p",null,x(D(S)),1),e(k,{color:"success",onClick:t[6]||(t[6]=g=>O())},{default:l(()=>[C(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:m.value,"onUpdate:modelValue":t[8]||(t[8]=g=>m.value=g),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[al]),_:1}),a("h1",tl,x(D(c)),1),a("p",null,x(D(h)),1),e(k,{color:"success",onClick:O},{default:l(()=>[C(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},sl=pe(ol,[["__scopeId","data-v-00621ed6"]]),nl={class:"d-flex align-center justify-space-between"},il={key:0},ul=a("thead",null,[a("tr",null,[a("th",null,"Role Name"),a("th",null,"Description"),a("th",null,"Total Members"),a("th",null,"Status"),a("th",null,"Action")])],-1),dl=a("small",null,"Active",-1),rl=a("small",null,"Inactive",-1),ml={__name:"StaffRolesTab",setup($){const A=o([]),d=o(!1),p=o(!1),r=o(null),b=async()=>ve("getStaffRoles",A);ue(async()=>{b()});function _(){d.value=!0}function f(m){r.value=m,p.value=!0}return(m,n)=>{const c=sl,h=Qe;return V(),q(J,null,[a("section",null,[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(w,{class:"custom-card"},{default:l(()=>[e(fe,null,{default:l(()=>[a("div",nl,[a("div",null,[e(_e,null,{default:l(()=>[C("STAFF ROLES")]),_:1})]),("hasAccess"in m?m.hasAccess:D(Y))("add_new_role")?(V(),q("div",il,[e(k,{class:"me-2",onClick:n[0]||(n[0]=u=>_())},{default:l(()=>[C("Add Roles")]),_:1})])):H("",!0)])]),_:1}),e(B,null,{default:l(()=>[A.value.roles?(V(),M(ge,{key:0,class:"card-list"},{default:l(()=>[e(Ve,null,{default:l(()=>[e(be,null,{default:l(()=>[ul,a("tbody",null,[(V(!0),q(J,null,de(A.value.roles,u=>(V(),q("tr",{key:u.id},[a("td",null,x(u.role_name),1),a("td",null,x(u.description),1),a("td",null,[C(x(u.total_members)+" ",1),e(P,{class:"ms-3",icon:"tabler-eye me-2"})]),a("td",null,[u.status===1?(V(),M(Q,{key:0,label:!1,color:"success"},{default:l(()=>[dl]),_:1})):(V(),M(Q,{key:1,label:!1,color:"error"},{default:l(()=>[rl]),_:1}))]),a("td",null,[("hasAccess"in m?m.hasAccess:D(Y))("edit_or_delete_role")?(V(),M(P,{key:0,icon:"tabler-edit",onClick:S=>f(u)},null,8,["onClick"])):H("",!0)])]))),128))])]),_:1})]),_:1})]),_:1})):(V(),M(ye,{key:1,type:"table-tbody"}))]),_:1})]),_:1})]),_:1})]),_:1})]),e(c,{isDialogVisible:d.value,"onUpdate:isDialogVisible":n[1]||(n[1]=u=>d.value=u)},null,8,["isDialogVisible"]),e(h,{isDialogVisible:p.value,"onUpdate:isDialogVisible":n[2]||(n[2]=u=>p.value=u),selectedRole:r.value},null,8,["isDialogVisible","selectedRole"])],64)}}},cl=a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"}," Edit Group ")])])],-1),pl={class:"text-h4 mb-4"},fl=a("span",{class:"text-5xl font-weight-light"},"X",-1),vl={class:"text-h4 mb-4"},_l={__name:"EditStaffGroupDialog",props:{selectedGroup:{type:Object,required:!1},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup($,{emit:A}){const d=o(""),p=o(""),r=o(""),b=o(null),_=o(!1),f=o(!1),m=o(!1),n=o(!1),c=o(""),h=o(""),u=o(""),S=o(""),U=o(""),F=[{text:"Active",value:1},{text:"Inactive",value:0}],N=["UG_SALES_EXECUTIVE","UG_KING","UG_OTHER"],I=$,L=A,O=t=>{L("update:isDialogVisible",t)};ie(()=>I.selectedGroup,t=>{t&&(p.value=t.id!==void 0?t.id:"",d.value=t.group_name!==void 0?t.group_name:"",r.value=t.description!==void 0?t.description:"",b.value=t.status!==void 0?t.status:null)}),ie(d,t=>{N.includes(t)&&t.trim()!==""?U.value="The group name has already been taken":U.value=""});const j=async t=>{if(t){if(!(U.value==="")){_.value=!1;return}_.value=!0;try{await se("/EditStaffGroups",{method:"POST",body:{groupId:p.value,group_name:d.value,description:r.value,status:b.value},onResponseError({response:R}){c.value="Something Went Wrong!",h.value=R._data.message,_.value=!1,m.value=!0}})&&(u.value="Updated!",S.value="Staff Group Updated Successfully!",_.value=!1,n.value=!0)}catch(v){c.value="Something Went Wrong!",h.value=v.data.message,_.value=!1,m.value=!0}}},y=()=>{window.location.reload()};return(t,s)=>{const v=oe,R=te,K=ae,X=le,g=ee;return V(),q("section",null,[e(E,{width:t.$vuetify.display.smAndDown?"auto":800,"model-value":I.isDialogVisible,"onUpdate:modelValue":O},{default:l(()=>[e(v,{onClick:s[0]||(s[0]=i=>O(!1))}),e(w,{class:"pa-6 pa-sm-10"},{default:l(()=>[cl,e(ne,{onSubmit:Z(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(R,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=i=>p.value=i),label:"Group ID",disabled:""},null,8,["modelValue"])]),_:1}),e(T,{cols:"12"},{default:l(()=>[e(R,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=i=>d.value=i),label:"Group Name","error-messages":U.value,rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","error-messages","rules"])]),_:1}),e(T,{cols:"12",md:"12"},{default:l(()=>[e(K,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=i=>r.value=i),label:"Description","persistent-placeholder":"",rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"6"},{default:l(()=>[e(X,{modelValue:b.value,"onUpdate:modelValue":s[4]||(s[4]=i=>b.value=i),items:F,"item-title":"text","item-value":"value",label:"Status","single-line":"",rules:["requiredValidator"in t?t.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(T,{cols:"6"},{default:l(()=>[e(k,{class:"me-2",loading:_.value,color:"primary",onClick:s[5]||(s[5]=i=>f.value=!0)},{default:l(()=>[C(" Update ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(g,{isDialogVisible:f.value,"onUpdate:isDialogVisible":s[6]||(s[6]=i=>f.value=i),onConfirm:j,"confirmation-question":"Are you sure you want to update the staff group?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"])]),_:1})]),_:1},8,["width","model-value"]),e(E,{modelValue:n.value,"onUpdate:modelValue":s[7]||(s[7]=i=>n.value=i),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(P,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",pl,x(u.value),1),a("p",null,x(S.value),1),e(k,{color:"success",onClick:y},{default:l(()=>[C(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:m.value,"onUpdate:modelValue":s[8]||(s[8]=i=>m.value=i),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[fl]),_:1}),a("h1",vl,x(c.value),1),a("p",null,x(h.value),1),e(k,{color:"success",onClick:y},{default:l(()=>[C(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},ke=$=>(me("data-v-346cd7cb"),$=$(),ce(),$),gl=ke(()=>a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"},"Add Groups")])])],-1)),Vl={class:"text-h4 mb-4"},bl=ke(()=>a("span",{class:"text-5xl font-weight-light"},"X",-1)),yl={class:"text-h4 mb-4"},Dl={__name:"AddStaffGroupsDialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup($,{emit:A}){const d=o(""),p=o(""),r=o(null),b=o(!1),_=o(null),f=o(!1),m=o(!1),n=o(!1);let c=o(""),h=o(""),u=o(""),S=o("");const U=[{text:"Active",value:1},{text:"Inactive",value:0}],F=$,N=A,I=y=>{N("update:isDialogVisible",y)},L=async y=>{if(y){n.value=!0;try{await se("/addStaffGroups",{method:"POST",body:{group_name:d.value,description:p.value,status:r.value},onResponseError({response:s}){c.value="Something Went Wrong !",h.value=s._data.message,n.value=!1,f.value=!0}})&&(u.value="Success !",S.value="Group Created Successfully !",n.value=!1,m.value=!0)}catch(t){c.value="Something Went Wrong !",h.value=t.data.message,n.value=!1,f.value=!0}}},O=async y=>{window.location.reload()};function j(){d.value===null||p.value===null||r.value===null?_.value=!1:(_.value=!0,b.value=!0)}return(y,t)=>{const s=oe,v=te,R=ae,K=le,X=ee;return V(),M(E,{width:y.$vuetify.display.smAndDown?"auto":800,"model-value":F.isDialogVisible,"onUpdate:modelValue":I},{default:l(()=>[e(s,{onClick:t[0]||(t[0]=g=>I(!1))}),e(w,{class:"pa-6 pa-sm-10"},{default:l(()=>[gl,e(ne,{onSubmit:Z(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(v,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=g=>d.value=g),label:"Group Name",rules:["requiredValidator"in y?y.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"12",md:"12"},{default:l(()=>[e(R,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=g=>p.value=g),label:"Description","persistent-placeholder":"",rules:["requiredValidator"in y?y.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"6"},{default:l(()=>[e(K,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=g=>r.value=g),items:U,"item-title":"text","item-value":"value",label:"Status","single-line":"",rules:["requiredValidator"in y?y.requiredValidator:D(z)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(T,{cols:"6"},{default:l(()=>[e(k,{class:"me-2",color:"primary",onClick:t[4]||(t[4]=g=>j()),loading:n.value},{default:l(()=>[C(" Add ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(X,{isDialogVisible:b.value,"onUpdate:isDialogVisible":t[5]||(t[5]=g=>b.value=g),onConfirm:L,"confirmation-question":"Are you sure you want to add this Group?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"]),e(E,{modelValue:m.value,"onUpdate:modelValue":t[7]||(t[7]=g=>m.value=g),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(P,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Vl,x(D(u)),1),a("p",null,x(D(S)),1),e(k,{color:"success",onClick:t[6]||(t[6]=g=>O())},{default:l(()=>[C(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:f.value,"onUpdate:modelValue":t[8]||(t[8]=g=>f.value=g),"max-width":"500"},{default:l(()=>[e(w,null,{default:l(()=>[e(B,{class:"text-center px-10 py-6"},{default:l(()=>[e(k,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[bl]),_:1}),a("h1",yl,x(D(c)),1),a("p",null,x(D(h)),1),e(k,{color:"success",onClick:O},{default:l(()=>[C(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},xl=pe(Dl,[["__scopeId","data-v-346cd7cb"]]),Sl={class:"d-flex align-center justify-space-between"},hl={key:0},kl=a("thead",null,[a("tr",null,[a("th",null,"Group Name"),a("th",null,"Description"),a("th",null,"Total Members"),a("th",null,"Status"),a("th",null,"Action")])],-1),Tl=a("small",null,"Active",-1),Al=a("small",null,"Inactive",-1),$l={__name:"StaffGroupsTab",setup($){const A=o([]),d=o(!1),p=o(!1),r=o(null),b=async()=>ve("getStaffGroups",A);ue(async()=>{b()});function _(){d.value=!0}function f(m){r.value=m,p.value=!0}return(m,n)=>{const c=xl,h=_l;return V(),q(J,null,[a("section",null,[e(W,null,{default:l(()=>[e(T,{cols:"12"},{default:l(()=>[e(w,{class:"custom-card"},{default:l(()=>[e(fe,null,{default:l(()=>[a("div",Sl,[a("div",null,[e(_e,null,{default:l(()=>[C("STAFF GROUP")]),_:1})]),("hasAccess"in m?m.hasAccess:D(Y))("add_new_group")?(V(),q("div",hl,[e(k,{class:"me-2",onClick:n[0]||(n[0]=u=>_())},{default:l(()=>[C("Add Groups")]),_:1})])):H("",!0)])]),_:1}),e(B,null,{default:l(()=>[A.value.groups?(V(),M(ge,{key:0,class:"card-list"},{default:l(()=>[e(Ve,null,{default:l(()=>[e(be,null,{default:l(()=>[kl,a("tbody",null,[(V(!0),q(J,null,de(A.value.groups,u=>(V(),q("tr",{key:u.id},[a("td",null,x(u.group_name),1),a("td",null,x(u.description),1),a("td",null,[C(x(u.total_members)+" ",1),e(P,{class:"ms-3",icon:"tabler-eye me-2"})]),a("td",null,[u.status===1?(V(),M(Q,{key:0,label:!1,color:"success"},{default:l(()=>[Tl]),_:1})):(V(),M(Q,{key:1,label:!1,color:"error"},{default:l(()=>[Al]),_:1}))]),a("td",null,[("hasAccess"in m?m.hasAccess:D(Y))("edit_or_delete_group")?(V(),M(P,{key:0,icon:"tabler-edit",onClick:S=>f(u)},null,8,["onClick"])):H("",!0)])]))),128))])]),_:1})]),_:1})]),_:1})):(V(),M(ye,{key:1,type:"table-tbody"}))]),_:1})]),_:1})]),_:1})]),_:1})]),e(c,{isDialogVisible:d.value,"onUpdate:isDialogVisible":n[1]||(n[1]=u=>d.value=u)},null,8,["isDialogVisible"]),e(h,{isDialogVisible:p.value,"onUpdate:isDialogVisible":n[2]||(n[2]=u=>p.value=u),selectedGroup:r.value},null,8,["isDialogVisible","selectedGroup"])],64)}}},$a={__name:"staff-config",setup($){const A=o(null),d=[{icon:"tabler-users-group",title:"Groups"},{icon:"tabler-user-check",title:"Roles"},{icon:"tabler-users",title:"Teams"}];return(p,r)=>{const b=ml,_=Ke;return V(),q("section",null,[e(T,{cols:"12",md:"12",lg:"12"},{default:l(()=>[e(Ae,{modelValue:A.value,"onUpdate:modelValue":r[0]||(r[0]=f=>A.value=f),class:"v-tabs-pill"},{default:l(()=>[(V(),q(J,null,de(d,f=>e($e,{key:f.icon},{default:l(()=>[e(P,{size:18,icon:f.icon,class:"me-1"},null,8,["icon"]),a("span",null,x(f.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),e(Ce,{modelValue:A.value,"onUpdate:modelValue":r[1]||(r[1]=f=>A.value=f),class:"mt-6 disable-tab-transition",touch:!1},{default:l(()=>[e(re,null,{default:l(()=>[e($l)]),_:1}),e(re,null,{default:l(()=>[e(b)]),_:1}),e(re,null,{default:l(()=>[e(_)]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}};export{$a as default};
