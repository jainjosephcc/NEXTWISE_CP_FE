import{h as c}from"./permission-L9b2DVFJ.js";import{f as ae}from"./formatters-MfVJSZma.js";import{r as u,a4 as R,E as oe,w as se,cn as ie,j as ne,o as a,c as d,b as l,e as i,m as s,f as m,y as r,d as n,v,t as p,ah as L,$ as U,F as $,h as O,de as j}from"./index-Dx4ZPR9G.js";import{_ as re}from"./CustomStaffCardChip-DkAsJbgY.js";import{_ as ce}from"./CustomClientCardChip-Dg82H5q0.js";import{_ as ue}from"./AppTextField-D9kaNQVL.js";import{_ as de}from"./CustomManagerSelectWidget-DycDWJ0H.js";import{_ as me}from"./AppSelect-DdRG62dZ.js";import{_ as pe}from"./CustomPageHeaderWidget-B9YqbqqJ.js";import{_ as _e}from"./AddNewClientDialog-B36uVcwn.js";import{f as ve,g as fe,c as B}from"./apiUtils-DHatD8Yr.js";import{$ as he}from"./api-kcTwumKZ.js";import{V as ye}from"./VCard-D8rimWt5.js";import{V as I}from"./VCardText-BnlhGx-4.js";import{V as be,a as y}from"./VRow-DV0Kfclu.js";import{V as F}from"./VDivider-C9TzRthA.js";import{V as Ve}from"./VSpacer-CEut7dW-.js";import{V as M}from"./VChip-cZpRGEB1.js";import{V as f}from"./VAvatar-DAi-c36J.js";import{V as Ae}from"./VTable-cFNcBjKV.js";import{V as we}from"./VSkeletonLoader-CVgqtFSv.js";import{V as ke}from"./VPagination-D-l5h-P8.js";import"./helpers-DK5QwNv0.js";import"./VList-D1ht4q47.js";import"./index-D-37BZE9.js";import"./ssrBoot-CMUh88Ky.js";import"./VImg-De_LVaFp.js";import"./createSimpleFunctional-BPruny8O.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-DnPC4AY0.js";import"./VTextField-Cw2G8_rg.js";/* empty css                   */import"./VCounter-ghyOHvc1.js";import"./VField-Dg9C2tqO.js";import"./easing-CjukEv2V.js";import"./VInput-GFagnG_Y.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-CdSbxyQP.js";import"./dialog-transition-muHaOPgE.js";import"./VMenu-CCPxYeGx.js";import"./VOverlay-DDl4yNLU.js";import"./lazy-2YjBGDnA.js";import"./scopeId-Dnp8RDYF.js";import"./VCheckboxBtn-ztBv-RZ5.js";import"./VSelectionControl-DDZFWpvf.js";import"./ConfirmDialog-C6pWpFc6.js";import"./VDialog-Bhp_2kpN.js";import"./AppDrawerHeaderSection-C3ATWBMJ.js";import"./vue3-perfect-scrollbar.esm-PLkba4d2.js";import"./VRadioGroup-59GoXVxj.js";import"./VNavigationDrawer-CBICsRK8.js";import"./useApi-B6SiKLwk.js";import"./index-B3bPRkoL.js";import"./VCardTitle-CmK20BDt.js";/* empty css              */import"./VSlideGroup-CFYqWIA9.js";const Ce={class:"me-3 d-flex gap-2"},ge={style:{"inline-size":"15.625rem"}},Se={style:{"inline-size":"15.625rem"}},De={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Te={class:"card-subtitle pt-3"},Ne=n("th",null," ID/DOJ ",-1),Ue=n("th",null," NAME/EMAIL ",-1),Be=n("th",null,null,-1),Ie={key:0},Me={key:1},Pe={key:2},ze={key:3},Ee={key:4},Re={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Le=n("br",null,null,-1),$e={key:0},Oe=n("span",{class:"text-caption text-xs"},"RM NOT MAPPED",-1),je={key:1},Fe={key:2},We={key:3},xe=n("span",{class:"text-caption text-xs"},"NO PARENT IB",-1),He={key:4},qe={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Xt={__name:"client-list",setup(Ge){const b=u(""),V=u(null),A=u(null),w=u(null),k=u(null),C=u(null),g=u(null),S=u(null),W=[{title:"All",value:null},{title:"Account Not Created",value:"0"},{title:"Live Account Created",value:"1"},{title:"Demo Account Created",value:"2"}],x=[{title:"All",value:null},{title:"Deposited",value:"1"},{title:"Not Deposited",value:"1"}],H=[{title:"All",value:null},{title:"Premium",value:"1"},{title:"Regular",value:"0"}],q=[{title:"All",value:null},{title:"Upload Pending",value:"0"},{title:"Approved",value:"3"},{title:"Rejected",value:"2"},{title:"Verification Pending",value:"1"}],G=[{title:"All",value:null},{title:"Normal User",value:"0"},{title:"IB Requested",value:"1"},{title:"Active IB",value:"2"}],P=u(25),D=u(1),J=u(null),Q=u(null),h=u(null),z=async()=>{h.value=null;const t=await he("/client/sorted-list",{method:"POST",body:{keyword:b.value,page:D.value,RM:k.value,mt_account_status:V.value,deposit_status:A.value,document_status:w.value,country:C.value,is_ib:g.value,cat_label:S.value},onResponseError({response:o}){console.log(o)}});h.value=t},K=R(()=>{var t;return((t=h.value)==null?void 0:t.result.client_details.data)||[]}),T=R(()=>{var t;return((t=h.value)==null?void 0:t.result.client_details.total)||0});oe(async()=>{ve(),fe(),z()}),se([D,P,V,A,w,k,C,g,S,b,J,Q],()=>{z()},{deep:!0,immediate:!1}),ie(()=>{});const N=u(!1),X=ne(),Y=t=>{c("view_client_profile")&&X.push(`/client/client-${t}-home-null-details`)};return(t,o)=>{const Z=pe,_=me,ee=de,te=ue,E=ce,le=re;return a(),d("section",null,[l(Z),l(ye,{class:"mb-6"},{default:i(()=>[l(I,null,{default:i(()=>[l(be,null,{default:i(()=>[l(y,{cols:"12",sm:"2"},{default:i(()=>[l(_,{label:"MT Account Status",modelValue:V.value,"onUpdate:modelValue":o[0]||(o[0]=e=>V.value=e),placeholder:"MT Account Status",items:W,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),l(y,{cols:"12",sm:"2"},{default:i(()=>[l(_,{modelValue:A.value,"onUpdate:modelValue":o[1]||(o[1]=e=>A.value=e),label:"Deposit Status",placeholder:"Deposit Status",items:x,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),l(y,{cols:"12",sm:"2"},{default:i(()=>[l(_,{modelValue:w.value,"onUpdate:modelValue":o[2]||(o[2]=e=>w.value=e),label:"Document Status",placeholder:"Document Status",items:q,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),("hasAccess"in t?t.hasAccess:s(c))("view_all_clients")||("hasAccess"in t?t.hasAccess:s(c))("view_my_team_clients")?(a(),m(ee,{key:0,modelValue:k.value,"onUpdate:modelValue":o[3]||(o[3]=e=>k.value=e)},null,8,["modelValue"])):r("",!0),s(B)&&s(B).length>2?(a(),m(y,{key:1,cols:"12",sm:"2"},{default:i(()=>[l(_,{modelValue:C.value,"onUpdate:modelValue":o[4]||(o[4]=e=>C.value=e),label:"Country",placeholder:"Country",items:s(B),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):r("",!0),l(y,{cols:"12",sm:"2"},{default:i(()=>[l(_,{modelValue:g.value,"onUpdate:modelValue":o[5]||(o[5]=e=>g.value=e),label:"IB Status",placeholder:"IB Status",items:G,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F),l(I,{class:"d-flex flex-wrap"},{default:i(()=>[n("div",Ce,[n("div",ge,[l(te,{modelValue:b.value,"onUpdate:modelValue":o[6]||(o[6]=e=>b.value=e),placeholder:"Search User",label:"Search User"},null,8,["modelValue"])]),n("div",Se,[l(_,{modelValue:S.value,"onUpdate:modelValue":o[7]||(o[7]=e=>S.value=e),label:"Category Label",placeholder:"Category Label",items:H,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])])]),l(Ve),n("div",De,[n("p",Te,"TOTAL LISTED CLIENTS : "+v(T.value?T.value:0),1),("hasAccess"in t?t.hasAccess:s(c))("add_new_client")?(a(),m(L,{key:0,"prepend-icon":"tabler-plus",onClick:o[8]||(o[8]=e=>N.value=!0)},{default:i(()=>[p(" Add New User ")]),_:1})):r("",!0)])]),_:1}),l(F),h.value?(a(),m(Ae,{key:0,height:"800","fixed-header":"",class:"text-no-wrap"},{default:i(()=>[n("thead",null,[n("tr",null,[Ne,Ue,Be,("hasAccess"in t?t.hasAccess:s(c))("view_rm")?(a(),d("th",Ie," ASSIGNED RM ")):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_client_total_deposit")?(a(),d("th",Me,[l(U,{icon:"tabler-sum me-1",size:"16"}),p(" DEP. ")])):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_client_total_withdraw")?(a(),d("th",Pe,[l(U,{icon:"tabler-sum me-1",size:"16"}),p(" WITH. ")])):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_parent_ib")?(a(),d("th",ze," PARENT IB ")):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_client_profile")?(a(),d("th",Ee,[l(U,{class:"tabler-eye"})])):r("",!0)])]),n("tbody",null,[(a(!0),d($,null,O(K.value,e=>(a(),d("tr",{class:"",key:e.id},[n("td",Re,[l(M,{size:"x-small"},{default:i(()=>[p(v(e.cat_label===0?"R":"P")+v(e.id),1)]),_:2},1024),Le,p(" "+v(("formatDateToMonthShort"in t?t.formatDateToMonthShort:s(ae))(e.joined_on)),1)]),n("td",null,[l(E,{client_name:e.client_name,client_id:e.id,email:e.email,client_pic:e.client_pic},null,8,["client_name","client_id","email","client_pic"])]),n("td",null,[l(f,{rounded:"",color:e.email_verified===1?"success":"secondary",icon:e.email_verified===1?"tabler-mail-check":"tabler-mail-cancel",variant:e.email_verified===1?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),l(f,{rounded:"",color:e.doc_verified===3?"success":"secondary",icon:e.doc_verified===3?"tabler-file-check":"tabler-file-alert",variant:e.doc_verified===3?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),l(f,{rounded:"",color:e.mt_created===1?"success":"secondary",icon:e.mt_created===1?"tabler-chart-candle":"tabler-candle",variant:e.mt_created===1?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),e.is_ib===1?(a(),m(f,{key:0,rounded:"",color:"warning",variant:"tonal",class:"me-1",size:"30"},{default:i(()=>[p(" R ")]),_:1})):r("",!0),e.is_ib===2?(a(),m(f,{key:1,rounded:"",color:"success",variant:"tonal",class:"me-1",size:"30"},{default:i(()=>[p(" IB ")]),_:1})):r("",!0),e.is_ib===0?(a(),m(f,{key:2,rounded:"",color:"secondary",variant:"outlined",class:"me-1",size:"30"},{default:i(()=>[p(" N ")]),_:1})):r("",!0)]),("hasAccess"in t?t.hasAccess:s(c))("view_rm")?(a(),d("td",$e,[e.rm_name?(a(),m(le,{key:0,rm_name:e.rm_name,rm_id:e.manager_id},null,8,["rm_name","rm_id"])):(a(),m(M,{key:1,size:"x-small",variant:"outlined"},{default:i(()=>[Oe]),_:1}))])):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_client_total_deposit")?(a(),d("td",je,v(("formatCurrency"in t?t.formatCurrency:s(j))(e.deposit)),1)):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_client_total_withdraw")?(a(),d("td",Fe,v(("formatCurrency"in t?t.formatCurrency:s(j))(e.withdraw)),1)):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_parent_ib")?(a(),d("td",We,[e.ib_name?(a(),m(E,{key:0,client_id:e.ib_id,client_name:e.ib_name,client_pic:e.ib_pic,email:"PARENT IB #"+e.ib_id},null,8,["client_id","client_name","client_pic","email"])):(a(),m(M,{key:1,size:"x-small",variant:"outlined"},{default:i(()=>[xe]),_:1}))])):r("",!0),("hasAccess"in t?t.hasAccess:s(c))("view_client_profile")?(a(),d("td",He,[l(L,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-address-book",onClick:Je=>Y(e.id)},null,8,["onClick"])])):r("",!0)]))),128))])]),_:1})):(a(),d($,{key:1},O(3,e=>l(we,{key:e,type:"table-tbody"})),64)),l(I,{class:"pt-2"},{default:i(()=>[n("div",qe,[l(ke,{modelValue:D.value,"onUpdate:modelValue":o[9]||(o[9]=e=>D.value=e),"total-visible":t.$vuetify.display.smAndDown?3:5,length:Math.ceil(T.value/P.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1}),l(_e,{isDrawerOpen:N.value,"onUpdate:isDrawerOpen":o[10]||(o[10]=e=>N.value=e)},null,8,["isDrawerOpen"])])}}};export{Xt as default};
