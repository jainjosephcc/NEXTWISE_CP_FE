import{_ as P}from"./ConfirmDialog-DTjq62H2.js";import{_ as X}from"./AppSelect-Cl6HxbQQ.js";import{_ as H}from"./AppTextField-DKJnmTOJ.js";import{_ as J}from"./DialogCloseBtn-BwY9-iph.js";import{r as s,w as Q,o as c,c as $,b as e,e as l,b0 as Y,ah as g,t as u,$ as W,d as a,v as f,F as I,E as Z,f as C,h as ee,b9 as le,ba as te}from"./index-BOEtP-vQ.js";import{$ as q}from"./api-DKU2c_97.js";import{V as D,a as ae,b as oe}from"./VCard-D7qQTl7j.js";import{V as se}from"./VForm-B3eAN-6D.js";import{V as B,a as x}from"./VRow-Cfalt0VA.js";import{V as U}from"./VDialog-CSR0sace.js";import{V as k}from"./VCardText-Cu1A2p50.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as ne}from"./VCardTitle-ByxFLjtO.js";import{a as re,b as ue,d as de,V as ce}from"./VList-Cx8ZpknI.js";import{V as me}from"./VAvatar-4Kvzh9ag.js";import{V as F}from"./VChip-BSWb23AE.js";import{V as pe}from"./VSkeletonLoader-dUicmzDN.js";import"./form-CseWHeeO.js";import"./VSelect-vlfTTGeh.js";import"./VTextField-B-kj7Uh1.js";/* empty css                   */import"./VCounter-XmrXUFzL.js";import"./index-DdTD1XfB.js";import"./transition-DsC3VmLB.js";import"./VField-BBTESSfe.js";import"./easing-CjukEv2V.js";import"./VInput-B0KZ_kJr.js";import"./forwardRefs-C-GTDzx5.js";import"./VImg-CA8IuiYj.js";import"./dialog-transition-CDzkOlQm.js";import"./VMenu-DyyTCiwk.js";import"./VOverlay-DJ7nF4XL.js";import"./lazy-PN5-REnJ.js";import"./scopeId-Cur9i-dl.js";import"./VCheckboxBtn-BGxdUy4v.js";import"./VSelectionControl-fLItKvg2.js";import"./index-B3bPRkoL.js";import"./createSimpleFunctional-BVEdWqLB.js";/* empty css              */import"./ssrBoot-CmZJdz4s.js";import"./VDivider-ct61W42j.js";import"./VSlideGroup-jwesl6Ba.js";const fe=a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"}," Update Currency data ")])])],-1),ve={class:"text-h4 mb-4"},_e=a("span",{class:"text-5xl font-weight-light"},"X",-1),Ve={class:"text-h4 mb-4"},be={__name:"UpdateCurrencyDialog",props:{selectedCurrency:{type:Object,required:!1},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup(v,{emit:y}){const d=s(""),m=s(""),_=s(""),p=s(!1),o=s(!1),V=s(!1),b=s(!1),n=s(!1),h=s(""),w=s(""),M=s(""),A=s(""),N=[{text:"Active",value:1},{text:"Inactive",value:0}],E=v,j=y,L=r=>{j("update:isDialogVisible",r)};Q(()=>E.selectedCurrency,r=>{r&&(d.value=r.id,m.value=r.to_usd,_.value=r.status)});const G=async r=>{if(r){p.value=!0,o.value=!0;try{await q("/currencies/update",{method:"POST",body:{id:d.value,to_usd:m.value,status:_.value},onResponseError({response:S}){h.value="Something Went Wrong!",w.value=S._data.message,p.value=!1,o.value=!1,b.value=!0}})&&(M.value="Updated!",A.value="Currency Data Updated Successfully!",p.value=!1,o.value=!1,n.value=!0)}catch(t){h.value="Something Went Wrong!",w.value=t.data.message,p.value=!1,o.value=!1,b.value=!0}}},z=async r=>{window.location.reload()};return(r,t)=>{const S=J,O=H,R=X,K=P;return c(),$(I,null,[e(U,{width:r.$vuetify.display.smAndDown?"auto":800,"model-value":E.isDialogVisible,"onUpdate:modelValue":L},{default:l(()=>[e(S,{onClick:t[0]||(t[0]=i=>L(!1))}),e(D,{class:"pa-6 pa-sm-10"},{default:l(()=>[fe,e(se,{onSubmit:Y(()=>{},["prevent"])},{default:l(()=>[e(B,null,{default:l(()=>[e(x,{cols:"6"},{default:l(()=>[e(O,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=i=>d.value=i),label:"Code",disabled:""},null,8,["modelValue"])]),_:1}),e(x,{cols:"6"},{default:l(()=>[e(O,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=i=>m.value=i),label:"USD conversion"},null,8,["modelValue"])]),_:1}),e(x,{cols:"6"},{default:l(()=>[e(R,{modelValue:_.value,"onUpdate:modelValue":t[3]||(t[3]=i=>_.value=i),items:N,"item-title":"text","item-value":"value",label:"Status","single-line":""},null,8,["modelValue"])]),_:1})]),_:1}),e(B,null,{default:l(()=>[e(x,{cols:"6"},{default:l(()=>[e(g,{class:"me-2",loading:p.value,disabled:o.value,color:"primary",onClick:t[4]||(t[4]=i=>V.value=!0)},{default:l(()=>[u(" Update ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),e(K,{isDialogVisible:V.value,"onUpdate:isDialogVisible":t[5]||(t[5]=i=>V.value=i),onConfirm:G,"confirmation-question":"Are you sure you want to update the Currency Conversion?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"])]),_:1})]),_:1},8,["width","model-value"]),e(U,{modelValue:n.value,"onUpdate:modelValue":t[7]||(t[7]=i=>n.value=i),"max-width":"500"},{default:l(()=>[e(D,null,{default:l(()=>[e(k,{class:"text-center px-10 py-6"},{default:l(()=>[e(g,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(W,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",ve,f(M.value),1),a("p",null,f(A.value),1),e(g,{color:"success",onClick:t[6]||(t[6]=i=>z())},{default:l(()=>[u(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(U,{modelValue:b.value,"onUpdate:modelValue":t[8]||(t[8]=i=>b.value=i),"max-width":"500"},{default:l(()=>[e(D,null,{default:l(()=>[e(k,{class:"text-center px-10 py-6"},{default:l(()=>[e(g,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[_e]),_:1}),a("h1",Ve,f(h.value),1),a("p",null,f(w.value),1),e(g,{color:"success",onClick:z},{default:l(()=>[u(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},T=v=>(le("data-v-3323417f"),v=v(),te(),v),ye={class:"d-flex mb-6"},ge={class:"d-flex align-center gap-x-2"},Ce={class:"text-body-1"},xe=T(()=>a("div",{class:"text-body-1"}," USD ",-1)),De=T(()=>a("small",null,"Active",-1)),he=T(()=>a("small",null,"Inactive",-1)),ke={__name:"currency-conversion",setup(v){const y=s(null),d=s(!1),m=s(null),_=async()=>{try{const o=await q("/getCurrencies",{method:"GET"});o&&o.currency?y.value=o.currency:console.warn("Currency data not found:",o)}catch(o){console.error("Error fetching data:",o)}};Z(()=>{_()});function p(o){m.value=o,d.value=!0}return(o,V)=>{const b=be;return c(),$(I,null,[a("section",null,[a("div",ye,[e(B,null,{default:l(()=>[e(x,{cols:"12"},{default:l(()=>[e(D,null,{default:l(()=>[e(k,null,{default:l(()=>[u(" Currency Conversion ")]),_:1})]),_:1})]),_:1})]),_:1})]),e(D,{class:"custom-card"},{default:l(()=>[e(ae,null,{default:l(()=>[e(ne,null,{default:l(()=>[u("Manage Currency Data")]),_:1}),e(oe,null,{default:l(()=>[u(" USD Conversion ")]),_:1})]),_:1}),e(k,null,{default:l(()=>[y.value?(c(),C(ce,{key:0,class:"card-list"},{default:l(()=>[(c(!0),$(I,null,ee(y.value,n=>(c(),C(re,{key:n.id},{prepend:l(()=>[e(me,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[u(f(n.currency),1)]),_:2},1024)]),append:l(()=>[a("div",ge,[a("div",Ce,f(n.to_usd),1),xe,n.status==1?(c(),C(F,{key:0,label:!1,color:"success"},{default:l(()=>[De]),_:1})):(c(),C(F,{key:1,label:!1,color:"error"},{default:l(()=>[he]),_:1})),e(W,{icon:"tabler-edit",onClick:h=>p(n)},null,8,["onClick"])])]),default:l(()=>[e(ue,{class:"font-weight-medium me-2"},{default:l(()=>[u(" 1 ")]),_:1}),e(de,{class:"me-4"},{default:l(()=>[u(f(n.code),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(c(),C(pe,{key:1,type:"table-tbody"}))]),_:1})]),_:1})]),e(b,{isDialogVisible:d.value,"onUpdate:isDialogVisible":V[0]||(V[0]=n=>d.value=n),selectedCurrency:m.value},null,8,["isDialogVisible","selectedCurrency"])],64)}}},fl=ie(ke,[["__scopeId","data-v-3323417f"]]);export{fl as default};
