import{h as d}from"./permission-CfJExeHF.js";import{f as ue}from"./formatters-MfVJSZma.js";import{r as s,a4 as M,E as me,w as pe,cn as _e,j as ve,o,c as u,d as r,b as a,e as i,f as m,y as n,F as P,de as T,t as p,m as c,$ as F,h as G,v as y,ah as H}from"./index-JJLVR7gw.js";import{_ as fe}from"./ClientDocumentViewDialog-CBzUrccL.js";import{_ as he}from"./CustomStaffCardChip-DmdgPtoH.js";import{_ as ye}from"./CustomClientCardChip-FEO0xkvU.js";import{_ as be}from"./AppTextField-C3KG0Fdx.js";import{_ as Ve}from"./CustomManagerSelectWidget-DcLKN_Yb.js";import{_ as we}from"./AppSelect-Dk8olbt1.js";import{_ as Ae}from"./CustomPageHeaderWidget-CWncpySJ.js";import{$ as J}from"./api-BTN9-S1a.js";import{u as ge}from"./useApi-7LUECuUp.js";import{V as Ce}from"./VCard-DZWvGmgS.js";import{V as ke}from"./VCardTitle-BiC992U8.js";import{V as z}from"./VDivider-DXXBACNJ.js";import{V as R}from"./VCardText-U-O62k8O.js";import{V as De,a as I}from"./VRow-CgtR2C0a.js";import{V as Se}from"./VSpacer-CYQf44YG.js";import{V as U}from"./VChip-Dj7sIaLu.js";import{V as _}from"./VAvatar-yCqntSJd.js";import{V as Te}from"./VTable-3BS_25Ta.js";import{V as Ie}from"./VSkeletonLoader-Dr1oL0B2.js";import{V as Be}from"./VPagination-idud2wyG.js";import"./helpers-DK5QwNv0.js";import"./ConfirmDialog-BAzm0IhP.js";import"./VDialog-v0wQo-Em.js";import"./VOverlay-yE6I3_jC.js";import"./easing-CjukEv2V.js";import"./lazy-amXKMzDk.js";import"./scopeId-ClaAXU-I.js";import"./transition-C2_fb7u_.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-OOY4pNuk.js";import"./DialogCloseBtn-CGSccGdU.js";import"./VImg-KnL00SIm.js";import"./VList-oRE7i2Tp.js";import"./index-GgA-9tW3.js";import"./ssrBoot-BZxQaRBH.js";import"./createSimpleFunctional-C_BTfS6z.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-C0qhxlI3.js";import"./VTextField-D_u6fdPg.js";/* empty css                   */import"./VCounter-QpKNLAUU.js";import"./VField-CtxTuAgP.js";import"./VInput-DlxzUbVk.js";import"./apiUtils-BkqVA9aH.js";import"./VSelect-DolNbEcz.js";import"./VMenu-D0jACTlk.js";import"./VCheckboxBtn-XGtVXTYy.js";import"./VSelectionControl-DEc2CGt5.js";import"./index-B3bPRkoL.js";/* empty css              */import"./VSlideGroup-Cz4KrcLa.js";const Ne={class:"me-3 d-flex gap-2"},Ee={style:{"inline-size":"15.625rem"}},Me=r("th",null," ID/DOJ ",-1),Pe=r("th",null," NAME/EMAIL ",-1),ze=r("th",null,null,-1),Re={key:0},Ue={key:1},$e={key:2},Oe={key:3},We={key:4},je={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Le=r("br",null,null,-1),Fe={key:0},Ge=r("span",{class:"text-caption text-xs"},"RM NOT MAPPED",-1),He={key:1},Je={key:2},qe={key:3},Qe=r("span",{class:"text-caption text-xs"},"NO PARENT IB",-1),xe={key:4},Ke={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Yt={__name:"client-pending-docs",setup(Xe){const b=s(""),V=s(null),w=s(null),q=s(0),A=s(null),g=s(null),C=s(null),k=s(null);s(null);const B=s(!1),$=s(null),O=s(null),N=s(null),Q=[{title:"All",value:null},{title:"Account Not Created",value:"0"},{title:"Live Account Created",value:"1"},{title:"Demo Account Created",value:"2"}],x=[{title:"All",value:null},{title:"Deposited",value:"1"},{title:"Not Deposited",value:"1"}],K=[{title:"All",value:null},{title:"Normal User",value:"0"},{title:"IB Requested",value:"1"},{title:"Active IB",value:"2"}],v=s(null),W=s(25),D=s(1),X=s(null),Y=s(null),f=s(null),h=s({total_clients:0,ib_count:0,total_deposit:0,total_withdraw:0});s(null);const j=async()=>{f.value=null;const e=await J("/client/pending-doc-list",{method:"POST",body:{keyword:b.value,page:D.value,RM:A.value,mt_account_status:V.value,deposit_status:w.value,country:g.value,is_ib:C.value},onResponseError({response:l}){console.log(l)}});f.value=e},Z=async()=>{const e=await J("/data/header-list",{method:"GET",onResponseError({response:l}){console.log(l)}});h.value=await e.result},ee=M(()=>{var e;return((e=f.value)==null?void 0:e.result.client_details.data)||[]}),te=M(()=>{var e;return((e=f.value)==null?void 0:e.result.client_details.total)||0}),le=async()=>{const e=localStorage.getItem("country_list");if(e&&(e==null?void 0:e.length)>50&&e!=="undefined")v.value=JSON.parse(e);else{const l=await ge("/data/country-list",{method:"GET"});console.log(await l),l.data.value.result&&(v.value=l.data.value.result.country_list,localStorage.setItem("country_list",JSON.stringify(v.value)))}v&&(k.value=v.value.map(l=>({title:l.name,value:l.id.toString()})))};me(async()=>{await j(),await le(),await Z()}),pe([D,W,V,w,q,A,g,C,b,X,Y],()=>{j()},{deep:!0,immediate:!1}),_e(()=>{});const ae=ve(),oe=e=>{d("view_client_profile")&&ae.push(`/client/client-${e}-home-null-details`)},se=(e,l,E)=>{d("view_client_docs")&&(N.value=e,$.value=l,B.value=!0,O.value=E)};return M(()=>[{title:"Total Clients",value:h.value.total_clients.toString(),change:29,desc:"Active Registered Clients",icon:"tabler-users",iconColor:"primary"},{title:"IB Count",value:h.value.ib_count.toString(),change:18,desc:"Introducing Brokers",icon:"tabler-chart-arrows-vertical",iconColor:"warning"},{title:"Total Deposit",value:T(h.value.total_deposit),desc:"Approved Deposits",icon:"tabler-brand-cashapp",iconColor:"success"},{title:"Total Withdraw",value:T(h.value.total_withdraw),desc:"Approved Withdrawals",icon:"tabler-database-minus",iconColor:"danger"}]),(e,l)=>{const E=Ae,S=we,ie=Ve,ne=be,L=ye,ce=he,re=fe;return o(),u(P,null,[r("section",null,[a(E),a(Ce,{class:"mb-6"},{default:i(()=>[a(ke,{class:"py-4"},{default:i(()=>[p(" Documents Pending Approval ")]),_:1}),a(z),a(R,null,{default:i(()=>[a(De,null,{default:i(()=>[a(I,{cols:"12",sm:"2"},{default:i(()=>[a(S,{label:"MT Account Status",modelValue:V.value,"onUpdate:modelValue":l[0]||(l[0]=t=>V.value=t),placeholder:"MT Account Status",items:Q,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),a(I,{cols:"12",sm:"2"},{default:i(()=>[a(S,{modelValue:w.value,"onUpdate:modelValue":l[1]||(l[1]=t=>w.value=t),label:"Deposit Status",placeholder:"Deposit Status",items:x,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),("hasAccess"in e?e.hasAccess:c(d))("view_all_clients")||("hasAccess"in e?e.hasAccess:c(d))("view_my_team_clients")?(o(),m(ie,{key:0,modelValue:A.value,"onUpdate:modelValue":l[2]||(l[2]=t=>A.value=t)},null,8,["modelValue"])):n("",!0),k.value&&k.value.length>2?(o(),m(I,{key:1,cols:"12",sm:"2"},{default:i(()=>[a(S,{modelValue:g.value,"onUpdate:modelValue":l[3]||(l[3]=t=>g.value=t),label:"Country",placeholder:"Country",items:k.value,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):n("",!0),a(I,{cols:"12",sm:"2"},{default:i(()=>[a(S,{modelValue:C.value,"onUpdate:modelValue":l[4]||(l[4]=t=>C.value=t),label:"IB Status",placeholder:"IB Status",items:K,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(z),a(R,{class:"d-flex flex-wrap"},{default:i(()=>[r("div",Ne,[r("div",Ee,[a(ne,{modelValue:b.value,"onUpdate:modelValue":l[5]||(l[5]=t=>b.value=t),placeholder:"Search User",label:"Search User"},null,8,["modelValue"])])]),a(Se)]),_:1}),a(z),f.value?(o(),m(Te,{key:0,height:"800","fixed-header":"",class:"text-no-wrap"},{default:i(()=>[r("thead",null,[r("tr",null,[Me,Pe,ze,("hasAccess"in e?e.hasAccess:c(d))("view_rm")?(o(),u("th",Re," ASSIGNED RM ")):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_client_total_deposit")?(o(),u("th",Ue,[a(F,{icon:"tabler-sum me-1",size:"16"}),p(" DEP. ")])):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_client_total_withdraw")?(o(),u("th",$e,[a(F,{icon:"tabler-sum me-1",size:"16"}),p(" WITH. ")])):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_parent_ib")?(o(),u("th",Oe," PARENT IB ")):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_client_profile")?(o(),u("th",We," VIEW ")):n("",!0)])]),r("tbody",null,[(o(!0),u(P,null,G(ee.value,t=>(o(),u("tr",{class:"",key:t.id},[r("td",je,[a(U,{size:"x-small"},{default:i(()=>[p(y(t.cat_label===0?"R":"P")+y(t.id),1)]),_:2},1024),Le,p(" "+y(("formatDateToMonthShort"in e?e.formatDateToMonthShort:c(ue))(t.joined_on)),1)]),r("td",null,[a(L,{client_name:t.client_name,client_id:t.id,email:t.email,client_pic:t.client_pic},null,8,["client_name","client_id","email","client_pic"])]),r("td",null,[a(_,{rounded:"",color:t.email_verified===1?"success":"secondary",icon:t.email_verified===1?"tabler-mail-check":"tabler-mail-cancel",variant:t.email_verified===1?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),a(_,{rounded:"",color:t.doc_verified===3?"success":"secondary",icon:t.doc_verified===3?"tabler-file-check":"tabler-file-alert",variant:t.doc_verified===3?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),a(_,{rounded:"",color:t.mt_created===1?"success":"secondary",icon:t.mt_created===1?"tabler-chart-candle":"tabler-candle",variant:t.mt_created===1?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),t.is_ib===1?(o(),m(_,{key:0,rounded:"",color:"warning",variant:"tonal",class:"me-1",size:"30"},{default:i(()=>[p(" R ")]),_:1})):n("",!0),t.is_ib===2?(o(),m(_,{key:1,rounded:"",color:"success",variant:"tonal",class:"me-1",size:"30"},{default:i(()=>[p(" IB ")]),_:1})):n("",!0),t.is_ib===0?(o(),m(_,{key:2,rounded:"",color:"secondary",variant:"outlined",class:"me-1",size:"30"},{default:i(()=>[p(" N ")]),_:1})):n("",!0)]),("hasAccess"in e?e.hasAccess:c(d))("view_rm")?(o(),u("td",Fe,[t.rm_name?(o(),m(ce,{key:0,rm_name:t.rm_name,rm_id:t.manager_id},null,8,["rm_name","rm_id"])):(o(),m(U,{key:1,size:"x-small",variant:"outlined"},{default:i(()=>[Ge]),_:1}))])):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_client_total_deposit")?(o(),u("td",He,y(("formatCurrency"in e?e.formatCurrency:c(T))(t.deposit)),1)):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_client_total_withdraw")?(o(),u("td",Je,y(("formatCurrency"in e?e.formatCurrency:c(T))(t.withdraw)),1)):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_parent_ib")?(o(),u("td",qe,[t.ib_name?(o(),m(L,{key:0,client_id:t.ib_id,client_name:t.ib_name,client_pic:t.ib_pic,email:"PARENT IB #"+t.ib_id},null,8,["client_id","client_name","client_pic","email"])):(o(),m(U,{key:1,size:"x-small",variant:"outlined"},{default:i(()=>[Qe]),_:1}))])):n("",!0),("hasAccess"in e?e.hasAccess:c(d))("view_client_profile")?(o(),u("td",xe,[a(H,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-address-book",onClick:de=>oe(t.id)},null,8,["onClick"]),("hasAccess"in e?e.hasAccess:c(d))("view_client_docs")?(o(),m(H,{key:0,color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",onClick:de=>se(t.id,t.client_docs,t.doc_verified)},{default:i(()=>[p(" DOCS ")]),_:2},1032,["onClick"])):n("",!0)])):n("",!0)]))),128))])]),_:1})):(o(),u(P,{key:1},G(3,t=>a(Ie,{key:t,type:"table-tbody"})),64)),a(R,{class:"pt-2"},{default:i(()=>[r("div",Ke,[a(Be,{modelValue:D.value,"onUpdate:modelValue":l[6]||(l[6]=t=>D.value=t),"total-visible":e.$vuetify.display.smAndDown?3:5,length:Math.ceil(te.value/W.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),N.value?(o(),m(re,{key:0,isDialogVisible:B.value,"onUpdate:isDialogVisible":l[7]||(l[7]=t=>B.value=t),"client-docs":$.value,"doc-verification-status":O.value,"client-id":N.value},null,8,["isDialogVisible","client-docs","doc-verification-status","client-id"])):n("",!0)],64)}}};export{Yt as default};
