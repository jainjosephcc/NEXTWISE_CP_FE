import{h as W}from"./permission-COXUeB44.js";import{f as Ne,c as Pl,d as ql}from"./formatters-MfVJSZma.js";import{r as De}from"./validators-DpYrMFzk.js";import{r as s,E as he,o,c as A,b as e,e as l,m as t,f as b,F as ae,h as ce,y as B,d as a,v as u,t as i,b0 as ll,aV as F,ah as T,$ as X,w as re,a as Ul,I as Nl,J as Wl,a4 as we,cn as tl,de as me,a$ as Fe,b9 as bl,ba as yl,bg as jl,a_ as zl,j as Ml,aL as El,H as Ke,x as He,i as Fl}from"./index-MgTNQxVX.js";import{_ as ke}from"./ConfirmDialog-YJD91LgQ.js";import{_ as al}from"./AppTextarea-B67M-__W.js";import{_ as Ue}from"./AppSelect-tDvAStvn.js";import{_ as hl}from"./CustomStaffCardChip-YJRp0AFg.js";import{$ as ie}from"./api-B9uHuBdw.js";import{a as L,V as de}from"./VRow-BGcwpjBg.js";import{V as q}from"./VCardText-BOk-HfwD.js";import{V as Ce}from"./VSkeletonLoader-BQH1QuGu.js";import{V as Ol,a as gl}from"./VTimelineItem-CznFJF0P.js";import{V as Se}from"./VAlert-7h6UzPUT.js";import{V as xe}from"./VCardTitle-BiITgjs_.js";import{V as ve}from"./VDivider-CSkhLUKl.js";import{V as sl}from"./VForm-B-swBwR0.js";import{V as G,b as ze,a as We}from"./VCard-GjZhORBe.js";import{V as le}from"./VDialog-7-XmTV6F.js";import{_ as Le}from"./AppTextField-DtIJKPhH.js";import{_ as $e}from"./DialogCloseBtn-J5WB80yX.js";import{m as Gl}from"./md5-B0uU80qf.js";import{V as Kl}from"./index-DyKMM2Ft.js";import{V as Be}from"./VTable-YgWz3nrC.js";import{V as Xe,a as qe}from"./VTabs-CLnF8CIF.js";import{V as Ye,a as Te}from"./VWindowItem-DDvayigV.js";import{_ as nl}from"./CustomTransactionStatusChip-BtZvSYV1.js";import{_ as ol}from"./CustomMT5Chip-Ct_GswLb.js";import{_ as Bl}from"./AppDateTimePicker-CZoCd95m.js";import{b as Ll,w as fl,d as _l,p as vl,f as Hl,s as Ql,e as Xl}from"./apiUtils-BauU_zFg.js";import{_ as Yl}from"./CLIENT_TransAdjustTicketDialog-D_k2ubEd.js";import{V as ue}from"./VChip-D8cGd_Nk.js";import{V as Je}from"./VPagination-Cu-c2KiW.js";import{_ as Jl}from"./CLIENT_InternalTransactionDialog-BECFc6wz.js";import{_ as Zl}from"./CLIENT_WithdrawTicketDialog-t9uyoLJT.js";import{_ as et}from"./CLIENT_DepositTicketDialog-CGfhtw3O.js";import{V as Vl,a as wl}from"./VRadioGroup-srsloek4.js";import{_ as Dl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as lt}from"./AppAutocomplete-g733KdQL.js";import{V as xl}from"./VSpacer-DyQ7y1VP.js";import{_ as Cl}from"./AppDrawerHeaderSection-6Uq5dFPW.js";import{P as kl}from"./vue3-perfect-scrollbar.esm-D7Ifjn5r.js";import{V as $l}from"./VNavigationDrawer-BWWdVdi3.js";import{V as je}from"./VFileInput-DrqzmL0D.js";import{_ as tt}from"./ClientDocumentViewDialog-DDUk8kM6.js";import{_ as at}from"./UserUpgradePlanDialog-C2lxSPbQ.js";import{_ as st}from"./UserInfoEditDialog-DsjnBcN1.js";import{_ as Al}from"./CustomClientCardChip-Dc4QyZIo.js";import{V as nt}from"./VBadge-CCPgFmkv.js";import{V as pe}from"./VAvatar-wnXjew_Y.js";import{V as Me}from"./VImg-B42m9A7W.js";import{V as ot}from"./VTooltip-BZyrFlBl.js";import{V as ye,a as fe,b as _e,d as Oe}from"./VList-5vlsifz2.js";import{V as Tl}from"./VSnackbar-CPQ_iJwP.js";import{V as Rl}from"./form-CYMWMDe3.js";import{V as it}from"./VCheckbox-BlaZALa7.js";import{V as Qe}from"./VSlideGroup-B3SXn0uI.js";import{V as Ge}from"./VSlideGroupItem-doU5y7w1.js";import{_ as ut}from"./MoreBtn-B8PxRqJ5.js";/* empty css                                                             *//* empty css                                                                           */import{u as rt}from"./useAbility-CSYbERAj.js";import"./helpers-DK5QwNv0.js";import"./VTextarea-BTu5lCJU.js";/* empty css                   */import"./VCounter-SxgduR_A.js";import"./transition-_Xax5M9R.js";import"./VField-Df50SrI3.js";import"./easing-CjukEv2V.js";import"./VInput-DAwT59S2.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-5lsGLJa6.js";import"./VTextField-CoFv3QGW.js";import"./dialog-transition-CItTByya.js";import"./VMenu-D6lEWhF2.js";import"./VOverlay-DwceuVdP.js";import"./lazy-Cj8GSj15.js";import"./scopeId-Do5sjjm7.js";import"./VCheckboxBtn-wesVee1z.js";import"./VSelectionControl-B8Rx6gSY.js";import"./index-B3bPRkoL.js";/* empty css              */import"./createSimpleFunctional-oYa5xB7G.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./ssrBoot-CYrols-G.js";import"./useApi-7-q82HYv.js";import"./filter-u2ngTp3e.js";import"./VSwitch-BmTkQGZI.js";const dt={key:1},ct={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},mt={class:"app-timeline-title"},pt={class:"app-timeline-meta"},ft={class:"d-inline-flex align-center mt-1"},_t={key:2},vt={key:0,class:"text-body-2 pt-3 pb-0 mb-3 text-error ms-3"},gt={key:1},bt={class:"text-h4 mb-4"},yt=a("span",{class:"text-5xl font-weight-light"},"X",-1),ht={class:"text-h4 mb-4"},Vt={__name:"client-status-change",props:{clientId:{type:Number,required:!0}},setup(O){const m=s([]),g=s(null),v=s(null),r=s(null),y=s(!1),V=s(!1),f=s(!1),p=s(!1);let w=s(""),k=s(""),U=s(""),h=s("");const D=s(null),c=s([]),C=s(!0),R=O;he(async()=>{P(),S()});const P=async()=>{try{const d=await ie("/getClientStatusData",{method:"GET"});d&&(g.value=d,m.value=g.value.client_status)}catch(d){console.error("Error fetching group category:",d),error.value=d}},S=async()=>{const d=await ie(`/getClientComments/${R.clientId}`,{method:"GET",onResponseError({response:n}){}});d&&(c.value=d.comments,C.value=!1)};function x(){v.value===null||r.value===null?D.value=!1:(y.value=!0,D.value=!0)}const z=async d=>{if(d){V.value=!0;try{await ie("/addClientComment",{method:"POST",body:{client_id:R.clientId,comment:r.value,status:v.value},onResponseError({response:_}){w.value="Something Went Wrong !",k.value=_._data.message,f.value=!0,V.value=!1}})&&(U.value="Success !",h.value="Client Status Updated Successfully !",p.value=!0,V.value=!1)}catch(n){w.value="Something Went Wrong !",k.value=n.data.message,f.value=!0,V.value=!1}}},E=async d=>{window.location.reload()};return(d,n)=>{const _=hl,$=Ue,I=al,Q=ke;return o(),A(ae,null,[e(de,null,{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[("hasAccess"in d?d.hasAccess:t(W))("view_client_status_history")?(o(),b(q,{key:0},{default:l(()=>[t(C)?(o(),A(ae,{key:0},ce(3,M=>e(Ce,{key:M,type:"article"})),64)):B("",!0),t(c).length>0?(o(),A("div",dt,[t(c)?(o(),b(Ol,{key:0,align:"start",density:"compact","line-inset":"8",side:"end","truncate-line":"start"},{default:l(()=>[(o(!0),A(ae,null,ce(t(c),M=>(o(),b(gl,{size:"x-small"},{default:l(()=>[a("div",ct,[a("div",null,[a("span",mt,u(M.status_name),1),a("div",null,u(M.message),1)]),a("span",pt,u(("formatDateToMonthShort"in d?d.formatDateToMonthShort:t(Ne))(M.created_at)),1)]),a("div",ft,[e(_,{rm_id:M.staff_id,rm_name:M.staff_name},null,8,["rm_id","rm_name"])])]),_:2},1024))),256))]),_:1})):B("",!0)])):(o(),A("div",_t,[t(C)?B("",!0):(o(),b(Se,{key:0,type:"warning"},{default:l(()=>[i(" No Data Found .... ")]),_:1}))]))]),_:1})):(o(),b(q,{key:1},{default:l(()=>[e(Se,{type:"warning"},{default:l(()=>[i(" You dont have enough permissions to view this data. ")]),_:1})]),_:1}))]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(xe,null,{default:l(()=>[i(" Update Status "),e(ve)]),_:1}),e(sl,{onSubmit:ll(()=>{},["prevent"])},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12"},{default:l(()=>[e($,{class:"mx-3",modelValue:t(v),"onUpdate:modelValue":n[0]||(n[0]=M=>F(v)?v.value=M:null),items:t(m),"item-title":"status_name","item-value":"id",label:"Select Plan","single-line":"",rules:["requiredValidator"in d?d.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),e(L,{cols:"12"},{default:l(()=>[e(I,{class:"mx-3",modelValue:t(r),"onUpdate:modelValue":n[1]||(n[1]=M=>F(r)?r.value=M:null),label:"Comment","auto-grow":""},null,8,["modelValue"])]),_:1}),t(D)===!1?(o(),A("p",vt,"All fields are mandatory")):B("",!0)]),_:1}),e(L,{cols:"6"},{default:l(()=>[("hasAccess"in d?d.hasAccess:t(W))("update_client_status")?(o(),b(T,{key:0,class:"mb-5",color:"primary",onClick:x,loading:t(V)},{default:l(()=>[i(" Submit ")]),_:1},8,["loading"])):(o(),A("p",gt,"You dont have permission to update client status"))]),_:1})]),_:1})]),_:1})]),_:1}),e(Q,{isDialogVisible:t(y),"onUpdate:isDialogVisible":n[2]||(n[2]=M=>F(y)?y.value=M:null),onConfirm:z,"confirmation-question":"Are you want to update client status?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:t(p),"onUpdate:modelValue":n[4]||(n[4]=M=>F(p)?p.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",bt,u(t(U)),1),a("p",null,u(t(h)),1),e(T,{color:"success",onClick:n[3]||(n[3]=M=>E())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(f),"onUpdate:modelValue":n[5]||(n[5]=M=>F(f)?f.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[yt]),_:1}),a("h1",ht,u(t(w)),1),a("p",null,u(t(k)),1),e(T,{color:"success",onClick:E},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},wt=a("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[a("div",null,[a("div",{class:"d-flex align-center app-logo"},[a("h6",{class:"app-logo-title"}," Edit Bank Details ")])])],-1),Dt={class:"text-h4 mb-4"},xt=a("span",{class:"text-5xl font-weight-light"},"X",-1),Ct={class:"text-h4 mb-4"},kt={__name:"EditBankDetailsDialog",props:{bank_details:{type:Object,required:!1},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(null),v=s(null),r=s(null),y=s(null),V=s(null),f=s(null),p=s(null),w=s(null),k=s(!1),U=s(!1),h=s(!1),D=s(!1);let c=s(""),C=s(""),R=s(""),P=s(""),S=s(""),x=s("");const z=s(null),E=O,d=m,n=Q=>{d("update:isDialogVisible",Q)};re(()=>E.bank_details,Q=>{Q&&(z.value=Q.client_id,g.value=Q.id,v.value=Q.account_no||"",r.value=Q.holder_name||"",y.value=Q.bank_name||"",V.value=Q.country||"",f.value=Q.iban,p.value=Q.ifsc_code||"",w.value=Q.bank_address||"")},{immediate:!0});function _(){k.value=!0}const $=async Q=>{if(Q){U.value=!0;const M=String(z.value),ne=String(v.value),oe=String(g.value);S.value=M+ne+oe,x.value=Gl(S.value);try{await ie("/updateCbankDetails",{method:"POST",body:{client_id:z.value,account_no:v.value,ifsc_code:p.value,iban:f.value,checksum:x.value,bank_name:y.value,bank_address:w.value,holder_name:r.value,country:V.value},onResponseError({response:te}){c.value="Something Went Wrong !",C.value=te._data.message,U.value=!1,h.value=!0}})&&(R.value="Success !",P.value="Bank Details Updated Successfully !",U.value=!1,D.value=!0)}catch(N){c.value="Something Went Wrong !",C.value=N.data.message,U.value=!1,h.value=!0}}},I=async Q=>{window.location.reload()};return(Q,M)=>{const ne=$e,oe=Le,N=al,te=ke;return o(),A(ae,null,[e(le,{width:Q.$vuetify.display.smAndDown?"auto":800,"model-value":E.isDialogVisible,"onUpdate:modelValue":n},{default:l(()=>[e(ne,{onClick:M[0]||(M[0]=K=>n(!1))}),e(G,{class:"pa-6 pa-sm-10"},{default:l(()=>[wt,e(sl,{onSubmit:ll(()=>{},["prevent"])},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(oe,{modelValue:t(v),"onUpdate:modelValue":M[1]||(M[1]=K=>F(v)?v.value=K:null),label:"Account Number",readonly:""},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(oe,{modelValue:t(r),"onUpdate:modelValue":M[2]||(M[2]=K=>F(r)?r.value=K:null),label:"Account Holder Name"},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(oe,{modelValue:t(y),"onUpdate:modelValue":M[3]||(M[3]=K=>F(y)?y.value=K:null),label:"Bank Name"},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(oe,{modelValue:t(V),"onUpdate:modelValue":M[4]||(M[4]=K=>F(V)?V.value=K:null),label:"Country"},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(oe,{modelValue:t(f),"onUpdate:modelValue":M[5]||(M[5]=K=>F(f)?f.value=K:null),label:"IBAN"},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(oe,{modelValue:t(p),"onUpdate:modelValue":M[6]||(M[6]=K=>F(p)?p.value=K:null),label:"IFSC Code"},null,8,["modelValue"])]),_:1}),e(L,{cols:"12"},{default:l(()=>[e(N,{class:"mt-2",modelValue:t(w),"onUpdate:modelValue":M[7]||(M[7]=K=>F(w)?w.value=K:null),label:"Bank Address","auto-grow":""},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(T,{color:"primary",onClick:_,loading:t(U)},{default:l(()=>[i(" Update ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(te,{isDialogVisible:t(k),"onUpdate:isDialogVisible":M[8]||(M[8]=K=>F(k)?k.value=K:null),onConfirm:$,"confirmation-question":"Do you want to update the bank details?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:t(D),"onUpdate:modelValue":M[10]||(M[10]=K=>F(D)?D.value=K:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Dt,u(t(R)),1),a("p",null,u(t(P)),1),e(T,{color:"success",onClick:M[9]||(M[9]=K=>I())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(h),"onUpdate:modelValue":M[11]||(M[11]=K=>F(h)?h.value=K:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[xt]),_:1}),a("h1",Ct,u(t(c)),1),a("p",null,u(t(C)),1),e(T,{color:"success",onClick:I},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},$t=a("div",{class:"d-flex justify-space-between mb-6 flex-wrap align-center gap-y-4 gap-x-6"},[a("h5",{class:"text-h5"},"Bank Details")],-1),At={class:"d-flex justify-space-between py-3 gap-y-2 flex-wrap align-center"},Tt={class:"d-flex align-center gap-x-4"},St={class:"d-flex gap-x-2 mb-1"},It={class:"text-h6"},Ut={class:"text-body-1"},zt={class:"ms-5"},Mt={class:"px-10 pb-3"},Et=a("td",null,"Name",-1),Ot={class:"font-weight-medium text-high-emphasis"},Bt=a("td",null,"Account Number",-1),Lt={class:"font-weight-medium text-high-emphasis"},Rt=a("td",null,"Bank Name",-1),Pt={class:"font-weight-medium text-high-emphasis"},qt=a("td",null,"Added On",-1),Nt={class:"font-weight-medium text-high-emphasis"},Wt=a("td",null,"IBAN",-1),jt={class:"font-weight-medium text-high-emphasis"},Ft=a("td",null,"Country",-1),Gt={class:"font-weight-medium text-high-emphasis"},Kt=a("td",null,"IFSC Code",-1),Ht={class:"font-weight-medium text-high-emphasis"},Qt=a("td",null,"Address",-1),Xt={class:"font-weight-medium text-high-emphasis"},Yt={key:2},Jt=a("div",{class:"d-flex justify-space-between mb-6 flex-wrap align-center gap-y-4 gap-x-6"},[a("h5",{class:"text-h5"},"Bank Details")],-1),Zt={__name:"profile-settings",props:{clientId:{type:Number,required:!0}},setup(O){const m=s([]),g=s(!1),v=s(null),r=s(!0),y=O;he(async()=>{V()});const V=async()=>{const k=await ie(`/getClientBankDetails/${y.clientId}`,{method:"GET",onResponseError({response:U}){}});k&&(m.value=k.bank_details,r.value=!1,console.log(r.value))};function f(k){v.value=k,g.value=!0,console.log(v.value,"bank")}s(!1),s(!1);const p=s([!0]);function w(k){p.value[k]=!p.value[k]}return(k,U)=>{const h=Ul("IconBtn"),D=kt;return o(),A(ae,null,[e(G,null,{default:l(()=>[("hasAccess"in k?k.hasAccess:t(W))("view_bank_details")?(o(),b(q,{key:0},{default:l(()=>[$t,t(r)?(o(),A(ae,{key:0},ce(3,c=>e(Ce,{key:c,type:"article"})),64)):B("",!0),t(m).length?(o(!0),A(ae,{key:1},ce(t(m),(c,C)=>(o(),A("div",{key:C},[a("div",At,[a("div",Tt,[e(X,{icon:t(p)[C]?"tabler-chevron-down":"tabler-chevron-right",size:"24",class:"flip-in-rtl text-high-emphasis",onClick:R=>w(C)},null,8,["icon","onClick"]),e(X,{icon:"tabler-building-bank",size:"30"}),a("div",null,[a("div",St,[a("h6",It,u(c.account_no),1)]),a("div",Ut,u(c.bank_name),1)])]),a("div",zt,[("hasAccess"in k?k.hasAccess:t(W))("update_bank_details")?(o(),b(h,{key:0},{default:l(()=>[e(X,{icon:"tabler-edit",class:"flip-in-rtl",onClick:R=>f(c)},null,8,["onClick"])]),_:2},1024)):B("",!0)])]),e(Kl,null,{default:l(()=>[Nl(a("div",null,[a("div",Mt,[e(de,null,{default:l(()=>[e(L,{cols:"12",md:"6"},{default:l(()=>[e(Be,null,{default:l(()=>[a("tr",null,[Et,a("td",Ot,u(c.holder_name),1)]),a("tr",null,[Bt,a("td",Lt," **** "+u(c.account_no.slice(-4)),1)]),a("tr",null,[Rt,a("td",Pt,u(c.bank_name),1)]),a("tr",null,[qt,a("td",Nt,u(("formatDateToMonthShort"in k?k.formatDateToMonthShort:t(Ne))(c.created_at)),1)])]),_:2},1024)]),_:2},1024),e(L,{cols:"12",md:"6"},{default:l(()=>[e(Be,null,{default:l(()=>[a("tr",null,[Wt,a("td",jt,u(c.iban),1)]),a("tr",null,[Ft,a("td",Gt,u(c.country),1)]),a("tr",null,[Kt,a("td",Ht,u(c.ifsc_code),1)]),a("tr",null,[Qt,a("td",Xt,u(c.bank_address),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])],512),[[Wl,t(p)[C]]])]),_:2},1024),C!==t(m).length-1?(o(),b(ve,{key:0})):B("",!0)]))),128)):(o(),A("div",Yt,[t(r)?B("",!0):(o(),b(Se,{key:0,type:"warning"},{default:l(()=>[i(" No Data Found ")]),_:1}))]))]),_:1})):(o(),b(q,{key:1},{default:l(()=>[Jt,e(Se,{type:"warning"},{default:l(()=>[i(" You dont have enough permissions to view this data. ")]),_:1})]),_:1}))]),_:1}),e(D,{isDialogVisible:t(g),"onUpdate:isDialogVisible":U[0]||(U[0]=c=>F(g)?g.value=c:null),bank_details:t(v)},null,8,["isDialogVisible","bank_details"])],64)}}},ea={__name:"ClientProfileSettings",props:{clientId:{type:Number,required:!0}},setup(O){const m=s("Bank Details"),g=["Bank Details","Update Status"];return(v,r)=>{const y=Zt,V=Vt;return o(),b(G,{class:"py-5"},{default:l(()=>[e(Xe,{class:"mb-0 pb-0 mt-0 pt-0",modelValue:t(m),"onUpdate:modelValue":r[0]||(r[0]=f=>F(m)?m.value=f:null),grow:""},{default:l(()=>[(o(),A(ae,null,ce(g,f=>e(qe,{key:f},{default:l(()=>[i(u(f),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),e(Ye,{modelValue:t(m),"onUpdate:modelValue":r[1]||(r[1]=f=>F(m)?m.value=f:null)},{default:l(()=>[e(Te,null,{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12"},{default:l(()=>[e(G,null,{default:l(()=>[e(y,{"client-id":O.clientId},null,8,["client-id"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Te,null,{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12"},{default:l(()=>[e(G,null,{default:l(()=>[e(V,{clientId:O.clientId},null,8,["clientId"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},la=a("th",null," ID|DATE ",-1),ta=a("th",null," MT5 ID ",-1),aa=a("th",null," TYPE ",-1),sa=a("th",null," REQ.AMNT ",-1),na=a("th",null," STATUS ",-1),oa={key:0},ia={class:"text-caption me-0 ms-0",style:{"padding-left":"2px"}},ua=a("br",null,null,-1),ra={key:0},da={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},ca={__name:"transaction-adjustments",props:{clientId:{type:Number,required:!0}},setup(O){const m=s(""),g=s(""),v=s(20),r=s(1),y=s(null),V=s(null),f=s(null),p=s(null),w=s(null),k=s(null),U=s(null),h=[{title:"All",value:null},{title:"All Credit In",value:"6"},{title:"LS Credit In",value:"0"},{title:"NLS Credit In",value:"1"},{title:"Credit Out",value:"2"},{title:"Adjustments",value:"3"},{title:"IB Commission",value:"4"}],D=O,c=async()=>{const z=await ie("/transactions/trans-adj-listing",{method:"POST",body:{page:r.value,client_id:D.clientId,manager:f.value,from_date:w.value,to_date:k.value,mt5id:g.value,keyword:m.value,ta_type:U.value},onResponseError({response:E}){console.log(E)}});p.value=z},C=we(()=>{var z;return((z=p.value)==null?void 0:z.transaction_details.data)||[]}),R=we(()=>{var z;return((z=p.value)==null?void 0:z.transaction_details.total)||0});he(async()=>{c()}),re([r,v,y,V,f,U,m,g,w,k],()=>{c()},{deep:!0,immediate:!1}),tl(()=>{}),s(!1);const P=s(!1),S=s(null);function x(z){console.log(z),S.value=z,P.value=!0}return(z,E)=>{const d=Ue,n=Bl,_=ol,$=nl;return o(),A(ae,null,[a("section",null,[e(G,{class:""},{default:l(()=>[e(q,{class:"px-0 pt-0 pb-5"},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"3"},{default:l(()=>[e(d,{modelValue:U.value,"onUpdate:modelValue":E[0]||(E[0]=I=>U.value=I),label:"Transaction Types",placeholder:"Transaction Type",items:h,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(L,{cols:"12",sm:"3"},{default:l(()=>[e(n,{modelValue:w.value,"onUpdate:modelValue":E[1]||(E[1]=I=>w.value=I),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(L,{cols:"12",sm:"3"},{default:l(()=>[e(n,{modelValue:k.value,"onUpdate:modelValue":E[2]||(E[2]=I=>k.value=I),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(ve),p.value?(o(),b(Be,{key:0,height:"800",class:"text-no-wrap"},{default:l(()=>[a("thead",null,[a("tr",null,[la,ta,aa,sa,na,("hasAccess"in z?z.hasAccess:t(W))("view_transaction_adjustment_details_page")?(o(),A("th",oa," VIEW ")):B("",!0)])]),a("tbody",null,[C.value?(o(!0),A(ae,{key:0},ce(C.value,I=>(o(),A("tr",{class:"",key:I.transaction_id},[a("td",ia,[e(ue,{size:"x-small"},{default:l(()=>[i(" #"+u(I.transaction_id),1)]),_:2},1024),ua,i(" "+u(("formatDateToMonthShort"in z?z.formatDateToMonthShort:t(Ne))(I.created_at)),1)]),a("td",null,[e(_,{client_id:I.client_id,mt_id:I.mt_id,is_wallet:I.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),a("td",null,[e(ue,{size:"small",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[i(u(I.transaction_type),1)]),_:2},1024)]),a("td",null,u(("formatCurrency"in z?z.formatCurrency:t(me))(I.amount)),1),a("td",null,[e($,{trans_status:I.status},null,8,["trans_status"])]),("hasAccess"in z?z.hasAccess:t(W))("view_transaction_adjustment_details_page")?(o(),A("td",ra,[e(T,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-file-description",onClick:Q=>x(I)},null,8,["onClick"])])):B("",!0)]))),128)):(o(),b(Fe,{key:1,indeterminate:"",color:"primary"}))])]),_:1})):(o(),b(Ce,{key:1,type:"table-tbody"})),e(q,{class:"pt-2"},{default:l(()=>[a("div",da,[e(Je,{modelValue:r.value,"onUpdate:modelValue":E[3]||(E[3]=I=>r.value=I),"total-visible":z.$vuetify.display.smAndDown?3:5,length:Math.ceil(R.value/v.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(Yl,{isDialogVisible:P.value,"onUpdate:isDialogVisible":E[4]||(E[4]=I=>P.value=I),selectedTransaction:S.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},ma=a("th",null," ID|DATE ",-1),pa=a("th",null," FROM ",-1),fa=a("th",null," TO ",-1),_a=a("th",null," TRNS.AMNT ",-1),va=a("th",null," STATUS ",-1),ga={key:0},ba={class:"text-caption me-0 ms-0",style:{"padding-left":"2px"}},ya=a("br",null,null,-1),ha={key:0},Va={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},wa={__name:"internal-transactions",props:{clientId:{type:Number,required:!0}},setup(O){const m=s(""),g=s(""),v=s(20),r=s(1),y=s(null),V=s(null),f=s(null),p=s(null),w=s(null),k=s(null),U=O,h=async()=>{const S=await ie("/transactions/internal-listing",{method:"POST",body:{page:r.value,client_id:U.clientId,manager:f.value,from_date:w.value,to_date:k.value,mt5id:g.value,keyword:m.value},onResponseError({response:x}){console.log(x)}});p.value=S},D=we(()=>{var S;return((S=p.value)==null?void 0:S.transaction_details.data)||[]}),c=we(()=>{var S;return((S=p.value)==null?void 0:S.transaction_details.total)||0});he(async()=>{h()}),re([r,v,y,V,f,m,g,w,k],()=>{h()},{deep:!0,immediate:!1}),tl(()=>{}),s(!1);const C=s(!1),R=s(null);function P(S){R.value=S,C.value=!0}return(S,x)=>{const z=Bl,E=ol,d=nl;return o(),A(ae,null,[a("section",null,[e(G,{class:""},{default:l(()=>[e(q,{class:"px-0 pt-0 pb-5"},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"3"},{default:l(()=>[e(z,{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=n=>w.value=n),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(L,{cols:"12",sm:"3"},{default:l(()=>[e(z,{modelValue:k.value,"onUpdate:modelValue":x[1]||(x[1]=n=>k.value=n),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(ve),p.value?(o(),b(Be,{key:0,height:"800",class:"text-no-wrap"},{default:l(()=>[a("thead",null,[a("tr",null,[ma,pa,fa,_a,va,("hasAccess"in S?S.hasAccess:t(W))("view_internal_transfer_details_page")?(o(),A("th",ga," VIEW ")):B("",!0)])]),a("tbody",null,[D.value?(o(!0),A(ae,{key:0},ce(D.value,n=>(o(),A("tr",{class:"",key:n.transaction_id},[a("td",ba,[e(ue,{size:"x-small"},{default:l(()=>[i(" #"+u(n.transaction_id),1)]),_:2},1024),ya,i(" "+u(("formatDateToMonthShort"in S?S.formatDateToMonthShort:t(Ne))(n.created_at)),1)]),a("td",null,[e(E,{client_id:n.client_id,mt_id:n.from_mt_id,is_wallet:n.from_mt_wallet},null,8,["client_id","mt_id","is_wallet"])]),a("td",null,[e(E,{client_id:n.client_id,mt_id:n.to_mt_id,is_wallet:n.to_mt_wallet},null,8,["client_id","mt_id","is_wallet"])]),a("td",null,u(("formatCurrency"in S?S.formatCurrency:t(me))(n.trans_amount)),1),a("td",null,[e(d,{trans_status:n.status},null,8,["trans_status"])]),("hasAccess"in S?S.hasAccess:t(W))("view_internal_transfer_details_page")?(o(),A("td",ha,[e(T,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-file-description",onClick:_=>P(n)},null,8,["onClick"])])):B("",!0)]))),128)):(o(),b(Fe,{key:1,indeterminate:"",color:"primary"}))])]),_:1})):(o(),b(Ce,{key:1,type:"table-tbody"})),e(q,{class:"pt-2"},{default:l(()=>[a("div",Va,[e(Je,{modelValue:r.value,"onUpdate:modelValue":x[2]||(x[2]=n=>r.value=n),"total-visible":S.$vuetify.display.smAndDown?3:5,length:Math.ceil(c.value/v.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(Jl,{isDialogVisible:C.value,"onUpdate:isDialogVisible":x[3]||(x[3]=n=>C.value=n),selectedTransaction:R.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},Da=a("th",{class:"px-0 py-0"}," ID/DATE ",-1),xa=a("th",null," FROM ",-1),Ca=a("th",null," REQ.AMNT ",-1),ka=a("th",null," APP.AMNT ",-1),$a=a("th",null," METHOD ",-1),Aa=a("th",null," STATUS ",-1),Ta={key:0},Sa={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Ia=a("br",null,null,-1),Ua={key:0},za={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Ma={__name:"withdraw-list",props:{clientId:{type:Number,required:!0}},setup(O){const m=s(""),g=s(""),v=s(null),r=s(null),y=s(null),V=s(null),f=s(null),p=s(null),w=s(null),k=s(null),U=s(null);s(null);const h=s(20),D=s(1),c=s(null),C=s(null),R=s(null),P=[{title:"All",value:null},{title:"Pending",value:"0"},{title:"On Hold",value:"1"},{title:"Rejected",value:"2"},{title:"Approved",value:"3"},{title:"Cancelled",value:"6"}],S=O,x=async()=>{R.value=null;const $=await ie("/transactions/withdraw-listing",{method:"POST",body:{page:D.value,client_id:S.clientId,withdraw_status:r.value,currency:w.value,withdraw_method:k.value,manager:p.value,keyword:m.value,mt5id:g.value,from_date:V.value,to_date:f.value},onResponseError({response:I}){console.log(I)}});R.value=$},z=we(()=>{var $;return(($=R.value)==null?void 0:$.transaction_details.data)||[]}),E=we(()=>{var $;return(($=R.value)==null?void 0:$.transaction_details.total)||0});he(async()=>{await x(),await Ll()}),re([D,h,p,V,f,g,v,r,y,w,k,U,m,c,C],()=>{x()},{deep:!0,immediate:!1}),tl(()=>{}),s(!1);const d=s(!1),n=s(null);function _($){n.value=$,d.value=!0}return($,I)=>{const Q=Ue,M=ol,ne=nl,oe=Zl;return o(),A(ae,null,[a("section",null,[e(G,{class:""},{default:l(()=>[e(q,{class:"px-0 pt-0 pb-5"},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"3"},{default:l(()=>[e(Q,{modelValue:r.value,"onUpdate:modelValue":I[0]||(I[0]=N=>r.value=N),label:"Withdraw Status",placeholder:"Withdraw Status",items:P,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(fl)&&t(fl).length>1?(o(),b(L,{key:0,cols:"12",sm:"3"},{default:l(()=>[e(Q,{modelValue:k.value,"onUpdate:modelValue":I[1]||(I[1]=N=>k.value=N),label:"Withdraw Method",placeholder:"Withdraw Method",items:t(fl),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):B("",!0)]),_:1})]),_:1}),e(ve),R.value?(o(),b(Be,{key:0,height:"800",class:"text-no-wrap"},{default:l(()=>[a("thead",null,[a("tr",null,[Da,xa,Ca,ka,$a,Aa,("hasAccess"in $?$.hasAccess:t(W))("view_withdraw_details_page")?(o(),A("th",Ta," VIEW ")):B("",!0)])]),a("tbody",null,[z.value?(o(!0),A(ae,{key:0},ce(z.value,N=>{var te;return o(),A("tr",{class:"",key:N.transaction_id},[a("td",Sa,[e(ue,{size:"x-small"},{default:l(()=>[i(" #"+u(N.transaction_id),1)]),_:2},1024),Ia,i(" "+u(("formatDateToMonthShort"in $?$.formatDateToMonthShort:t(Ne))(N.created_at)),1)]),a("td",null,[e(M,{client_id:N.c_id,mt_id:(te=N.from)==null?void 0:te.toString(),is_wallet:N.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),a("td",null,u(("formatCurrency"in $?$.formatCurrency:t(me))(N.amount_req)),1),a("td",null,u(("formatCurrency"in $?$.formatCurrency:t(me))(N.amount_app)),1),a("td",null,u(N.withdraw_method),1),a("td",null,[e(ne,{trans_status:N.status},null,8,["trans_status"])]),("hasAccess"in $?$.hasAccess:t(W))("view_withdraw_details_page")?(o(),A("td",Ua,[e(T,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-file-description",onClick:K=>_(N)},null,8,["onClick"])])):B("",!0)])}),128)):(o(),b(Fe,{key:1,indeterminate:"",color:"primary"}))])]),_:1})):(o(),b(Ce,{key:1,type:"table-tbody"})),e(q,{class:"pt-2"},{default:l(()=>[a("div",za,[e(Je,{modelValue:D.value,"onUpdate:modelValue":I[2]||(I[2]=N=>D.value=N),"total-visible":$.$vuetify.display.smAndDown?3:5,length:Math.ceil(E.value/h.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(oe,{isDialogVisible:d.value,"onUpdate:isDialogVisible":I[3]||(I[3]=N=>d.value=N),selectedTransaction:n.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},Ea=a("th",null," ID/DATE ",-1),Oa=a("th",null," TO ",-1),Ba=a("th",null," REQ.AMNT ",-1),La=a("th",null," APP.AMNT ",-1),Ra=a("th",null," METHOD ",-1),Pa=a("th",null," STATUS ",-1),qa={key:0},Na={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Wa=a("br",null,null,-1),ja={key:0},Fa={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Ga={__name:"deposit-list",props:{clientId:{type:Number,required:!0}},setup(O){const m=s(""),g=s(""),v=s(null),r=s(null),y=s(null),V=s(null),f=s(null),p=s(null),w=s(null),k=s(null);s(null);const U=s(null),h=[{title:"All",value:null},{title:"Pending",value:"0"},{title:"On Hold",value:"1"},{title:"Rejected",value:"2"},{title:"Approved",value:"3"}],D=s(20),c=s(1),C=s(null),R=s(null),P=s(null),S=O,x=async()=>{P.value=null;const $=await ie("/transactions/deposit-listing",{method:"POST",body:{page:c.value,client_id:S.clientId,deposit_status:r.value,currency:V.value,payment_method:f.value,manager:U.value,keyword:m.value,mt5id:g.value,from_date:w.value,to_date:k.value},onResponseError({response:I}){}});P.value=$},z=we(()=>{var $;return(($=P.value)==null?void 0:$.transaction_details.data)||[]}),E=we(()=>{var $;return(($=P.value)==null?void 0:$.transaction_details.total)||0});he(async()=>{await Ll(),await x()}),re([c,D,v,g,w,k,U,r,y,V,f,p,m,C,R],()=>{x()},{deep:!0,immediate:!1}),tl(()=>{}),s(!1);const d=s(!1),n=s(null);function _($){n.value=$,d.value=!0}return($,I)=>{const Q=Ue,M=ol,ne=nl,oe=et;return o(),A(ae,null,[a("section",null,[e(G,{class:""},{default:l(()=>[e(q,{class:"px-0 pt-0 pb-5"},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"2",md:"3"},{default:l(()=>[e(Q,{modelValue:r.value,"onUpdate:modelValue":I[0]||(I[0]=N=>r.value=N),label:"Deposit Status",placeholder:"Deposit Status",items:h,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(_l)&&t(_l).length>2?(o(),b(L,{key:0,cols:"12",sm:"2",md:"3"},{default:l(()=>[e(Q,{modelValue:V.value,"onUpdate:modelValue":I[1]||(I[1]=N=>V.value=N),label:"Deposited Currency",placeholder:"Deposited Currency",items:t(_l),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):B("",!0),t(vl)&&t(vl).length>1?(o(),b(L,{key:1,cols:"12",sm:"2",md:"3"},{default:l(()=>[e(Q,{modelValue:f.value,"onUpdate:modelValue":I[2]||(I[2]=N=>f.value=N),label:"Payment Method",placeholder:"Payment Method",items:t(vl),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):B("",!0)]),_:1})]),_:1}),e(ve),P.value?(o(),b(Be,{key:0,height:"800",class:"text-no-wrap"},{default:l(()=>[a("thead",null,[a("tr",null,[Ea,Oa,Ba,La,Ra,Pa,("hasAccess"in $?$.hasAccess:t(W))("view_deposit_details_page")?(o(),A("th",qa," VIEW ")):B("",!0)])]),a("tbody",null,[z.value?(o(!0),A(ae,{key:0},ce(z.value,N=>{var te;return o(),A("tr",{class:"",key:N.transaction_id},[a("td",Na,[e(ue,{size:"x-small"},{default:l(()=>[i(" #"+u(N.transaction_id),1)]),_:2},1024),Wa,i(" "+u(("formatDateToMonthShort"in $?$.formatDateToMonthShort:t(Ne))(N.created_at)),1)]),a("td",null,[e(M,{client_id:N.client_id,mt_id:(te=N.mt_id)==null?void 0:te.toString(),is_wallet:N.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),a("td",null,u(("formatCurrency"in $?$.formatCurrency:t(me))(N.amount_in_usd)),1),a("td",null,u(("formatCurrency"in $?$.formatCurrency:t(me))(N.approved_amount)),1),a("td",null,u(N.deposit_method),1),a("td",null,[e(ne,{trans_status:N.status},null,8,["trans_status"])]),("hasAccess"in $?$.hasAccess:t(W))("view_deposit_details_page")?(o(),A("td",ja,[e(T,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-file-description",onClick:K=>_(N)},null,8,["onClick"])])):B("",!0)])}),128)):(o(),b(Ce,{key:1,type:"table-tbody"}))])]),_:1})):(o(),b(Ce,{key:1,type:"table-tbody"})),e(q,{class:"pt-2"},{default:l(()=>[a("div",Fa,[e(Je,{modelValue:c.value,"onUpdate:modelValue":I[3]||(I[3]=N=>c.value=N),"total-visible":$.$vuetify.display.smAndDown?3:5,length:Math.ceil(E.value/D.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(oe,{isDialogVisible:d.value,"onUpdate:isDialogVisible":I[4]||(I[4]=N=>d.value=N),selectedTransaction:n.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},Ka={__name:"ClientTransactionsData",props:{clientId:{type:Number,required:!0}},setup(O){const m=s("Appetizers"),g=s([]),v=()=>{const r=[];W("view_deposit_list")&&r.push("Deposits"),W("view_withdraw_list")&&r.push("Withdrawals"),W("view_internal_transfer_list")&&r.push("Internal Transactions"),W("view_transaction_adjustments")&&r.push("Transaction Adjustments"),g.value=r};return he(()=>{v()}),(r,y)=>{const V=Ga,f=Ma,p=wa,w=ca;return o(),b(G,{class:"py-5"},{default:l(()=>[e(Xe,{modelValue:t(m),"onUpdate:modelValue":y[0]||(y[0]=k=>F(m)?m.value=k:null),"fixed-tabs":""},{default:l(()=>[(o(!0),A(ae,null,ce(t(g),k=>(o(),b(qe,{key:k,value:k},{default:l(()=>[i(u(k),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e(q,null,{default:l(()=>[e(Ye,{modelValue:t(m),"onUpdate:modelValue":y[1]||(y[1]=k=>F(m)?m.value=k:null)},{default:l(()=>[("hasAccess"in r?r.hasAccess:t(W))("view_deposit_list")?(o(),b(Te,{key:"Deposits",value:"Deposits"},{default:l(()=>[e(V,{"client-id":O.clientId},null,8,["client-id"])]),_:1})):B("",!0),("hasAccess"in r?r.hasAccess:t(W))("view_withdraw_list")?(o(),b(Te,{key:"Withdrawals",value:"Withdrawals"},{default:l(()=>[e(f,{"client-id":O.clientId},null,8,["client-id"])]),_:1})):B("",!0),("hasAccess"in r?r.hasAccess:t(W))("view_internal_transfer_list")?(o(),b(Te,{key:"Internal Transactions",value:"Internal Transactions"},{default:l(()=>[e(p,{"client-id":O.clientId},null,8,["client-id"])]),_:1})):B("",!0),("hasAccess"in r?r.hasAccess:t(W))("view_transaction_adjustments")?(o(),b(Te,{key:"Transaction Adjustments",value:"Transaction Adjustments"},{default:l(()=>[e(w,{"client-id":O.clientId},null,8,["client-id"])]),_:1})):B("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})}}},Ha=a("span",{class:"text-5xl"},"!",-1),Qa={class:"text-lg font-weight-medium"},Xa={__name:"ActivateWalletConfirmDialogue",props:{confirmationQuestion:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0},confirmTitle:{type:String,required:!0},cancelTitle:{type:String,required:!0}},emits:["update:isDialogVisible","confirm"],setup(O,{emit:m}){const g=O,v=m;s(!1),s(!1);const r=s(!1),y=p=>{v("update:isDialogVisible",p)},V=()=>{v("confirm",!0),r.value=!0},f=()=>{v("confirm",!1),v("update:isDialogVisible",!1)};return(p,w)=>(o(),b(le,{"max-width":"500","model-value":g.isDialogVisible,"onUpdate:modelValue":y},{default:l(()=>[e(G,{class:"text-center px-10 py-6"},{default:l(()=>[e(q,null,{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"warning",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Ha]),_:1}),a("h6",Qa,u(g.confirmationQuestion),1)]),_:1}),e(q,{class:"d-flex align-center justify-center gap-2"},{default:l(()=>[e(T,{variant:"elevated",onClick:V,loading:r.value},{default:l(()=>[i(" Confirm ")]),_:1},8,["loading"]),e(T,{color:"secondary",variant:"tonal",onClick:f},{default:l(()=>[i(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ya={class:"text-h4 mb-4"},Ja=a("span",{class:"text-5xl font-weight-light"},"X",-1),Za={class:"text-h4 mb-4"},es={__name:"EditCategoryLabelDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0},cat_label:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(null),v=[{text:"Premium",value:1},{text:"Regular",value:0}],r=s(!1),y=s(!1),V=s(!1);let f=s(""),p=s(""),w=s(""),k=s("");const U=s(!1),h=O,D=m,c=S=>{D("update:isDialogVisible",S)};he(()=>{g.value=h.cat_label}),re(()=>h.cat_label,S=>{g.value=S});function C(){r.value=!0}const R=async S=>{if(S){U.value=!0;try{await ie("/updateClientLabel",{method:"POST",body:{client_id:h.clientId,cat_label:g.value},onResponseError({response:z}){f.value="Something Went Wrong !",p.value=z._data.message,y.value=!0,U.value=!1}})&&(w.value="Success !",k.value="Category Label Updated Successfully !",V.value=!0,U.value=!1)}catch(x){f.value="Something Went Wrong !",p.value=x.response?x.response.data.message:x.message,y.value=!0,U.value=!1}}},P=()=>{window.location.reload()};return(S,x)=>{const z=$e,E=ke;return o(),A(ae,null,[e(le,{width:S.$vuetify.display.smAndDown?"auto":600,"model-value":h.isDialogVisible,"onUpdate:modelValue":c},{default:l(()=>[e(z,{onClick:x[0]||(x[0]=d=>c(!1))}),e(G,null,{default:l(()=>[e(xe,{class:"pt-3"},{default:l(()=>[i("Edit Category Label")]),_:1}),e(ve),e(L,{cols:"12"},{default:l(()=>[e(ze,null,{default:l(()=>[i(" Type ")]),_:1}),e(Vl,{modelValue:t(g),"onUpdate:modelValue":x[1]||(x[1]=d=>F(g)?g.value=d:null),inline:""},{default:l(()=>[(o(),A(ae,null,ce(v,d=>e(wl,{key:d.value,label:d.text,color:"primary",value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(L,{cols:"12"},{default:l(()=>[e(T,{class:"me-2",color:"primary",onClick:C,loading:t(U)},{default:l(()=>[i(" Submit ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(E,{isDialogVisible:t(r),"onUpdate:isDialogVisible":x[2]||(x[2]=d=>F(r)?r.value=d:null),onConfirm:R,"confirmation-question":"Do you want to Update Category Label?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:t(V),"onUpdate:modelValue":x[3]||(x[3]=d=>F(V)?V.value=d:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Ya,u(t(w)),1),a("p",null,u(t(k)),1),e(T,{color:"success",onClick:P},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(y),"onUpdate:modelValue":x[5]||(x[5]=d=>F(y)?y.value=d:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Ja]),_:1}),a("h1",Za,u(t(f)),1),a("p",null,u(t(p)),1),e(T,{color:"success",onClick:x[4]||(x[4]=d=>y.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},ls=O=>(bl("data-v-2f36c086"),O=O(),yl(),O),ts={class:"text-h4 mb-4"},as=ls(()=>a("span",{class:"text-5xl font-weight-light"},"X",-1)),ss={class:"text-h4 mb-4"},ns={__name:"EditDetachClientIbDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(!1),v=s(!1);s(null);const r=s(!1),y=s(!1),V=s(!1);let f=s(""),p=s(""),w=s(""),k=s("");const U=O,h=m,D=P=>{h("update:isDialogVisible",P)},c=async P=>{if(P){g.value=!0;try{const S=new FormData;S.append("client_id",U.clientId),await ie("/detachIb",{method:"POST",body:S,onResponseError({response:z}){f.value="Something Went Wrong !",p.value=z._data.message,g.value=!1,r.value=!0}})&&(w.value="Success !",k.value="Client Successfully Detached from the IB !",g.value=!1,y.value=!0)}catch(S){f.value="Something Went Wrong !",p.value=S.data.message,g.value=!1,r.value=!0}}},C=async()=>{window.location.reload()};function R(){v.value=!0}return(P,S)=>{const x=$e,z=ke;return o(),b(le,{width:P.$vuetify.display.smAndDown?"auto":600,"model-value":U.isDialogVisible,"onUpdate:modelValue":D},{default:l(()=>[e(x,{onClick:S[0]||(S[0]=E=>D(!1))}),e(G,{title:"Detach Client From IB"},{default:l(()=>[e(q,null,{default:l(()=>[e(de,null,{default:l(()=>[e(L,null,{default:l(()=>[e(sl,{onSubmit:ll(()=>{},["prevent"])},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12"},{default:l(()=>[e(Se,{type:"warning"},{default:l(()=>[i(" Detaching this client will stop the current IB from receiving any further commissions from the client's trades. Additionally, there may be a discrepancy in the existing commissions already generated for the IB, as the client will no longer be associated with them. ")]),_:1})]),_:1}),e(L,{cols:"12"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:S[1]||(S[1]=E=>D(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:t(g),disabled:t(V),onClick:S[2]||(S[2]=E=>R()),class:"align-self-end",block:P.$vuetify.display.md},{default:l(()=>[i(" Detach ")]),_:1},8,["loading","disabled","block"])]),_:1})]),_:1}),e(z,{isDialogVisible:t(v),"onUpdate:isDialogVisible":S[3]||(S[3]=E=>F(v)?v.value=E:null),onConfirm:c,"confirmation-question":"Are you sure you want to Detach this Client From IB?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"]),e(le,{modelValue:t(y),"onUpdate:modelValue":S[5]||(S[5]=E=>F(y)?y.value=E:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",ts,u(t(w)),1),a("p",null,u(t(k)),1),e(T,{color:"success",onClick:S[4]||(S[4]=E=>C())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(r),"onUpdate:modelValue":S[6]||(S[6]=E=>F(r)?r.value=E:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[as]),_:1}),a("h1",ss,u(t(f)),1),a("p",null,u(t(p)),1),e(T,{color:"success",onClick:C},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["width","model-value"])}}},os=Dl(ns,[["__scopeId","data-v-2f36c086"]]),is={class:"text-h4 mb-4"},us=a("span",{class:"text-5xl font-weight-light"},"X",-1),rs={class:"text-h4 mb-4"},ds={__name:"AddClientUnderIBDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0}},emits:["update:isDialogVisible"],setup(O,{emit:m}){const g=s(!0);s("");const v=s(!1),r=s(!1);s(null);const y=s(!1),V=s(!1),f=s(""),p=s(""),w=s(""),k=s(""),U=s(!1),h=s(),D=s(null),c=s(null),C=s([]),R=O,P=m,S=d=>{P("update:isDialogVisible",d)},x=async d=>{U.value=!0;try{const n=await ie("/getAttachIbData",{method:"POST",body:JSON.stringify({keyword:d})});n&&n.ib_user?C.value=n.ib_user:C.value=[]}catch(n){console.error("Error fetching staff data:",n)}finally{U.value=!1}};re(h,d=>{d&&d!==D.value&&x(d)}),re(D,d=>{if(d){const n=C.value.find(_=>_.client_id===d);n?(c.value=n,g.value=!1):g.value=!0}});const z=async d=>{var n;if(d){v.value=!0;try{const _=new FormData;_.append("client_id",R.clientId),c.value&&_.append("parent_id",c.value.client_id),await ie("/moveClientUnderIb",{method:"POST",body:_,onResponseError({response:I}){var Q;f.value="Something Went Wrong!",p.value=((Q=I==null?void 0:I._data)==null?void 0:Q.message)||"An unknown error occurred",v.value=!1,y.value=!0}})&&(w.value="Success!",k.value="Client Successfully Attached Under IB!",v.value=!1,V.value=!0)}catch(_){f.value="Something Went Wrong!",p.value=((n=_==null?void 0:_.data)==null?void 0:n.message)||"An unknown error occurred",v.value=!1,y.value=!0}}},E=()=>{window.location.reload()};return(d,n)=>{const _=$e,$=lt,I=ke;return o(),A(ae,null,[e(le,{width:d.$vuetify.display.smAndDown?"auto":600,"model-value":R.isDialogVisible,"onUpdate:modelValue":S},{default:l(()=>[e(_,{onClick:n[0]||(n[0]=Q=>S(!1))}),e(G,{title:"Move Client Under IB"},{default:l(()=>[e(q,null,{default:l(()=>[e(de,null,{default:l(()=>[e(L,null,{default:l(()=>[e(sl,{onSubmit:ll(()=>{},["prevent"])},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12"},{default:l(()=>[e(Se,{density:"comfortable",color:"secondary",variant:"tonal"},{default:l(()=>[i(" Please select the Introducing Broker (IB) to whom you would like to map this client. Upon selection, you will be able to view the default groups assigned to the IB. Please note that the mapped client will only be able to open MT5 accounts within these specified groups. ")]),_:1})]),_:1}),e(L,{cols:"12"},{default:l(()=>[e($,{modelValue:D.value,"onUpdate:modelValue":n[1]||(n[1]=Q=>D.value=Q),search:h.value,"onUpdate:search":n[2]||(n[2]=Q=>h.value=Q),loading:U.value,items:C.value,"item-title":"client_name","item-value":"client_id",placeholder:"Search for a client",label:"Client Name",chips:"","closable-chips":"","menu-props":{maxHeight:"200px"}},null,8,["modelValue","search","loading","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:n[3]||(n[3]=Q=>S(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:v.value,disabled:g.value,onClick:n[4]||(n[4]=Q=>r.value=!0),class:"align-self-end",block:d.$vuetify.display.md},{default:l(()=>[i(" Submit ")]),_:1},8,["loading","disabled","block"])]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(I,{isDialogVisible:r.value,"onUpdate:isDialogVisible":n[5]||(n[5]=Q=>r.value=Q),onConfirm:z,"confirmation-question":"Are you sure you want to add this client under IB","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"]),e(le,{modelValue:V.value,"onUpdate:modelValue":n[7]||(n[7]=Q=>V.value=Q),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",is,u(w.value),1),a("p",null,u(k.value),1),e(T,{color:"success",onClick:n[6]||(n[6]=Q=>E())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:y.value,"onUpdate:modelValue":n[8]||(n[8]=Q=>y.value=Q),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[us]),_:1}),a("h1",rs,u(f.value),1),a("p",null,u(p.value),1),e(T,{color:"success",onClick:E},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},cs={key:0,class:"text-body-2 pt-0 pb-0 mb-3 text-error"},ms={class:"text-h4 mb-4"},ps=a("span",{class:"text-5xl font-weight-light"},"X",-1),fs={class:"text-h4 mb-4"},_s={__name:"AddIBRequestDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(null),v=s(null),r=s([]),y=s(!0),V=s(!1),f=s(null),p=s(!1);s(!1);const w=s(!1),k=s(!1),U=s(""),h=s(""),D=s(""),c=s(""),C=s(!1),R=O,P=m,S=n=>{P("update:isDialogVisible",n)};he(async()=>{await x()});const x=async()=>{try{const n=await ie("/getAllmt5Groups",{method:"GET",onResponseError({response:_}){console.error("Error response:",_)}});n?(g.value=n.mt5Groups,v.value=g.value.filter(_=>_.ib_enabled===1)):console.error("Failed to fetch group list or empty response")}catch(n){console.error("Error fetching group list:",n)}};re([r],n=>{r.value.length>3&&(f.value=!0)},{deep:!0,immediate:!1}),re(r,n=>{n.length>3?(r.value=n.slice(0,3),f.value=!0):f.value=!1},{deep:!0,immediate:!1});const z=async n=>{if(n){V.value=!0;try{const _=new FormData;_.append("client_id",R.clientId),r.value.forEach(I=>{_.append("mt_group_list[]",I)}),await ie("/submitIbRequest",{method:"POST",body:_,onResponseError({response:I}){U.value="Something Went Wrong!",h.value=I._data.message,w.value=!0}})&&(D.value="Success!",c.value="IB Request Submitted Successfully!",k.value=!0),V.value=!1}catch(_){V.value=!1,U.value="Something Went Wrong!",h.value=_.message||"An error occurred.",w.value=!0}finally{V.value=!1}}},E=()=>{window.location.reload()};function d(){p.value=!0}return(n,_)=>{const $=$e,I=Ue,Q=ke;return o(),A(ae,null,[e(le,{width:n.$vuetify.display.smAndDown?"auto":600,"model-value":R.isDialogVisible,"onUpdate:modelValue":S},{default:l(()=>[e($,{onClick:_[0]||(_[0]=M=>S(!1))}),e(G,{title:"Create IB Request"},{default:l(()=>[e(q,null,{default:l(()=>[e(Se,{density:"comfortable",color:"secondary",variant:"tonal",class:"mb-5"},{default:l(()=>[i(" Please select the default groups for mapping this IB. Clients who open MT5 accounts under this IB will only be able to open MT5 accounts within the selected groups. ")]),_:1}),e(ve),e(de,{class:"mt-3"},{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(xl),e(I,{modelValue:t(r),"onUpdate:modelValue":_[1]||(_[1]=M=>F(r)?r.value=M:null),items:t(v),"item-title":"mt_group_name","item-value":"id",multiple:"","persistent-hint":"",label:"Select Group"},null,8,["modelValue","items"])]),_:1}),t(y)===!1?(o(),A("p",cs,"All fields are mandatory")):B("",!0)]),_:1})]),_:1}),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:_[2]||(_[2]=M=>S(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:t(V),disabled:t(C),onClick:d,class:"align-self-end",block:n.$vuetify.display.md},{default:l(()=>[i(" Request ")]),_:1},8,["loading","disabled","block"])]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(Q,{isDialogVisible:t(p),"onUpdate:isDialogVisible":_[3]||(_[3]=M=>F(p)?p.value=M:null),onConfirm:z,"confirmation-question":"Do you want to approve the IB request?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(Q,{isDialogVisible:t(p),"onUpdate:isDialogVisible":_[4]||(_[4]=M=>F(p)?p.value=M:null),onConfirm:z,"cancel-title":"Cancelled","confirm-title":"Confirm","confirmation-question":"Are you sure you want to place IB request?"},null,8,["isDialogVisible"]),e(le,{modelValue:t(k),"onUpdate:modelValue":_[5]||(_[5]=M=>F(k)?k.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",ms,u(t(D)),1),a("p",null,u(t(c)),1),e(T,{color:"success",onClick:E},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(w),"onUpdate:modelValue":_[7]||(_[7]=M=>F(w)?w.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[ps]),_:1}),a("h1",fs,u(t(U)),1),a("p",null,u(t(h)),1),e(T,{color:"success",onClick:_[6]||(_[6]=M=>w.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},vs={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},gs=a("span",{class:"app-timeline-title"}," Active Manager In Charge ",-1),bs=a("div",{class:"app-timeline-text mt-1"}," SuperVisory Information ",-1),ys={class:"d-inline-flex align-center mt-1"},hs={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},Vs={class:"app-timeline-title"},ws={class:"app-timeline-meta"},Ds=a("div",{class:"app-timeline-text mt-1"}," Line Manager Information ",-1),xs={class:"d-inline-flex align-center mt-1"},Cs={__name:"RMManagerDialog",props:{isDrawerOpen:{type:Boolean,required:!0},clientId:{type:Number,required:!0},managerHistory:{type:Array,required:!0},managerId:{type:Number},managerName:{type:String},managerPic:{type:String}},emits:["update:isDrawerOpen","userData"],setup(O,{emit:m}){const g=s(),v=O,r=m,y=h=>{r("update:isDrawerOpen",h)},V=["primary","warning","error","info","success"],f=h=>{const D=new Date(h),c={year:"numeric",month:"long",day:"numeric"};return D.toLocaleDateString(void 0,c)},p=h=>V[h%V.length],w=h=>`Manager Assigned on ${f(h)}`,k=we(()=>[...v.managerHistory].sort((h,D)=>new Date(h.manager_assigned_on)-new Date(D.manager_assigned_on))),U=()=>{r("update:isDrawerOpen",!1),zl(()=>{var h,D;(h=g.value)==null||h.reset(),(D=g.value)==null||D.resetValidation()})};return(h,D)=>{const c=Cl,C=hl;return o(),b($l,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":v.isDrawerOpen,"onUpdate:modelValue":y},{default:l(()=>[e(c,{title:"RM Manager History",onCancel:U}),e(ve),e(t(kl),{options:{wheelPropagation:!1}},{default:l(()=>[e(G,{title:"Managerial Timeline"},{default:l(()=>[e(q,null,{default:l(()=>[e(Ol,{side:"end",align:"start","line-inset":"8","truncate-line":"start",density:"compact"},{default:l(()=>[e(gl,{"dot-color":"success",size:"x-small"},{default:l(()=>[a("div",vs,[gs,e(ue,{size:"small",variant:"outlined",color:"success"},{default:l(()=>[i("Active")]),_:1})]),bs,a("div",ys,[e(C,{rm_id:v.managerId,rm_name:v.managerName},null,8,["rm_id","rm_name"])])]),_:1}),(o(!0),A(ae,null,ce(t(k),(R,P)=>(o(),b(gl,{key:R.id,"dot-color":p(P),size:"x-small"},{default:l(()=>[a("div",hs,[a("span",Vs,u(w(R.manager_assigned_on)),1),a("span",ws,u(("formatTime"in h?h.formatTime:t(jl))(R.manager_assigned_on)),1)]),Ds,a("div",xs,[e(C,{rm_id:R.rm_id,rm_name:R.rm_name,rm_email:R.email},null,8,["rm_id","rm_name","rm_email"])])]),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},ks={class:"text-h4 mb-4"},$s=a("span",{class:"text-5xl font-weight-light"},"X",-1),As={class:"text-h4 mb-4"},Ts=2*1024*1024,Ss={__name:"UploadDocumentDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0}},emits:["update:isDialogVisible"],setup(O,{emit:m}){const g=O,v=s(!1),r=s(!1),y=s(!1),V=s(!1),f=s(!1);let p=s(""),w=s(""),k=s(""),U=s("");const h=m,D=[d=>!d||!d.length||d[0].size<=Ts||"File size should be less than 2 MB!",d=>!d||!d.length||["image/png","image/jpeg","image/bmp","application/pdf"].includes(d[0].type)||"Only image or PDF files are allowed!"],c=s(null),C=s(null),R=s(null),P=s(null),S=()=>{window.location.reload()},x=async()=>{let d=0;const n=[c.value,C.value,R.value,P.value];for(const _ of n)_&&_.length&&D.every($=>$(_)===!0)&&d++;d>=2?y.value=!0:(p.value="Validation Error",w.value="At least two valid files must be selected.",f.value=!0)},z=async d=>{if(d){v.value=!0;const n=new FormData;n.append("poi",c.value?c.value[0]:""),n.append("poi1",C.value?C.value[0]:""),n.append("poa",R.value?R.value[0]:""),n.append("poa1",P.value?P.value[0]:""),n.append("client_id",g.clientId);try{await ie("/storeClientDocument",{method:"POST",body:n,onResponseError({response:$}){p.value="Something Went Wrong !",w.value=$._data.message,v.value=!1,f.value=!0}})&&(k.value="Success !",U.value="Documents Updated Successfully !",v.value=!1,V.value=!0)}catch(_){p.value="Something Went Wrong !",w.value=_.response?_.response.data.message:_.message,v.value=!1,f.value=!0}}},E=d=>{h("update:isDialogVisible",d)};return(d,n)=>{const _=$e,$=ke;return o(),b(le,{width:d.$vuetify.display.smAndDown?"auto":700,"model-value":g.isDialogVisible,"onUpdate:modelValue":E},{default:l(()=>[e(_,{onClick:n[0]||(n[0]=I=>E(!1))}),e(G,{title:"Upload Documents"},{default:l(()=>[e(q,null,{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(je,{modelValue:c.value,"onUpdate:modelValue":n[1]||(n[1]=I=>c.value=I),rules:D,label:"Upload POI",accept:"image/png, image/jpeg, image/bmp, application/pdf",placeholder:"Select file for POI","prepend-icon":"tabler-camera"},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(je,{modelValue:C.value,"onUpdate:modelValue":n[2]||(n[2]=I=>C.value=I),rules:D,label:"Upload POI1",accept:"image/png, image/jpeg, image/bmp, application/pdf",placeholder:"Select file for POI1","prepend-icon":"tabler-camera"},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(je,{modelValue:R.value,"onUpdate:modelValue":n[3]||(n[3]=I=>R.value=I),rules:D,label:"Upload POA",accept:"image/png, image/jpeg, image/bmp, application/pdf",placeholder:"Select file for POA","prepend-icon":"tabler-camera"},null,8,["modelValue"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(je,{modelValue:P.value,"onUpdate:modelValue":n[4]||(n[4]=I=>P.value=I),rules:D,label:"Upload POA1",accept:"image/png, image/jpeg, image/bmp, application/pdf",placeholder:"Select file for POA1","prepend-icon":"tabler-camera"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:n[5]||(n[5]=I=>E(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:v.value,disabled:r.value,onClick:x,class:"align-self-end",block:d.$vuetify.display.md},{default:l(()=>[i(" Upload Documents ")]),_:1},8,["loading","disabled","block"])]),_:1}),e($,{isDialogVisible:y.value,"onUpdate:isDialogVisible":n[6]||(n[6]=I=>y.value=I),onConfirm:z,"cancel-title":"Cancelled","confirm-title":"Confirm","confirmation-question":"Are you sure you want to upload the selected documents?"},null,8,["isDialogVisible"]),e(le,{modelValue:V.value,"onUpdate:modelValue":n[7]||(n[7]=I=>V.value=I),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",ks,u(t(k)),1),a("p",null,u(t(U)),1),e(T,{color:"success",onClick:S},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:f.value,"onUpdate:modelValue":n[9]||(n[9]=I=>f.value=I),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[$s]),_:1}),a("h1",As,u(t(p)),1),a("p",null,u(t(w)),1),e(T,{color:"success",onClick:n[8]||(n[8]=I=>f.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},Is={class:"text-h4 text-start mb-2"},Us={class:"text-body-1 text-start mb-3"},zs={class:"d-flex justify-space-between flex-column flex-sm-row gap-4 pb-10"},Ms={class:"text-h4 mb-4"},Es=a("span",{class:"text-5xl font-weight-light"},"X",-1),Os={class:"text-h4 mb-4"},Sl={__name:"AssignManagerDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0},isAssign:{type:Boolean,required:!0}},emits:["update:isDialogVisible"],setup(O,{emit:m}){const g=O,v=m,r=s(null),y=s(!1),V=s(!1),f=s(!1),p=s(!1);let w=s(""),k=s("");const U=s(!1);let h=s(""),D=s("");const c=s([]);re(()=>g.isDialogVisible,async S=>{S&&(await Hl(),c.value=Ql.value.map(x=>({title:x.staff_name,value:x.id.toString()})))},{immediate:!0});const C=async S=>{S&&(y.value=!1,V.value=!0,f.value=!0,await ie("/updateClientManager",{method:"POST",body:{client_id:g.clientId,manager_id:r.value},onResponseError({response:z}){V.value=!1,f.value=!1,h.value="Something Went Wrong !",D.value="Something Went Wrong !",U.value=!0}})&&(w.value="Manager Assigned !",k.value="Manager assigned to the client Successfully !",p.value=!0,V.value=!1,f.value=!1))},R=async S=>{window.location.reload()},P=S=>{v("update:isDialogVisible",S)};return(S,x)=>{const z=$e,E=Ue,d=ke;return o(),b(le,{width:S.$vuetify.display.smAndDown?"auto":650,"model-value":g.isDialogVisible,"onUpdate:modelValue":P},{default:l(()=>[e(z,{onClick:x[0]||(x[0]=n=>P(!1))}),e(G,{class:"pt-1"},{default:l(()=>[e(q,null,{default:l(()=>[a("h5",Is,u(O.isAssign?"Assign Manager":"Reassign Manager"),1),a("p",Us,u(O.isAssign?"Choose a manager to map the client.":"Choose a manager to re-map the client."),1),e(ve,{class:"py-3"}),a("div",zs,[e(E,{modelValue:r.value,"onUpdate:modelValue":x[1]||(x[1]=n=>r.value=n),label:"Select Manager",placeholder:"Assigned Manager",items:c.value,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),e(T,{loading:V.value,disabled:f.value,onClick:x[2]||(x[2]=n=>y.value=!0),class:"align-self-end",block:S.$vuetify.display.xs},{default:l(()=>[i(" Update ")]),_:1},8,["loading","disabled","block"])])]),_:1}),e(d,{isDialogVisible:y.value,"onUpdate:isDialogVisible":x[3]||(x[3]=n=>y.value=n),onConfirm:C,"cancel-title":"Cancelled","confirm-title":"Cancelled!","confirmation-question":"Are you sure you want to assign the selected manager to the client ?"},null,8,["isDialogVisible"]),e(le,{modelValue:p.value,"onUpdate:modelValue":x[5]||(x[5]=n=>p.value=n),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Ms,u(t(w)),1),a("p",null,u(t(k)),1),e(T,{color:"success",onClick:x[4]||(x[4]=n=>R())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:U.value,"onUpdate:modelValue":x[6]||(x[6]=n=>U.value=n),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Es]),_:1}),a("h1",Os,u(t(h)),1),a("p",null,u(t(D)),1),e(T,{color:"success",onClick:R},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},Ve={__name:"SmallIconButton",props:{variant:{type:String,required:!0},color:{type:String,required:!0},icon:{type:String,required:!0}},emits:["click"],setup(O,{emit:m}){return(g,v)=>{const r=Ul("IconBtn");return o(),b(r,{variant:O.variant,color:O.color,class:"rounded",size:"32",onClick:v[0]||(v[0]=y=>g.$emit("click"))},{default:l(()=>[e(X,{icon:O.icon,size:"20"},null,8,["icon"])]),_:1},8,["variant","color"])}}};var Bs={VITE_API_BASE_URL:"https://nextwiseapi.metacopier.app/api",VITE_SERVER_NAME:"NEXTWISEMARKETS",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const be=O=>(bl("data-v-e567c1c0"),O=O(),yl(),O),Ls={class:"text-h5 mt-2 ms-3"},Rs={class:"d-flex align-center gap-2 mt-0 mb-0"},Ps={class:"d-flex flex-column"},qs={key:0,class:"text-h6 mb-0"},Ns={key:0},Ws={key:1},js=be(()=>a("div",{class:"text-xs"}," Deposit ",-1)),Fs={class:"d-flex align-center gap-2 mt-0 mb-0"},Gs={class:"d-flex flex-column"},Ks={key:0,class:"text-h6 mb-0"},Hs={key:0},Qs={key:1},Xs=be(()=>a("div",{class:"text-xs"}," Withdraw ",-1)),Ys={class:"d-flex align-center gap-2 mt-0 mb-0"},Js={key:0,class:"text-xs d-flex align-center justify-space-between"},Zs={key:0,class:"d-flex flex-column"},en={key:0,class:"text-h6 mb-0"},ln={key:1,class:"d-flex flex-column"},tn=be(()=>a("h6",{class:"text-h6 mb-0"}," **** ",-1)),an=[tn],sn=be(()=>a("div",null," Wallet Active ",-1)),nn={key:0,class:"ms-12"},on={key:1,class:"text-xs"},un={class:"d-flex align-center justify-space-between"},rn={class:"d-flex"},dn=be(()=>a("p",{class:"font-weight-medium me-2 text-overline mt-1"},"LAST ACTIVE",-1)),cn={class:"d-flex"},mn={key:1,class:"font-weight-medium me-2 text-overline mt-1"},pn={class:"d-flex align-center justify-space-between"},fn={class:"d-flex"},_n=be(()=>a("p",{class:"font-weight-medium me-2 text-overline mt-1"},"ACCESSED FROM",-1)),vn={class:"d-flex"},gn={class:"font-weight-medium me-2 text-overline mt-1"},bn=be(()=>a("span",{class:"d-flex align-center justify-space-between"},[a("p",{class:"text-sm text-disabled mt-1"}," CONTACT "),a("div",{class:"d-flex"})],-1)),yn={class:"d-flex align-center justify-space-between"},hn={class:"d-flex"},Vn={key:0},wn={key:1},Dn={class:"d-flex"},xn={class:"d-flex align-center justify-space-between"},Cn={class:"d-flex"},kn={key:0},$n={key:1},An=be(()=>a("p",{class:"text-sm text-disabled"}," ABOUT ",-1)),Tn={class:"d-flex align-center"},Sn={class:"d-flex gap-x-2 align-center"},In=be(()=>a("div",{class:"text-md text-disabled text-overline"},"Client ID : ",-1)),Un={class:"text-h6"},zn={class:"d-flex align-center justify-space-between"},Mn={class:"d-flex"},En={class:"d-flex gap-x-2 align-center"},On=be(()=>a("div",{class:"text-md text-disabled text-overline"},"Client Name : ",-1)),Bn={class:"text-h6"},Ln={class:"d-flex align-center justify-space-between"},Rn={class:"d-flex"},Pn={class:"d-flex gap-x-2 align-center"},qn=be(()=>a("div",{class:"text-md text-disabled text-overline"},"Country : ",-1)),Nn={class:"text-h6"},Wn={class:"d-flex align-center justify-space-between"},jn={class:"d-flex"},Fn={class:"d-flex gap-x-2 align-center"},Gn=be(()=>a("div",{class:"text-md text-disabled text-overline"},"Doc. Status : ",-1)),Kn={class:"d-flex"},Hn=be(()=>a("p",{class:"text-sm text-disabled mt-5"}," PLATFORM ",-1)),Qn={class:"d-flex align-center justify-space-between"},Xn={class:"d-flex"},Yn={class:"d-flex gap-x-2 align-center"},Jn=be(()=>a("div",{class:"text-md text-disabled text-overline"},"CATEGORY LABEL : ",-1)),Zn={key:0,class:"text-h6"},eo={key:1,class:"text-h6"},lo={class:"d-flex"},to={class:"d-flex align-center"},ao={class:"d-flex gap-x-2 align-center"},so=be(()=>a("div",{class:"text-md text-disabled text-overline"},"Entity : ",-1)),no={class:"text-h6"},oo={class:"d-flex align-center"},io={class:"d-flex gap-x-2 align-center"},uo=be(()=>a("div",{class:"text-md text-disabled text-overline"},"Joined On : ",-1)),ro={class:"text-h6"},co={class:"d-flex align-center justify-space-between mb-5"},mo=be(()=>a("div",{class:"text-sm text-disabled"}," RELATIONSHIP MANAGER",-1)),po={class:"d-flex align-center justify-space-between"},fo={class:"d-flex"},_o=be(()=>a("div",{class:"d-flex gap-x-2 align-center"},[a("div",{class:"text-md text-disabled"},"Manager Not Assigned")],-1)),vo={class:"d-flex"},go={class:"d-flex align-center justify-space-between"},bo={key:0,class:"d-flex"},yo={key:1},ho={class:"d-flex"},Vo={class:"d-flex align-center justify-space-between mb-5"},wo=be(()=>a("div",{class:"text-sm text-disabled"}," INTRODUCING BROKER",-1)),Do={class:"d-flex align-center"},xo=be(()=>a("div",{class:"text-body-1 font-weight-medium me-1"},null,-1)),Co={class:"d-flex align-center justify-space-between mb-5"},ko=be(()=>a("div",{class:"text-sm text-disabled"}," PARENT IB",-1)),$o={key:1},Ao={class:"text-h4 mb-4"},To=be(()=>a("span",{class:"text-5xl font-weight-light"},"X",-1)),So={class:"text-h4 mb-4"},Io={__name:"ClientDetailsBioCard",props:{userData:{type:Object,required:!0},clientDocs:{type:Object,required:!0},managerHistory:{type:Object,required:!0},walletStatus:{type:Boolean,required:!0},mt5ListData:{type:Object}},setup(O){const m=O,g=s(!1),v=s(!1),r=s(!1),y=s(!1),V=s(!1),f=s(!1),p=s(!1),w=s(!1),k=s(!1),U=s(!1),h=s(null),D=s(null),c=s(!1),C=s(""),R=s(!1),P=s(!1),S=s(!1),x=s(!1);let z=s(""),E=s(""),d=s(""),n=s("");const _=s(null),$=s(null),I=we(()=>{switch(m.userData.doc_verified){case 0:return{text:"Upload Pending",color:"warning"};case 1:return{text:"Verif. Pending",color:"warning"};case 2:return{text:"Rejected",color:"error"};case 3:return{text:"Approved",color:"success"};default:return{text:"Unknown Status",color:"grey"}}});re(()=>m.userData,H=>{H&&M()},{immediate:!0});const Q=H=>{H?navigator.clipboard.writeText(H).then(()=>{C.value="Email Copied to Clipboard",c.value=!0}).catch(j=>{console.error("Failed to copy text: ",j)}):console.log("No text to copy")};async function M(){try{const H=await ie(`client/data-header/${m.userData.id}`,{method:"GET",onResponseError({response:j}){}});h.value=H.result.total_deposit,D.value=H.result.total_withdraw}catch(H){console.error("Failed to fetch statistics:",H)}}const ne=we(()=>{const H=m.userData.profile_pic,j=m.userData.id,Ie=Bs.VITE_S3_BASE_URL;return H?`${Ie}/client/profileImage/${j}/${H}`:null});function oe(){R.value=!0}function N(){P.value=!0}const te=async H=>{if(H)try{await ie("/activate-client-wallet",{method:"POST",body:{clientId:m.userData.id},onResponseError({response:Ie}){z.value="Something Went Wrong !",E.value=Ie._data.message,S.value=!0,P.value=!1}})&&(d.value="Success !",n.value="Wallet Activated Successfully !",x.value=!0,P.value=!1)}catch(j){z.value="Something Went Wrong !",E.value=j.response?j.response.data.message:j.message,S.value=!0,P.value=!1}},K=()=>{window.location.reload()},Z=async()=>{const H=m.mt5ListData.find(Ie=>Ie.is_wallet===1);_.value=H.mt5_id;const j=await ie(`/getClientMTAccountSummery/${_.value}`,{method:"GET",onResponseError({response:Ie}){}});j&&($.value=j.mt_accounts.balance)};Ml();const Ae=H=>{W("view_client_profile")&&(window.location.href=`/client/client-${H}-home-null-details`)};return(H,j)=>{var el,ee,Re;const Ie=hl,ge=Al,J=st,se=at,Ee=tt,il=Ss,ul=Cs,rl=_s,dl=ds,cl=os,ml=es,pl=Xa;return o(),A(ae,null,[e(de,null,{default:l(()=>[e(L,{cols:"12"},{default:l(()=>[m.userData?(o(),b(G,{key:0},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"6 text-right pr-4"},{default:l(()=>[e(nt,{dot:"",bordered:"",color:"success",location:"bottom end","offset-x":5,"offset-y":1},{default:l(()=>[e(pe,{rounded:"",size:90,color:"primary",variant:"tonal",class:"mt-8"},{default:l(()=>[m.userData.profile_pic?(o(),b(Me,{key:0,src:ne.value},null,8,["src"])):(o(),b(Me,{key:1,src:"/images/avatars/avatar-0.webp"}))]),_:1})]),_:1}),a("h5",Ls,u(m.userData.full_name),1),e(ue,{label:"",size:"small",class:"text-capitalize mt-2"},{default:l(()=>[i(" #"+u(m.userData.id),1)]),_:1})]),_:1}),e(L,{cols:"6",class:"mt-8 ps-4"},{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12",md:"12"},{default:l(()=>[a("div",Rs,[e(pe,{color:"primary",variant:"tonal",rounded:"",size:"30"},{default:l(()=>[e(X,{icon:"tabler-home-stats",size:"20"})]),_:1}),a("div",Ps,[h.value!==null?(o(),A("h6",qs,[("hasAccess"in H?H.hasAccess:t(W))("view_client_total_deposit")?(o(),A("span",Ns,u(("formatCurrency"in H?H.formatCurrency:t(me))(h.value)),1)):(o(),A("span",Ws,"*****"))])):B("",!0),js])])]),_:1}),e(L,{cols:"12",md:"12"},{default:l(()=>[a("div",Fs,[e(pe,{color:"info",variant:"tonal",rounded:"",size:"30"},{default:l(()=>[e(X,{icon:"tabler-report-money",size:"20"})]),_:1}),a("div",Gs,[D.value!==null?(o(),A("h6",Ks,[("hasAccess"in H?H.hasAccess:t(W))("view_client_total_withdraw")?(o(),A("span",Hs,u(("formatCurrency"in H?H.formatCurrency:t(me))(D.value)),1)):(o(),A("span",Qs,"*****"))])):B("",!0),Xs])])]),_:1}),e(L,{cols:"12",md:"12"},{default:l(()=>[a("div",Ys,[e(pe,{color:"secondary",variant:"tonal",rounded:"",size:"30"},{default:l(()=>[e(X,{icon:"tabler-wallet",size:"20"})]),_:1}),m.walletStatus?(o(),A("div",Js,[a("div",null,[("hasAccess"in H?H.hasAccess:t(W))("view_client_wallet_balance")?(o(),A("div",Zs,[$.value!==null?(o(),A("h6",en,u(("formatCurrency"in H?H.formatCurrency:t(me))($.value)),1)):B("",!0)])):(o(),A("div",ln,an)),sn]),("hasAccess"in H?H.hasAccess:t(W))("view_client_wallet_balance")?(o(),A("div",nn,[e(Ve,{icon:"tabler-refresh",size:"25",class:"",color:"primary",variant:"tonal",onClick:Z}),e(ot,{activator:"parent",location:"top"},{default:l(()=>[i(" Fetch Wallet Balance ")]),_:1})])):B("",!0)])):(o(),A("div",on,[i(" No Wallet "),("hasAccess"in H?H.hasAccess:t(W))("create_wallet_for_client")?(o(),b(T,{key:0,variant:"outlined",size:"x-small",rounded:"md",color:"secondary",onClick:N},{default:l(()=>[i(" ACTIVATE ")]),_:1})):B("",!0)]))])]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(ve,{class:"my-3"}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",un,[a("div",rn,[e(X,{icon:"tabler-clock-hour-2",size:"24",class:"me-1"}),dn]),a("div",cn,[("checkUserOnline"in H?H.checkUserOnline:t(Pl))(m.userData.last_active_at)?(o(),b(ue,{key:0,color:"success",size:"x-small"},{default:l(()=>[i("Online")]),_:1})):(o(),A("p",mn,u(("formatDateToFullFormat"in H?H.formatDateToFullFormat:t(ql))(m.userData.last_active_at)),1))])])]),_:1})]),_:1})]),_:1}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",pn,[a("div",fn,[e(X,{icon:"tabler-map-pin",size:"24",class:"me-1"}),_n]),a("div",vn,[a("p",gn,u(m.userData.access_location&&m.userData.access_ip?m.userData.access_location.city+" | "+m.userData.access_location.region+" | "+m.userData.access_location.country:"NOT AVAILABLE"),1)])])]),_:1})]),_:1})]),_:1}),bn,e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",yn,[a("div",hn,[e(X,{icon:"tabler-mail",size:"24",class:"me-1"}),("hasAccess"in H?H.hasAccess:t(W))("view_client_email")?(o(),A("div",Vn,u(m.userData.email),1)):(o(),A("div",wn,"*******************"))]),a("div",Dn,[e(Ve,{disabled:!("hasAccess"in H?H.hasAccess:t(W))("view_client_email"),icon:"tabler-clipboard-copy",color:"primary",variant:"tonal",onClick:j[0]||(j[0]=Y=>Q(m.userData.email)),class:"me-2"},null,8,["disabled"]),m.userData.email_verified===1?(o(),b(X,{key:0,icon:"tabler-discount-check-filled",size:"30",color:"primary"})):B("",!0),m.userData.email_verified===0?(o(),b(X,{key:1,icon:"tabler-alert-triangle-filled",size:"30",color:"warning"})):B("",!0)])])]),_:1})]),_:1})]),_:1}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",xn,[a("div",Cn,[e(X,{icon:"tabler-device-landline-phone",size:"24",class:"me-1"}),("hasAccess"in H?H.hasAccess:t(W))("view_client_phone")?(o(),A("div",kn,u(m.userData.phone),1)):(o(),A("div",$n,"**********"))])])]),_:1})]),_:1})]),_:1}),e(ve,{class:"my-5"}),An,e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",Tn,[e(X,{icon:"tabler-face-id",size:"24",class:"me-2"}),a("div",Sn,[In,a("h6",Un,"#"+u(m.userData.id),1)])])]),_:1})]),_:1})]),_:1}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",zn,[a("div",Mn,[e(X,{icon:"tabler-user-square-rounded",size:"24",class:"me-2"}),a("div",En,[On,a("h6",Bn,u(m.userData.full_name),1)])])])]),_:1})]),_:1})]),_:1}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",Ln,[a("div",Rn,[e(X,{icon:"tabler-map-pin",size:"24",class:"me-2"}),a("div",Pn,[qn,a("h6",Nn,u(m.userData.country_name),1)])])])]),_:1})]),_:1})]),_:1}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",Wn,[a("div",jn,[e(X,{icon:"tabler-clipboard-data",size:"24",class:"me-2"}),a("div",Fn,[Gn,e(ue,{size:"x-small",color:I.value.color},{default:l(()=>[i(u(I.value.text),1)]),_:1},8,["color"])])]),a("div",Kn,[m.userData.doc_verified!==0&&("hasAccess"in H?H.hasAccess:t(W))("view_client_docs")?(o(),b(Ve,{key:0,icon:"tabler-eye",color:"primary",variant:"tonal",onClick:j[1]||(j[1]=Y=>r.value=!r.value),class:"me-2"})):B("",!0),m.userData.doc_verified===0&&("hasAccess"in H?H.hasAccess:t(W))("update_client_document")?(o(),b(Ve,{key:1,icon:"tabler-cloud-upload",color:"warning",variant:"tonal",onClick:j[2]||(j[2]=Y=>y.value=!0)})):B("",!0)])])]),_:1})]),_:1})]),_:1}),e(ve,{class:"my-5"}),Hn,e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",Qn,[a("div",Xn,[e(X,{icon:"tabler-medical-cross",size:"24",class:"me-2"}),a("div",Yn,[Jn,("hasAccess"in H?H.hasAccess:t(W))("view_client_category_label")?(o(),A("h6",Zn,u(m.userData.cat_label===0?"Regular":"Premium"),1)):(o(),A("h6",eo,"********"))])]),a("div",lo,[("hasAccess"in H?H.hasAccess:t(W))("update_client_category_label")?(o(),b(Ve,{key:0,icon:"tabler-mood-edit",color:"secondary",variant:"tonal",class:"me-2",onClick:oe})):B("",!0)])])]),_:1})]),_:1})]),_:1}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",to,[e(X,{icon:"tabler-tag",size:"24",class:"me-2"}),a("div",ao,[so,a("h6",no,u(m.userData.entity_name),1)])])]),_:1})]),_:1})]),_:1}),e(ye,{class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",oo,[e(X,{icon:"tabler-calendar-due",size:"24",class:"me-2"}),a("div",io,[uo,a("h6",ro,u(("formatDateToMonthShort"in H?H.formatDateToMonthShort:t(Ne))(m.userData.joined_on)),1)])])]),_:1})]),_:1})]),_:1}),e(ve,{class:"my-5"}),a("div",co,[mo,m.managerHistory.length>0?(o(),b(T,{key:0,color:"primary",size:"small",variant:"tonal",class:"px-2 rounded",onClick:j[3]||(j[3]=Y=>V.value=!0)},{default:l(()=>[i(" RM HISTORY ")]),_:1})):B("",!0)]),m.userData.rm_id?(o(),b(ye,{key:1,class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",go,[m.userData.rm_name!=null&&m.userData.rm_id!=null?(o(),A("span",bo,[("hasAccess"in H?H.hasAccess:t(W))("view_rm")?(o(),b(Ie,{key:0,rm_id:m.userData.rm_id,rm_name:m.userData.rm_name},null,8,["rm_id","rm_name"])):(o(),A("span",yo,"************"))])):B("",!0),a("div",ho,[("hasAccess"in H?H.hasAccess:t(W))("update_rm")?(o(),b(Ve,{key:0,icon:"tabler-user-share",color:"secondary",variant:"tonal",onClick:j[5]||(j[5]=Y=>p.value=!0)})):B("",!0)])])]),_:1})]),_:1})]),_:1})):(o(),b(ye,{key:0,class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",po,[a("span",fo,[e(X,{icon:"tabler-user-question",size:"24",class:"me-2"}),_o]),a("div",vo,[e(Ve,{icon:"tabler-user-edit",color:"secondary",variant:"tonal",onClick:j[4]||(j[4]=Y=>f.value=!0)})])])]),_:1})]),_:1})]),_:1})),e(ve,{class:"my-5"}),a("div",Vo,[wo,m.userData.is_ib===0&&("hasAccess"in H?H.hasAccess:t(W))("request_ib")?(o(),b(T,{key:0,color:"primary",size:"small",variant:"tonal",class:"px-2 rounded",onClick:j[6]||(j[6]=Y=>w.value=!0)},{default:l(()=>[i(" PLACE IB REQUEST ")]),_:1})):B("",!0)]),e(ye,{class:"card-list text-medium-emphasis mb-3 mt-5"},{default:l(()=>[e(fe,null,{default:l(()=>[e(_e,null,{default:l(()=>[a("span",Do,[e(X,{icon:"tabler-stack-push",size:"24",class:"me-1"}),xo,a("div",null,[i("IB STATUS : "),m.userData.is_ib===0?(o(),b(ue,{key:0,class:"ms-2",variant:"outlined",size:"x-small"},{default:l(()=>[i(" NOT REQUESTED ")]),_:1})):B("",!0),m.userData.is_ib===2?(o(),b(ue,{key:1,color:"success",class:"ms-2",variant:"outlined",size:"x-small"},{default:l(()=>[i(" ACTIVE IB ")]),_:1})):B("",!0),m.userData.is_ib===1?(o(),b(ue,{key:2,color:"warning",class:"ms-2",variant:"outlined",size:"x-small"},{default:l(()=>[i(" REQUESTED ")]),_:1})):B("",!0)])])]),_:1})]),_:1})]),_:1}),e(ve,{class:"my-5"}),a("div",Co,[ko,m.userData.parent_ib_id>0&&("hasAccess"in H?H.hasAccess:t(W))("detach_parent_ib")?(o(),b(T,{key:0,color:"error",size:"small",variant:"tonal",class:"px-2 rounded",onClick:j[7]||(j[7]=Y=>U.value=!0)},{default:l(()=>[i(" DETACH IB ")]),_:1})):(o(),A("div",$o,[("hasAccess"in H?H.hasAccess:t(W))("update_parent_ib")?(o(),b(T,{key:0,color:"primary",size:"small",variant:"tonal",class:"px-2 rounded",onClick:j[8]||(j[8]=Y=>k.value=!0)},{default:l(()=>[i(" MOVE CLIENT UNDER IB ")]),_:1})):B("",!0)]))]),m.userData.parent_ib_id>0&&("hasAccess"in H?H.hasAccess:t(W))("view_parent_ib")?(o(),b(ye,{key:2,class:"card-list text-medium-emphasis mb-3"},{default:l(()=>[e(fe,null,{default:l(()=>[a("a",{onClick:j[9]||(j[9]=Y=>Ae(m.userData.parent_ib_id))},[e(ge,{client_id:m.userData.parent_ib_id,client_name:m.userData.parent_ib_name,client_pic:m.userData.parent_ib_pic,email:"#CID:"+m.userData.parent_ib_id},null,8,["client_id","client_name","client_pic","email"])])]),_:1})]),_:1})):B("",!0),e(ye,{class:"card-list mt-2"})]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1}),e(J,{isDialogVisible:g.value,"onUpdate:isDialogVisible":j[10]||(j[10]=Y=>g.value=Y),"user-data":m.userData},null,8,["isDialogVisible","user-data"]),e(se,{isDialogVisible:v.value,"onUpdate:isDialogVisible":j[11]||(j[11]=Y=>v.value=Y)},null,8,["isDialogVisible"]),e(Ee,{isDialogVisible:r.value,"onUpdate:isDialogVisible":j[12]||(j[12]=Y=>r.value=Y),"client-docs":O.clientDocs,"doc-verification-status":m.userData.doc_verified,"client-id":m.userData.id},null,8,["isDialogVisible","client-docs","doc-verification-status","client-id"]),e(il,{isDialogVisible:y.value,"onUpdate:isDialogVisible":j[13]||(j[13]=Y=>y.value=Y),"client-id":m.userData.id},null,8,["isDialogVisible","client-id"]),e(Sl,{isDialogVisible:f.value,"onUpdate:isDialogVisible":j[14]||(j[14]=Y=>f.value=Y),"client-id":m.userData.id,"is-assign":!0},null,8,["isDialogVisible","client-id"]),((el=m.userData)==null?void 0:el.rm_id)!=null?(o(),b(ul,{key:0,isDrawerOpen:V.value,"onUpdate:isDrawerOpen":j[15]||(j[15]=Y=>V.value=Y),"client-id":m.userData.id,"manager-history":O.managerHistory,"manager-id":(ee=m.userData)==null?void 0:ee.rm_id,"manager-name":(Re=m.userData)==null?void 0:Re.rm_name},null,8,["isDrawerOpen","client-id","manager-history","manager-id","manager-name"])):B("",!0),e(Sl,{isDialogVisible:p.value,"onUpdate:isDialogVisible":j[16]||(j[16]=Y=>p.value=Y),"client-id":m.userData.id,"is-assign":!1},null,8,["isDialogVisible","client-id"]),e(rl,{isDialogVisible:w.value,"onUpdate:isDialogVisible":j[17]||(j[17]=Y=>w.value=Y),"client-id":m.userData.id},null,8,["isDialogVisible","client-id"]),e(dl,{isDialogVisible:k.value,"onUpdate:isDialogVisible":j[18]||(j[18]=Y=>k.value=Y),"client-id":m.userData.id},null,8,["isDialogVisible","client-id"]),e(cl,{isDialogVisible:U.value,"onUpdate:isDialogVisible":j[19]||(j[19]=Y=>U.value=Y),"client-id":m.userData.id},null,8,["isDialogVisible","client-id"]),e(ml,{isDialogVisible:R.value,"onUpdate:isDialogVisible":j[20]||(j[20]=Y=>R.value=Y),"client-id":m.userData.id,cat_label:m.userData.cat_label},null,8,["isDialogVisible","client-id","cat_label"]),e(pl,{isDialogVisible:P.value,"onUpdate:isDialogVisible":j[21]||(j[21]=Y=>P.value=Y),onConfirm:te,"confirmation-question":"Are you sure you want to activate the wallet on behalfoftheclient?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:x.value,"onUpdate:modelValue":j[22]||(j[22]=Y=>x.value=Y),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Ao,u(t(d)),1),a("p",null,u(t(n)),1),e(T,{color:"success",onClick:K},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:S.value,"onUpdate:modelValue":j[24]||(j[24]=Y=>S.value=Y),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[To]),_:1}),a("h1",So,u(t(z)),1),a("p",null,u(t(E)),1),e(T,{color:"success",onClick:j[23]||(j[23]=Y=>S.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Tl,{modelValue:c.value,"onUpdate:modelValue":j[25]||(j[25]=Y=>c.value=Y),timeout:2e3},{default:l(()=>[i(u(C.value),1)]),_:1},8,["modelValue"])],64)}}},Uo=Dl(Io,[["__scopeId","data-v-e567c1c0"]]),zo=a("strong",null,"FROM ACCOUNT",-1),Mo=a("strong",null,"CREDIT",-1),Eo=a("strong",null,"SET TO ZERO",-1),Oo=a("span",{class:"text-5xl"},"!",-1),Bo={class:"text-lg font-weight-medium"},Lo={__name:"InternalTransactionCustomConfirmDialogue",props:{confirmationQuestion:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0},isConfirmLoading:{type:Boolean},hasCredit:{type:Boolean},confirmTitle:{type:String,required:!0},cancelTitle:{type:String,required:!0}},emits:["update:isDialogVisible","confirm"],setup(O,{emit:m}){const g=O,v=m;s(!1),s(!1);const r=f=>{v("update:isDialogVisible",f)},y=()=>{v("confirm",!0),r(!1)},V=()=>{v("confirm",!1),v("update:isDialogVisible",!1)};return(f,p)=>(o(),b(le,{"max-width":"500","model-value":g.isDialogVisible,"onUpdate:modelValue":r},{default:l(()=>[e(G,{class:"px-3 pt-2"},{default:l(()=>[g.hasCredit?(o(),b(Se,{key:0,type:"warning",variant:"tonal",class:"mt-3 mb-4"},{default:l(()=>[i(" Please note, the selected "),zo,i(" currently has a "),Mo,i(" balance. Upon completing the internal transfer, the entire credit balance of this account will be "),Eo,i(". ")]),_:1})):B("",!0),e(q,{class:"text-center px-5"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"warning",class:"mb-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Oo]),_:1}),a("h6",Bo,u(g.confirmationQuestion),1)]),_:1}),e(q,{class:"d-flex align-center justify-center gap-2 mb-4"},{default:l(()=>[e(T,{variant:"elevated",onClick:y,loading:O.isConfirmLoading},{default:l(()=>[i(" Confirm ")]),_:1},8,["loading"]),e(T,{color:"secondary",variant:"tonal",onClick:V},{default:l(()=>[i(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ro=a("strong",null,"No MT5 Account found.",-1),Po={key:1,class:"px-2 col-12 mt-4"},qo={class:"pr-1"},No={key:1,class:"tabler-wallet v-icon notranslate v-theme--light"},Wo={style:{"margin-right":"30px"}},jo={style:{"margin-left":"30px"}},Fo={class:"pr-1"},Go={key:1,class:"tabler-wallet v-icon notranslate v-theme--light"},Ko={style:{"margin-right":"30px"}},Ho={style:{"margin-left":"30px"}},Qo=a("span",null,"USD",-1),Xo={key:0,class:"text-error"},Yo={key:0,class:"text-body-2 pt-3 pb-0 mb-3 text-error ps-3"},Jo={class:"text-h4 mb-4"},Zo=a("span",{class:"text-5xl font-weight-light"},"X",-1),ei={class:"text-h4 mb-4"},li={__name:"InternalTransferView",props:{mt5ListData:{type:Object},clientId:{type:Number}},setup(O){const m=s([]),g=s([]),v=s(null);s([]);const r=s([]),y=s(null),V=s(null),f=s(null),p=s(null),w=s(!1),k=s(null),U=s(!1),h=s(!1),D=s(!1);let c=s(""),C=s(""),R=s(""),P=s("");const S=s(!1),x=s(null),z=s(null),E=s(null),d=O;he(async()=>{n()});const n=async()=>{const ne=await ie(`getMtItransfer/${d.clientId}`,{method:"GET",onResponseError({response:oe}){}});ne&&(m.value=ne.mt_data,g.value=m.value.filter(oe=>oe.balance>0))},_=we(()=>g.value.length===0?[{display_name:"Loading...",mt_userid:null}]:g.value.map(ne=>{const oe=ne.is_wallet?`WALLET(${ne.mt_userid})`:`MT${ne.mt_userid}`;return{...ne,display_name:oe}}));re([v],()=>{r.value=m.value.filter(ne=>ne.mt_userid!==v.value)},{deep:!0,immediate:!1});const $=we(()=>r.value.length===0?[{display_name:"Loading...",mt_userid:null}]:r.value.map(ne=>{const oe=ne.is_wallet?`WALLET(${ne.mt_userid})`:`MT${ne.mt_userid}`;return{...ne,display_name:oe}}));re([v,V],()=>{const ne=m.value.find(oe=>oe.mt_userid===v.value);f.value=ne.balance,p.value=ne.credit,x.value=ne.is_wallet,f.value<V.value?w.value=!0:w.value=!1},{deep:!0,immediate:!1}),re([y],()=>{const ne=r.value.find(oe=>oe.mt_userid===y.value);z.value=ne.balance,E.value=ne.is_wallet},{deep:!0,immediate:!1});function I(){v.value===null||y.value===null||V.value===null?k.value=!1:(k.value=!0,U.value=!0)}const Q=async ne=>{if(ne){S.value=!0;try{await ie("/processInternalTransfer",{method:"POST",body:{from_account:v.value,client_id:d.clientId,to_account:y.value,amount:V.value},onResponseError({response:N}){c.value="Something Went Wrong !",C.value=N._data.message,h.value=!0,S.value=!1}})&&(R.value="Success !",P.value="Amount Transferred Successfully !",D.value=!0,S.value=!1)}catch(oe){c.value="Something Went Wrong !",C.value=oe.response?oe.response.data.message:oe.message,h.value=!0,S.value=!1}}},M=()=>{window.location.reload()};return(ne,oe)=>{const N=Ue,te=Le,K=Lo;return o(),A(ae,null,[O.mt5ListData.length===0?(o(),b(Se,{key:0,type:"warning"},{default:l(()=>[i(" Unable to create a Internal Transfer ticket: "),Ro]),_:1})):(o(),A("div",Po,[e(de,null,{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(N,{modelValue:t(v),"onUpdate:modelValue":oe[0]||(oe[0]=Z=>F(v)?v.value=Z:null),items:t(_),"item-title":"display_name","item-value":"mt_userid",label:"Transfer From","single-line":"",rules:["requiredValidator"in ne?ne.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[t(v)?(o(),b(ue,{key:0,size:"x-large",class:"mt-4"},{default:l(()=>[a("div",qo,[t(x)===0?(o(),b(Me,{key:0,src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}},null,8,["src"])):(o(),A("i",No))]),a("div",null,[a("span",Wo,u(t(x)===0?t(v):"Wallet"),1),a("span",jo,"Balance : "+u(("formatCurrency"in ne?ne.formatCurrency:t(me))(t(f)))+" | Credit :"+u(("formatCurrency"in ne?ne.formatCurrency:t(me))(t(p))),1)])]),_:1})):B("",!0)]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(N,{modelValue:t(y),"onUpdate:modelValue":oe[1]||(oe[1]=Z=>F(y)?y.value=Z:null),items:t($),"item-title":"display_name","item-value":"mt_userid",label:"Transfer To","single-line":"",rules:["requiredValidator"in ne?ne.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[t(y)?(o(),b(ue,{key:0,size:"x-large",class:"mt-4"},{default:l(()=>[a("div",Fo,[t(E)===0?(o(),b(Me,{key:0,src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}},null,8,["src"])):(o(),A("i",Go))]),a("div",null,[a("span",Ko,u(t(E)===0?t(y):"Wallet"),1),a("span",Ho,u(("formatCurrency"in ne?ne.formatCurrency:t(me))(t(z))),1)])]),_:1})):B("",!0)]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(te,{modelValue:t(V),"onUpdate:modelValue":oe[2]||(oe[2]=Z=>F(V)?V.value=Z:null),label:"Amount ",rules:["requiredValidator"in ne?ne.requiredValidator:t(De)]},{"append-inner":l(()=>[Qo]),_:1},8,["modelValue","rules"]),t(w)?(o(),A("p",Xo,"Not Enough Balance")):B("",!0)]),_:1}),e(L,{class:"mt-5",cols:"12"},{default:l(()=>[t(k)===!1?(o(),A("p",Yo,"All fields are mandatory")):B("",!0),e(T,{class:"me-2",color:"primary",onClick:I,disabled:t(w),loading:t(S)},{default:l(()=>[i(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])),e(K,{isDialogVisible:t(U),"onUpdate:isDialogVisible":oe[3]||(oe[3]=Z=>F(U)?U.value=Z:null),onConfirm:Q,"confirmation-question":"Do you want to Transfer Amount?","has-credit":t(p)>0,"cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible","has-credit"]),e(le,{modelValue:t(D),"onUpdate:modelValue":oe[4]||(oe[4]=Z=>F(D)?D.value=Z:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Jo,u(t(R)),1),a("p",null,u(t(P)),1),e(T,{color:"success",onClick:M},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(h),"onUpdate:modelValue":oe[6]||(oe[6]=Z=>F(h)?h.value=Z:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Zo]),_:1}),a("h1",ei,u(t(c)),1),a("p",null,u(t(C)),1),e(T,{color:"success",onClick:oe[5]||(oe[5]=Z=>h.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},ti=a("strong",null,"No MT5 Account found.",-1),ai={key:1,class:"px-2 col-12 mt-4"},si={class:"pr-1"},ni={key:1,class:"tabler-wallet v-icon notranslate v-theme--light"},oi={style:{"margin-right":"30px"}},ii={style:{"margin-left":"30px"}},ui={key:0,class:"text-error"},ri={key:0,class:"text-body-2 pt-3 pb-0 mb-3 text-error ps-3"},di={class:"text-h4 mb-4"},ci=a("span",{class:"text-5xl font-weight-light"},"X",-1),mi={class:"text-h4 mb-4"},pi=2*1024*1024,fi={__name:"WithdrawView",props:{mt5ListData:{type:Object},clientId:{type:Number}},setup(O){s(null);const m=s([]),g=s([]),v=s(null),r=s(null),y=s(null),V=s(!1),f=s(!1),p=s(null),w=s(null);s(null);const k=s(null),U=s(null),h=s(null),D=s(!1),c=s(""),C=s(!1),R=s(!1),P=s(!1);let S=s(""),x=s(""),z=s(""),E=s("");const d=s(null),n=s(!1),_=[N=>!N||!N.length||N[0].size<=pi||"File size should be less than 2 MB!",N=>!N||!N.length||["image/png","image/jpeg","image/bmp","application/pdf"].includes(N[0].type)||"Only image or PDF files are allowed!"],$=O;he(async()=>{I()});const I=async()=>{const N=await ie(`getWithDropdown/${$.clientId}`,{method:"GET",onResponseError({response:te}){}});N&&(N.value=N,m.value=N.mt5_data,g.value=N.payment_methods,v.value=N.bank_details)},Q=we(()=>m.value.length===0?[{display_name:"Loading...",mt_userid:null}]:m.value.map(N=>{const te=N.is_wallet?`WALLET(${N.mt_userid})`:`MT${N.mt_userid}`;return{...N,display_name:te}}));re([y],()=>{y.value===1?(V.value=!0,f.value=!1):y.value===3?(f.value=!0,V.value=!1):(V.value=!1,f.value=!1)},{deep:!0,immediate:!1}),re([r,w],()=>{const N=m.value.find(te=>te.mt_userid===r.value);h.value=N.balance,d.value=N.is_wallet,h.value<w.value?D.value=!0:D.value=!1},{deep:!0,immediate:!1});function M(){r.value===null||y.value===null||w.value===null?U.value=!1:(U.value=!0,C.value=!0)}const ne=async N=>{if(N){n.value=!0;const te=new FormData;te.append("userId",$.clientId),te.append("mt5id",r.value),te.append("trans_amount",w.value),te.append("attachment",p.value?p.value[0]:""),te.append("withdraw_method",y.value),te.append("bank_account",c.value),te.append("balance_amount",h.value),te.append("is_wallet",d.value),te.append("admin_note",k.value);try{await ie("/createClientWithdrawTicket",{method:"POST",body:te,onResponseError({response:Z}){S.value="Something Went Wrong !",x.value=Z._data.message,R.value=!0,n.value=!1}})&&(z.value="Success !",E.value="Withdraw Ticket Created Successfully !",P.value=!0,n.value=!1)}catch(K){S.value="Something Went Wrong !",x.value=K.response?K.response.data.message:K.message,R.value=!0,n.value=!1}}},oe=()=>{window.location.reload()};return(N,te)=>{const K=Ue,Z=Le,Ae=al,H=ke;return o(),A(ae,null,[O.mt5ListData.length===0?(o(),b(Se,{key:0,type:"warning"},{default:l(()=>[i(" Unable to create a Withdraw ticket: "),ti]),_:1})):(o(),A("div",ai,[e(de,null,{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(K,{modelValue:r.value,"onUpdate:modelValue":te[0]||(te[0]=j=>r.value=j),items:t(Q),"item-title":"display_name","item-value":"mt_userid",label:"Withdraw From","single-line":"",rules:["requiredValidator"in N?N.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),r.value?(o(),b(L,{key:0,cols:"6"},{default:l(()=>[e(ue,{size:"x-large",class:"mt-4"},{default:l(()=>[a("div",si,[d.value===0?(o(),b(Me,{key:0,src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}},null,8,["src"])):(o(),A("i",ni))]),a("div",null,[a("span",oi,u(d.value===0?r.value:"Wallet"),1),a("span",ii,u(("formatCurrency"in N?N.formatCurrency:t(me))(h.value)),1)])]),_:1})]),_:1})):B("",!0),e(L,{cols:"6"},{default:l(()=>[e(K,{modelValue:y.value,"onUpdate:modelValue":te[1]||(te[1]=j=>y.value=j),items:g.value,"item-title":"method","item-value":"id",label:"Withdraw Method","single-line":"",rules:["requiredValidator"in N?N.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),V.value?(o(),b(L,{key:1,cols:"6"},{default:l(()=>[e(K,{modelValue:c.value,"onUpdate:modelValue":te[2]||(te[2]=j=>c.value=j),items:v.value,"item-title":"account_no","item-value":"id",label:"Select Bank","single-line":"",rules:["requiredValidator"in N?N.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1})):B("",!0),f.value?(o(),b(L,{key:2,cols:"6",class:"mt-6"},{default:l(()=>[e(je,{modelValue:p.value,"onUpdate:modelValue":te[3]||(te[3]=j=>p.value=j),rules:_,label:"Proof of deposit",accept:"image/png, image/jpeg, image/bmp, application/pdf","prepend-icon":"tabler-camera"},null,8,["modelValue"])]),_:1})):B("",!0),e(L,{cols:"6"},{default:l(()=>[e(Z,{modelValue:w.value,"onUpdate:modelValue":te[4]||(te[4]=j=>w.value=j),label:"Amount ",rules:["requiredValidator"in N?N.requiredValidator:t(De)]},null,8,["modelValue","rules"]),D.value?(o(),A("p",ui,"Not Enough Balance")):B("",!0)]),_:1}),f.value?(o(),b(L,{key:3,cols:"6"},{default:l(()=>[e(Ae,{class:"mt-2",modelValue:k.value,"onUpdate:modelValue":te[5]||(te[5]=j=>k.value=j),label:"Wallet ID","auto-grow":""},null,8,["modelValue"])]),_:1})):(o(),b(L,{key:4,cols:"6"},{default:l(()=>[e(Ae,{class:"mt-2",modelValue:k.value,"onUpdate:modelValue":te[6]||(te[6]=j=>k.value=j),label:"Note/Comments","auto-grow":""},null,8,["modelValue"])]),_:1})),e(L,{class:"mt-10",cols:"12"},{default:l(()=>[U.value===!1?(o(),A("p",ri,"All fields are mandatory")):B("",!0),e(T,{class:"me-2",color:"primary",onClick:M,disabled:D.value,loading:n.value},{default:l(()=>[i(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])),e(H,{isDialogVisible:C.value,"onUpdate:isDialogVisible":te[7]||(te[7]=j=>C.value=j),onConfirm:ne,"confirmation-question":"Do you want to create withdraw ticket?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:P.value,"onUpdate:modelValue":te[8]||(te[8]=j=>P.value=j),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",di,u(t(z)),1),a("p",null,u(t(E)),1),e(T,{color:"success",onClick:oe},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:R.value,"onUpdate:modelValue":te[10]||(te[10]=j=>R.value=j),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[ci]),_:1}),a("h1",mi,u(t(S)),1),a("p",null,u(t(x)),1),e(T,{color:"success",onClick:te[9]||(te[9]=j=>R.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},_i=a("strong",null,"No MT5 Account found.",-1),vi={key:1,class:"px-2 col-12 mt-4"},gi={class:"pr-1"},bi={key:1,class:"tabler-wallet v-icon notranslate v-theme--light"},yi={style:{"margin-right":"30px"}},hi={style:{"margin-left":"30px"}},Vi={key:0,class:"text-body-2 pt-3 pb-0 mb-3 text-error ps-3"},wi={class:"text-h4 mb-4"},Di=a("span",{class:"text-5xl font-weight-light"},"X",-1),xi={class:"text-h4 mb-4"},Ci=2*1024*1024,ki={__name:"DepositView",props:{mt5ListData:{type:Object},depositMethods:{type:Object},clientId:{type:Number}},setup(O){s("window-1"),s(null);const m=s(null),g=s(null),v=s(null),r=s([]),y=s([]),V=s([]),f=s(null),p=s(0),w=s(null),k=s(null),U=s(null),h=s(!1),D=s(!1),c=s(!1);let C=s(""),R=s(""),P=s(""),S=s("");const x=s(null),z=s(null),E=s(null),d=s([]),n=s(null),_=["Others","Bank","USDT"],$=[K=>!K||!K.length||K[0].size<=Ci||"File size should be less than 2 MB!",K=>!K||!K.length||["image/png","image/jpeg","image/bmp","application/pdf"].includes(K[0].type)||"Only image or PDF files are allowed!"],I=O;he(async()=>{Q()});const Q=async()=>{const K=await ie(`getDepoDropdown/${I.clientId}`,{method:"GET",onResponseError({response:Z}){}});K&&(V.value=K.mt5_data,y.value=K.payment_methods,r.value=K.currency),d.value=y.value.filter(Z=>_.includes(Z.dispaly_name))},M=we(()=>V.value.length===0?[{display_name:"Loading...",mt_userid:null}]:V.value.map(K=>{const Z=K.is_wallet?`WALLET(${K.mt_userid})`:`MT${K.mt_userid}`;return{...K,display_name:Z}}));re([v,f],()=>{const K=r.value.find(Z=>Z.id===v.value);x.value=K.to_usd,p.value=0,ne()},{deep:!0,immediate:!1});function ne(){p.value=x.value*f.value}re([g],()=>{const K=V.value.find(Z=>Z.mt_userid===g.value);E.value=K.is_wallet,n.value=K.balance},{deep:!0,immediate:!1});function oe(){g.value===null||m.value===null||v.value===null||f.value===null||p.value===null||w.value===null||k.value===null?U.value=!1:(U.value=!0,h.value=!0)}const N=async K=>{if(K){z.value=!0;const Z=new FormData;Z.append("images[]",w.value?w.value[0]:""),Z.append("userId",I.clientId),Z.append("mt5id",g.value),Z.append("trans_amount",f.value),Z.append("trans_usd",p.value),Z.append("payment_method",m.value),Z.append("payment_currency",v.value),Z.append("admin_note",k.value),Z.append("is_wallet",E.value);try{await ie("/createClientDepositTicket",{method:"POST",body:Z,onResponseError({response:H}){C.value="Something Went Wrong !",R.value=H._data.message,z.value=!1,D.value=!0}})&&(P.value="Success !",S.value="Deposit Ticket Created Successfully !",z.value=!1,c.value=!0)}catch(Ae){C.value="Something Went Wrong !",R.value=Ae.response?Ae.response.data.message:Ae.message,z.value=!1,D.value=!0}}},te=()=>{window.location.reload()};return(K,Z)=>{const Ae=Ue,H=Le,j=al,Ie=ke;return o(),A(ae,null,[O.mt5ListData.length===0?(o(),b(Se,{key:0,type:"warning"},{default:l(()=>[i(" Unable to create a Deposit ticket: "),_i]),_:1})):(o(),A("div",vi,[e(de,null,{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(Ae,{modelValue:g.value,"onUpdate:modelValue":Z[0]||(Z[0]=ge=>g.value=ge),items:t(M),"item-title":"display_name","item-value":"mt_userid",label:"Deposit To","single-line":"",rules:["requiredValidator"in K?K.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),g.value?(o(),b(L,{key:0,cols:"6"},{default:l(()=>[e(ue,{size:"x-large",class:"mt-4"},{default:l(()=>[a("div",gi,[E.value===0?(o(),b(Me,{key:0,src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}},null,8,["src"])):(o(),A("i",bi))]),a("div",null,[a("span",yi,u(E.value===0?g.value:"Wallet"),1),a("span",hi,u(("formatCurrency"in K?K.formatCurrency:t(me))(n.value)),1)])]),_:1})]),_:1})):B("",!0),e(L,{cols:"6"},{default:l(()=>[e(Ae,{modelValue:m.value,"onUpdate:modelValue":Z[1]||(Z[1]=ge=>m.value=ge),items:d.value,"item-title":"dispaly_name","item-value":"id",label:"Payment Method","single-line":"",rules:["requiredValidator"in K?K.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(Ae,{modelValue:v.value,"onUpdate:modelValue":Z[2]||(Z[2]=ge=>v.value=ge),items:r.value,"item-title":"currency","item-value":"id",label:"Currency","single-line":"",rules:["requiredValidator"in K?K.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(H,{modelValue:f.value,"onUpdate:modelValue":Z[3]||(Z[3]=ge=>f.value=ge),label:"Amount in selected Currency",rules:["requiredValidator"in K?K.requiredValidator:t(De)]},null,8,["modelValue","rules"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(H,{modelValue:p.value,"onUpdate:modelValue":Z[4]||(Z[4]=ge=>p.value=ge),label:"Amount in USD",rules:["requiredValidator"in K?K.requiredValidator:t(De)],readonly:""},null,8,["modelValue","rules"])]),_:1}),e(L,{cols:"6",class:"mt-5"},{default:l(()=>[e(je,{modelValue:w.value,"onUpdate:modelValue":Z[5]||(Z[5]=ge=>w.value=ge),rules:$,label:"Proof of deposit",accept:"image/png, image/jpeg, image/bmp, application/pdf","prepend-icon":"tabler-camera"},null,8,["modelValue"])]),_:1}),e(L,{cols:"12"},{default:l(()=>[e(j,{class:"mt-2",modelValue:k.value,"onUpdate:modelValue":Z[6]||(Z[6]=ge=>k.value=ge),label:"Note","auto-grow":""},null,8,["modelValue"])]),_:1}),e(L,{cols:"12",class:"mt-2"},{default:l(()=>[U.value===!1?(o(),A("p",Vi,"All fields are mandatory")):B("",!0),e(T,{class:"me-2",color:"primary",onClick:oe,loading:z.value},{default:l(()=>[i(" Submit ")]),_:1},8,["loading"])]),_:1})]),_:1})])),e(Ie,{isDialogVisible:h.value,"onUpdate:isDialogVisible":Z[7]||(Z[7]=ge=>h.value=ge),onConfirm:N,"confirmation-question":"Do you want to create deposit ticket?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:c.value,"onUpdate:modelValue":Z[8]||(Z[8]=ge=>c.value=ge),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",wi,u(t(P)),1),a("p",null,u(t(S)),1),e(T,{color:"success",onClick:te},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:D.value,"onUpdate:modelValue":Z[10]||(Z[10]=ge=>D.value=ge),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Di]),_:1}),a("h1",xi,u(t(C)),1),a("p",null,u(t(R)),1),e(T,{color:"success",onClick:Z[9]||(Z[9]=ge=>D.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},$i=a("h4",null," Create Deposit Ticket On behalf of Client ",-1),Ai={key:0,class:"col-12"},Ti=a("strong",null,"NO PERMISSION",-1),Si=a("h4",null," Create Withdraw Ticket On behalf of Client ",-1),Ii=a("h4",null," Create Internal Transfer On behalf of Client ",-1),Ui={__name:"ClientFundManagement",props:{mt5ListData:{type:Object,required:!0},clientId:{type:Number,required:!0}},setup(O){const m=s("window-1"),g=O;he(async()=>{f()});const v=s(null),r=s(null),y=s(null),V=s(null),f=async()=>{const p=await ie(`fund/data-params/${g.clientId}`,{method:"GET",onResponseError({response:w}){}});p&&(v.value=p.deposit_methods,r.value=p.withdraw_methods,y.value=p.currency,V.value=p.bank_details)};return(p,w)=>{const k=ki,U=fi,h=li;return o(),b(G,null,{default:l(()=>[e(q,{class:"col-12"},{default:l(()=>[e(Xe,{modelValue:t(m),"onUpdate:modelValue":w[0]||(w[0]=D=>F(m)?m.value=D:null),"fixed-tabs":""},{default:l(()=>[("hasAccess"in p?p.hasAccess:t(W))("create_deposit_ticket")?(o(),b(qe,{key:0},{default:l(()=>[i(" Deposit ")]),_:1})):B("",!0),("hasAccess"in p?p.hasAccess:t(W))("create_withdraw_ticket")?(o(),b(qe,{key:1},{default:l(()=>[i(" Withdrawal ")]),_:1})):B("",!0),("hasAccess"in p?p.hasAccess:t(W))("process_internal_transfer")?(o(),b(qe,{key:2},{default:l(()=>[i(" Internal Transfer ")]),_:1})):B("",!0)]),_:1},8,["modelValue"]),e(q,null,{default:l(()=>[e(Ye,{modelValue:t(m),"onUpdate:modelValue":w[1]||(w[1]=D=>F(m)?m.value=D:null),class:"col-12"},{default:l(()=>[("hasAccess"in p?p.hasAccess:t(W))("create_deposit_ticket")?(o(),b(Te,{key:0,value:"window-1"},{default:l(()=>[e(G,null,{default:l(()=>[$i,("hasAccess"in p?p.hasAccess:t(W))("create_deposit_ticket")?(o(),A("div",Ai,[O.mt5ListData&&t(v)?(o(),b(k,{key:0,"mt5-list-data":O.mt5ListData,"deposit-methods":t(v),"client-id":O.clientId},null,8,["mt5-list-data","deposit-methods","client-id"])):B("",!0)])):(o(),b(Se,{key:1,type:"warning"},{default:l(()=>[i(" Unable to create a Deposit ticket: "),Ti]),_:1}))]),_:1})]),_:1})):B("",!0),("hasAccess"in p?p.hasAccess:t(W))("create_withdraw_ticket")?(o(),b(Te,{key:1,value:"window-2"},{default:l(()=>[e(G,null,{default:l(()=>[Si,e(U,{"client-id":O.clientId,"mt5-list-data":O.mt5ListData},null,8,["client-id","mt5-list-data"])]),_:1})]),_:1})):B("",!0),("hasAccess"in p?p.hasAccess:t(W))("process_internal_transfer")?(o(),b(Te,{key:2,value:"window-3"},{default:l(()=>[e(G,null,{default:l(()=>[Ii,e(h,{"client-id":O.clientId,"mt5-list-data":O.mt5ListData},null,8,["client-id","mt5-list-data"])]),_:1})]),_:1})):B("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},zi={class:"d-flex flex-row flex-wrap align-center"},Mi={key:0,class:"text-body-2 pt-0 pb-0 mb-3 text-error"},Ei={class:"text-h4 mb-4"},Oi=a("span",{class:"text-5xl font-weight-light"},"X",-1),Bi={class:"text-h4 mb-4"},Li={__name:"EditActiveIBPlanDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0},planName:{type:String,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(0),v=s(null),r=s(null),y=s(null),V=s(null),f=s(!0),p=s(!1),w=s(!1),k=s(!1),U=s(!1),h=s(""),D=s(""),c=s(""),C=s(""),R=s(null),P=O,S=m,x=n=>{S("update:isDialogVisible",n)},z=async()=>{try{const n=await ie("/getIbPlans/0",{method:"GET",onResponseError({response:_}){console.error("Error response:",_)}});n?(console.log("IbPlans",n),v.value=n,r.value=v.value.ib_plans,y.value=v.value.ib_plan_commission,V.value=y.value[0].plan_name,g.value=y.value[0].id):console.error("Failed to fetch group list or empty response")}catch(n){console.error("Error fetching group list:",n)}};he(async()=>{await z()});const E=async n=>{n&&(p.value=!0)},d=()=>{window.location.reload()};return(n,_)=>{const $=$e,I=Ue,Q=ke;return o(),A(ae,null,[e(le,{width:n.$vuetify.display.smAndDown?"auto":600,"model-value":P.isDialogVisible,"onUpdate:modelValue":x},{default:l(()=>[e($,{onClick:_[0]||(_[0]=M=>x(!1))}),e(G,{title:"Update IB Plan"},{default:l(()=>[e(q,null,{default:l(()=>[e(Se,{density:"comfortable",color:"secondary",variant:"tonal",class:"mb-5"},{default:l(()=>[i(" Please select the IB plan and Update your Plan ")]),_:1}),e(ve),e(ye,null,{default:l(()=>[e(ye,null,{default:l(()=>[e(_e,null,{default:l(()=>[i("Current Plan")]),_:1}),e(fe,null,{default:l(()=>[a("div",zi,[e(ue,{size:"small",variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>[i(u(P.planName),1)]),_:1})])]),_:1})]),_:1})]),_:1}),e(de,{class:"mt-3"},{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(xl),e(I,{modelValue:R.value,"onUpdate:modelValue":_[1]||(_[1]=M=>R.value=M),items:r.value||[],"item-title":"plan_name","item-value":"id",label:"Select Plan","single-line":"",rules:["requiredValidator"in n?n.requiredValidator:t(De)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1}),f.value?B("",!0):(o(),A("p",Mi,"All fields are mandatory"))]),_:1}),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:_[2]||(_[2]=M=>x(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{class:"align-self-end",block:n.$vuetify.display.md,loading:p.value,disabled:p.value,color:"primary",onClick:_[3]||(_[3]=M=>w.value=!0)},{default:l(()=>[i(" Update ")]),_:1},8,["block","loading","disabled"])]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(Q,{isDialogVisible:w.value,"onUpdate:isDialogVisible":_[4]||(_[4]=M=>w.value=M),onConfirm:E,"confirmation-question":"Do you want to update default groups?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:U.value,"onUpdate:modelValue":_[5]||(_[5]=M=>U.value=M),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Ei,u(c.value),1),a("p",null,u(C.value),1),e(T,{color:"success",onClick:d},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:k.value,"onUpdate:modelValue":_[7]||(_[7]=M=>k.value=M),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Oi]),_:1}),a("h1",Bi,u(h.value),1),a("p",null,u(D.value),1),e(T,{color:"success",onClick:_[6]||(_[6]=M=>k.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Ri={class:"d-flex flex-row flex-wrap align-center"},Pi={class:"text-base font-weight-medium mb-2"},qi={key:0,class:"text-body-2 pt-0 pb-0 mb-3 text-error"},Ni={class:"text-h4 mb-4"},Wi=a("span",{class:"text-5xl font-weight-light"},"X",-1),ji={class:"text-h4 mb-4"},Fi={__name:"EditActiveIBDefaultGroupDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0},groups:{type:Array,required:!0,default:()=>[]}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(null),v=s(null),r=s([]),y=s(!0),V=s(null),f=s(!1),p=s(!1),w=s(!1),k=s(!1),U=s(""),h=s(""),D=s(""),c=s(""),C=O,R=m,P=E=>{R("update:isDialogVisible",E)},S=async()=>{try{const E=await ie("/getAllmt5Groups",{method:"GET",onResponseError({response:d}){console.error("Error response:",d)}});E?(g.value=E.mt5Groups,v.value=g.value.filter(d=>d.ib_enabled===1)):console.error("Failed to fetch group list or empty response")}catch(E){console.error("Error fetching group list:",E)}};he(async()=>{await S()}),re(r,E=>{E.length>3?(r.value=E.slice(0,3),V.value=!0):V.value=!1},{deep:!0,immediate:!1});const x=async E=>{if(E){f.value=!0;try{await ie("/updateIbDefaultGroup",{method:"POST",body:{client_id:C.clientId,mt_group_list:r.value},onResponseError({response:n}){U.value="Something Went Wrong!",h.value=n._data.message,f.value=!1,w.value=!0}})&&(D.value="Groups Updated!",c.value="MT5 Account Groups Updated Successfully!",f.value=!1,k.value=!0)}catch(d){U.value="Something Went Wrong!",h.value=d.data.message,f.value=!1,w.value=!0}}},z=()=>{window.location.reload()};return(E,d)=>{const n=$e,_=Ue,$=ke;return o(),A(ae,null,[e(le,{width:E.$vuetify.display.smAndDown?"auto":600,"model-value":C.isDialogVisible,"onUpdate:modelValue":P},{default:l(()=>[e(n,{onClick:d[0]||(d[0]=I=>P(!1))}),e(G,{title:"Update IB Default Groups"},{default:l(()=>[e(q,null,{default:l(()=>[e(Se,{density:"comfortable",color:"secondary",variant:"tonal",class:"mb-5"},{default:l(()=>[i(" Please select the default groups for mapping this IB. Clients who open MT5 accounts under this IB will only be able to open MT5 accounts within the selected groups. ")]),_:1}),e(ve),e(ye,null,{default:l(()=>[e(_e,null,{default:l(()=>[i("Default Groups")]),_:1}),e(fe,null,{default:l(()=>[a("div",Ri,[(o(!0),A(ae,null,ce(O.groups,I=>(o(),A("div",{key:I.id,class:"d-flex flex-column align-center mx-2"},[e(pe,{rounded:"",size:"45",variant:"tonal",class:"mb-2 ps-1 pe-1"},{default:l(()=>[e(Me,{src:"/images/svg/mt5_lined.svg",size:"22"})]),_:1}),a("h6",Pi,u(I.mt_group_name),1)]))),128))])]),_:1})]),_:1}),e(de,{class:"mt-3"},{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(xl),e(_,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=I=>r.value=I),items:v.value,"item-title":"mt_group_name","item-value":"id",multiple:"","persistent-hint":"",label:"Select Group"},null,8,["modelValue","items"])]),_:1})]),_:1}),y.value?B("",!0):(o(),A("p",qi,"All fields are mandatory"))]),_:1}),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:d[2]||(d[2]=I=>P(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{class:"align-self-end",block:E.$vuetify.display.md,loading:f.value,disabled:f.value||r.value.length===0,color:"primary",onClick:d[3]||(d[3]=I=>p.value=!0)},{default:l(()=>[i(" Update ")]),_:1},8,["block","loading","disabled"])]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e($,{isDialogVisible:p.value,"onUpdate:isDialogVisible":d[4]||(d[4]=I=>p.value=I),onConfirm:x,"confirmation-question":"Do you want to update default groups?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:k.value,"onUpdate:modelValue":d[5]||(d[5]=I=>k.value=I),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Ni,u(D.value),1),a("p",null,u(c.value),1),e(T,{color:"success",onClick:z},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:w.value,"onUpdate:modelValue":d[7]||(d[7]=I=>w.value=I),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Wi]),_:1}),a("h1",ji,u(U.value),1),a("p",null,u(h.value),1),e(T,{color:"success",onClick:d[6]||(d[6]=I=>w.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Gi=a("thead",null,[a("tr",null,[a("th",null," CLIENT "),a("th",null," MT5 ID "),a("th",null," GROUP ")])],-1),Ki={key:0},Hi={class:"text-body-2"},Qi={__name:"ViewIBMTAccountLIst",props:{isDrawerOpen:{type:Boolean,required:!0},mtList:{type:Object,required:!0}},emits:["update:isDrawerOpen","userData"],setup(O,{emit:m}){const g=O,v=m,r=we(()=>g.mtList.filter(f=>f.is_wallet===0)),y=f=>{v("update:isDrawerOpen",f)},V=()=>{v("update:isDrawerOpen",!1)};return(f,p)=>{const w=Cl,k=Al;return o(),b($l,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":g.isDrawerOpen,"onUpdate:modelValue":y},{default:l(()=>[e(w,{title:"MT5 Accounts Under IB",onCancel:V}),e(ve),e(t(kl),{options:{wheelPropagation:!1}},{default:l(()=>[e(G,{flat:""},{default:l(()=>[e(Be,{class:"text-no-wrap"},{default:l(()=>[Gi,g.mtList?(o(),A("tbody",Ki,[(o(!0),A(ae,null,ce(r.value,U=>(o(),A("tr",{key:U.mt5_id},[a("td",null,[e(k,{email:U.email,client_name:U.client_name,client_id:U.c_id},null,8,["email","client_name","client_id"])]),a("td",null,[e(ue,{class:"ps-2 pe-2 pt-0 pb-0"},{default:l(()=>[i(u(U.mt5_id),1)]),_:2},1024)]),a("td",null,[e(ue,{size:"x-small",variant:"outlined",class:"ps-2 pe-2 pt-0 pb-0"},{default:l(()=>[a("h6",Hi,u(U.mt_group_name),1)]),_:2},1024)])]))),128))])):B("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Ze=O=>(bl("data-v-9d460bf2"),O=O(),yl(),O),Xi={class:"d-flex align-center gap-2 mb-3 flex-wrap"},Yi={key:0,class:"text-h1"},Ji={key:1,class:"text-h1"},Zi=Ze(()=>a("span",{class:"text-sm text-medium-emphasis"}," Total Commission Earned by IB from all the Levels. ",-1)),eu={class:"d-flex align-center gap-x-2"},lu={class:"d-flex align-center gap-x-4"},tu={class:"d-flex align-center gap-x-2"},au={class:"d-flex align-center gap-x-4"},su={class:"v-timeline-item__body text-end"},nu={key:0,class:"mb-1"},ou={key:2,class:"mb-1"},iu={class:"d-flex align-center gap-x-4"},uu={class:"d-flex align-center gap-x-4"},ru={key:2,class:"border rounded mt-5 pa-5"},du={class:"d-flex align-center"},cu=Ze(()=>a("h6",{class:"text-base font-weight-regular text-overline"}," TOTAL DEPOSIT ",-1)),mu={key:0,class:"text-h4 my-2"},pu={key:1,class:"text-h4 my-2"},fu={class:"d-flex align-center"},_u=Ze(()=>a("h6",{class:"text-base font-weight-regular text-overline"}," TOTAL WITHDRAW ",-1)),vu={key:0,class:"text-h4 my-2"},gu={key:1,class:"text-h4 my-2"},bu={class:"d-flex align-center"},yu=Ze(()=>a("h6",{class:"font-weight-regular head text-overline"}," TRANSFERRED COMMISSION ",-1)),hu={key:0,class:"text-h4 my-2"},Vu={key:0},wu=Ze(()=>a("thead",null,[a("tr",null,[a("th",null," #CID "),a("th",null," CLIENT "),a("th",null," TOTAL LOTS "),a("th",null," COMMISSION "),a("th",null," DEPOSIT "),a("th",null," IS IB "),a("th")])],-1)),Du=["onClick"],xu={__name:"ClientIBDashboard",props:{clientId:{type:Number,required:!0}},setup(O){const m=s(!1),g=s(""),v=O;El();const r=s(null),y=s(!1),V=s(!1),f=s(!1),p=s(null),w=s(null),k=we(()=>r.value.levels.filter(c=>Object.keys(c).length>1).map(c=>c.key)),U=()=>Xl("getIbInformation/"+v.clientId,r);re(r,c=>{c&&(w.value=c.level1clientsData,p.value=0)}),re(p,async c=>{w.value=null;const C=await ie("/getIbLevelInfo",{method:"POST",body:{parent_id:r.value.levels[c],ib_id:v.clientId},onResponseError({response:R}){}});w.value=C.levelclientsData}),he(async()=>{await U()}),Ml();const h=c=>{W("view_client_profile")&&(window.location.href=`/client/client-${c}-home-null-details`)},D=c=>{c?navigator.clipboard.writeText(`https://client.bitragemarkets.com/register?promo=${c}`).then(()=>{g.value="Referal Code Copied to Clipboard",m.value=!0}).catch(C=>{console.error("Failed to copy text: ",C)}):console.log("No text to copy")};return(c,C)=>{var S,x,z,E,d;const R=Al,P=Li;return o(),A(ae,null,[("hasAccess"in c?c.hasAccess:t(W))("view_ib_profile")?(o(),b(G,{key:0},{default:l(()=>[e(We,{class:"pb-sm-0"},{default:l(()=>[e(xe,null,{default:l(()=>[i("IB Dashboard")]),_:1}),e(ze,null,{default:l(()=>[i("An Overview of the Client's IB Program")]),_:1})]),_:1}),e(q,null,{default:l(()=>[t(r)?(o(),b(de,{key:0},{default:l(()=>[e(L,{cols:"12",sm:"4",lg:"6",class:"d-flex flex-column align-self-center"},{default:l(()=>[a("div",Xi,[t(r)&&("hasAccess"in c?c.hasAccess:t(W))("view_ib_earned_commission")?(o(),A("h1",Yi,u(("formatCurrency"in c?c.formatCurrency:t(me))(t(r).commision)),1)):(o(),A("h1",Ji," ***** ")),e(ue,{label:"",variant:"outlined",size:"x-small",color:"success"},{default:l(()=>[i(" Withdrawn + Pending ")]),_:1})]),Zi]),_:1}),e(L,{cols:"12",sm:"8",lg:"6"},{default:l(()=>[e(q,null,{default:l(()=>[e(ye,{class:"card-list"},{default:l(()=>[e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-share",size:"22"})]),_:1})]),append:l(()=>[a("div",eu,[("hasAccess"in c?c.hasAccess:t(W))("view_ib_plan")?(o(),b(ue,{key:0,size:"small",variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>{var n,_,$;return[i(u(($=(_=(n=t(r))==null?void 0:n.ib_details)==null?void 0:_.plan_name)==null?void 0:$.toUpperCase()),1)]}),_:1})):(o(),b(ue,{key:1,size:"small",variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>[i(" ********** ")]),_:1})),("hasAccess"in c?c.hasAccess:t(W))("update_ib_plan")?(o(),b(Ve,{key:2,icon:"tabler-tool",color:"secondary",variant:"tonal",onClick:C[0]||(C[0]=n=>f.value=!0)})):B("",!0)])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" IB PLAN ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Commission plan ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-users",size:"22"})]),_:1})]),append:l(()=>[a("div",lu,[("hasAccess"in c?c.hasAccess:t(W))("view_ib_client_count")?(o(),b(ue,{key:0,variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>{var n;return[i(u((n=t(r))==null?void 0:n.clients),1)]}),_:1})):(o(),b(ue,{key:1,variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>[i(" *** ")]),_:1}))])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" TOTAL CLIENTS ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Clients in all levels ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-layout-2",size:"22"})]),_:1})]),append:l(()=>[a("div",tu,[("hasAccess"in c?c.hasAccess:t(W))("view_ib_mt5_count")?(o(),b(ue,{key:0,variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>{var n;return[i(u((n=t(r))==null?void 0:n.total_mt_details.length),1)]}),_:1})):(o(),b(ue,{key:1,variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>[i(" ** ")]),_:1})),("hasAccess"in c?c.hasAccess:t(W))("view_ib_mt5_details")?(o(),b(Ve,{key:2,icon:"tabler-eye",color:"success",variant:"tonal",onClick:C[1]||(C[1]=n=>y.value=!0)})):B("",!0)])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" TOTAL MT ACCOUNTS ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Total MT5 Accounts ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-bomb",size:"22"})]),_:1})]),append:l(()=>[a("div",au,[a("div",su,[("hasAccess"in c?c.hasAccess:t(W))("edit_ib_default_group")?(o(),A("div",nu,[e(Ve,{icon:"tabler-tool",color:"secondary",variant:"tonal",onClick:C[2]||(C[2]=n=>V.value=!0)})])):B("",!0),("hasAccess"in c?c.hasAccess:t(W))("view_ib_default_group")?(o(!0),A(ae,{key:1},ce(t(r).groups,n=>(o(),A("div",{key:n.id,class:"mb-1"},[e(ue,{size:"small",variant:"outlined",color:"secondary",class:"text-sm"},{default:l(()=>[i(u(n.mt_group_name),1)]),_:2},1024)]))),128)):(o(),A("div",ou,[e(ue,{size:"small",variant:"outlined",color:"secondary",class:"text-sm"},{default:l(()=>[i("**** ")]),_:1})]))])])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" DEFAULT GROUPS ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Mapped Default Groups ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-pig-money",size:"22"})]),_:1})]),append:l(()=>[a("div",iu,[("hasAccess"in c?c.hasAccess:t(W))("view_ib_balance_commission")?(o(),b(ue,{key:0,size:"small",variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>{var n;return[i(u(("formatCurrency"in c?c.formatCurrency:t(me))((n=t(r))==null?void 0:n.balanceCommision)),1)]}),_:1})):(o(),b(ue,{key:1,size:"small",variant:"outlined",color:"secondary",class:"text-h6"},{default:l(()=>[i(" *** ")]),_:1}))])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" AVAILABLE BALANCE ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Transferable Balance ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-user-share",size:"22"})]),_:1})]),append:l(()=>[a("div",uu,[e(ue,{size:"small",variant:"outlined",color:"secondary",class:"text-h8"},{default:l(()=>{var n,_;return[i(" /signup?promo="+u((_=(n=t(r))==null?void 0:n.ib_details)==null?void 0:_.ib_key),1)]}),_:1}),e(Ve,{icon:"tabler-copy",color:"secondary",variant:"tonal",onClick:C[3]||(C[3]=n=>{var _,$;return D(($=(_=t(r))==null?void 0:_.ib_details)==null?void 0:$.ib_key)})})])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" REFERAL CODE ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" IB Referal Code ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(o(),b(Ce,{key:1,type:"article"})),t(r)?(o(),A("div",ru,[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"4"},{default:l(()=>{var n;return[a("div",du,[e(pe,{rounded:"",size:"26",color:"error",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-moneybag"})]),_:1}),cu]),("hasAccess"in c?c.hasAccess:t(W))("view_ib_client_deposit")?(o(),A("h6",mu,u(("formatCurrency"in c?c.formatCurrency:t(me))((n=t(r))==null?void 0:n.total_investment[0].total_deposit)),1)):(o(),A("h6",pu," *** ")),e(Fe,{"model-value":"100",color:"primary",height:"4",rounded:"","rounded-bar":""})]}),_:1}),e(L,{cols:"12",sm:"4"},{default:l(()=>{var n;return[a("div",fu,[e(pe,{rounded:"",size:"26",color:"success",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-building-bank"})]),_:1}),_u]),("hasAccess"in c?c.hasAccess:t(W))("view_ib_client_withdraw")?(o(),A("h6",vu,u(("formatCurrency"in c?c.formatCurrency:t(me))((n=t(r))==null?void 0:n.total_withdrawl[0].total_withdraw)),1)):(o(),A("h6",gu," *** ")),e(Fe,{"model-value":"100",color:"primary",height:"4",rounded:"","rounded-bar":""})]}),_:1}),e(L,{cols:"12",sm:"4"},{default:l(()=>{var n;return[a("div",bu,[e(pe,{rounded:"",size:"26",color:"warning",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-flame"})]),_:1}),yu]),("hasAccess"in c?c.hasAccess:t(W))("view_ib_withdrawn_commission")?(o(),A("h6",hu,u(("formatCurrency"in c?c.formatCurrency:t(me))((n=t(r))==null?void 0:n.commisionwithdraw)),1)):B("",!0),e(Fe,{"model-value":"100",color:"primary",height:"4",rounded:"","rounded-bar":""})]}),_:1})]),_:1})])):(o(),b(Ce,{key:3,type:"list-item-avatar"}))]),_:1}),("hasAccess"in c?c.hasAccess:t(W))("view_ib_levels_clients")?(o(),b(We,{key:0,class:"pb-sm-0"},{default:l(()=>[e(xe,null,{default:l(()=>[i("IB LEVELS")]),_:1}),e(ze,null,{default:l(()=>[i("List of Levels and Clients mapped under each level")]),_:1})]),_:1})):(o(),b(We,{key:1,class:"pb-sm-0"},{default:l(()=>[e(xe,null,{default:l(()=>[i("IB LEVELS")]),_:1}),e(ze,null,{default:l(()=>[i("You dont have enough permission to view this data.")]),_:1})]),_:1})),t(r)?(o(),b(q,{key:2},{default:l(()=>[("hasAccess"in c?c.hasAccess:t(W))("view_ib_levels_clients")?(o(),b(de,{key:0},{default:l(()=>[e(L,{cols:"12",class:"d-flex flex-column align-self-center"},{default:l(()=>[e(Xe,{modelValue:t(p),"onUpdate:modelValue":C[4]||(C[4]=n=>F(p)?p.value=n:null),class:"v-tabs-pill mt-3"},{default:l(()=>[(o(!0),A(ae,null,ce(t(k),(n,_)=>(o(),b(qe,{key:_},{default:l(()=>[i("TIER "+u(_+1),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),e(G,{class:"mt-5"},{default:l(()=>[e(q,null,{default:l(()=>[e(Ye,{modelValue:t(p),"onUpdate:modelValue":C[5]||(C[5]=n=>F(p)?p.value=n:null)},{default:l(()=>[(o(!0),A(ae,null,ce(t(k),(n,_)=>(o(),b(Te,{key:_,value:_},{default:l(()=>[t(w)?(o(),A("div",Vu,[e(Be,{class:"text-no-wrap"},{default:l(()=>[wu,a("tbody",null,[(o(!0),A(ae,null,ce(t(w),$=>(o(),A("tr",{key:$.id},[a("td",null,u($.id),1),a("td",null,[a("a",{onClick:I=>h($.id)},[e(R,{client_id:$.id,email:$.email,client_name:$.client_name,client_pic:$.profile_pic},null,8,["client_id","email","client_name","client_pic"])],8,Du)]),a("td",null,u($.total_lots),1),a("td",null,u(("formatCurrency"in c?c.formatCurrency:t(me))($.total_commission)),1),a("td",null,u(("formatCurrency"in c?c.formatCurrency:t(me))($.deposit)),1),a("td",null,[$.is_ib===2?(o(),b(ue,{key:0,size:"x-small",variant:"outlined",color:"success"},{default:l(()=>[i(" ACTIVE IB ")]),_:1})):(o(),b(ue,{key:1,size:"x-small",variant:"outlined",color:"secondary"},{default:l(()=>[i(" NON IB ")]),_:1}))]),a("td",null,[e(T,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",onClick:I=>h($.id)},{default:l(()=>[i(" PROFILE ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})])):(o(),b(Ce,{key:1,type:"table-tbody"}))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1})):B("",!0)]),_:1})):(o(),b(G,{key:1},{default:l(()=>[e(We,{class:"pb-sm-0"},{default:l(()=>[e(xe,null,{default:l(()=>[i("IB Dashboard")]),_:1}),e(ze,null,{default:l(()=>[i("You do not have enough permissions to view this Tab")]),_:1})]),_:1})]),_:1})),t(r)?(o(),b(Qi,{key:2,isDrawerOpen:t(y),"onUpdate:isDrawerOpen":C[6]||(C[6]=n=>F(y)?y.value=n:null),"mt-list":(S=t(r))==null?void 0:S.total_mt_details},null,8,["isDrawerOpen","mt-list"])):B("",!0),t(r)?(o(),b(Fi,{key:3,isDialogVisible:t(V),"onUpdate:isDialogVisible":C[7]||(C[7]=n=>F(V)?V.value=n:null),"client-id":v.clientId,groups:((x=t(r))==null?void 0:x.groups)||[]},null,8,["isDialogVisible","client-id","groups"])):B("",!0),t(r)?(o(),b(P,{key:4,isDialogVisible:t(f),"onUpdate:isDialogVisible":C[8]||(C[8]=n=>F(f)?f.value=n:null),"client-id":v.clientId,"plan-name":(d=(E=(z=t(r))==null?void 0:z.ib_details)==null?void 0:E.plan_name)==null?void 0:d.toUpperCase()},null,8,["isDialogVisible","client-id","plan-name"])):B("",!0),e(Tl,{modelValue:t(m),"onUpdate:modelValue":C[9]||(C[9]=n=>F(m)?m.value=n:null),timeout:2e3},{default:l(()=>[i(u(t(g)),1)]),_:1},8,["modelValue"])],64)}}},Cu=Dl(xu,[["__scopeId","data-v-9d460bf2"]]),ku=a("br",null,null,-1),$u=a("br",null,null,-1),Au=a("br",null,null,-1),Tu=a("br",null,null,-1),Su=a("br",null,null,-1),Iu=a("br",null,null,-1),Uu=a("span",null,"USD",-1),zu={class:"text-h4 mb-4"},Mu=a("span",{class:"text-5xl font-weight-light"},"X",-1),Eu={class:"text-h4 mb-4"},Ou={__name:"CreditRequestDialog",props:{isDialogVisible:{type:Boolean,required:!0},mt_id:{type:Number,required:!0},clientId:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(null),v=s(null),r=[{text:"Losable Bonus",value:0},{text:"Non-Losable Bonus",value:1}],y=s(!1),V=s(!1),f=s(!1);let p=s(""),w=s(""),k=s(""),U=s("");const h=s(0),D=s(!1),c=s(!1),C=s(0),R=O,P=m,S=n=>{P("update:isDialogVisible",n)};he(async()=>{await x()});const x=async()=>{const n=await ie(`getClientMTAccountSummery/${R.mt_id}`,{method:"GET",onResponseError({response:_}){}});g.value=n};function z(){y.value=!0}const E=async n=>{if(n){c.value=!0;try{await ie("/submitCreditInRequest",{method:"POST",body:{amount:v.value,transaction_type:C.value,client_id:R.clientId,mt_id:R.mt_id},onResponseError({response:$}){p.value="Something Went Wrong !",w.value=$._data.message,V.value=!0,c.value=!1}})&&(k.value="Success !",U.value="Credit Requested Successfully !",f.value=!0,c.value=!1)}catch(_){p.value="Something Went Wrong !",w.value=_.response?_.response.data.message:_.message,V.value=!0,c.value=!1}}},d=()=>{window.location.reload()};return re([h],()=>{C.value===1?h.value?D.value=!1:D.value=!0:D.value=!1},{deep:!0,immediate:!1}),(n,_)=>{const $=$e,I=Le,Q=ke;return o(),A(ae,null,[e(le,{width:n.$vuetify.display.smAndDown?"auto":600,"model-value":R.isDialogVisible,"onUpdate:modelValue":S},{default:l(()=>[e($,{onClick:_[0]||(_[0]=M=>S(!1))}),e(G,null,{default:l(()=>[e(xe,{class:"pt-3"},{default:l(()=>[i("REQUEST CREDIT")]),_:1}),e(ve),e(de,null,{default:l(()=>[e(L,{cols:"4"},{default:l(()=>[e(q,null,{default:l(()=>[i(" Total Losable Bonus Given"),ku,$u,i(" "+u(("formatCurrency"in n?n.formatCurrency:t(me))(t(g).mt_accounts.l_bonus)),1)]),_:1})]),_:1}),e(L,{cols:"4"},{default:l(()=>[e(q,null,{default:l(()=>[i(" Total Non-Losable Bonus Given"),Au,Tu,i(" "+u(("formatCurrency"in n?n.formatCurrency:t(me))(t(g).mt_accounts.nl_bonus)),1)]),_:1})]),_:1}),e(L,{cols:"4"},{default:l(()=>[e(q,null,{default:l(()=>[i(" Group"),Su,Iu,i(" "+u(t(g).mt_accounts.groupname),1)]),_:1})]),_:1})]),_:1}),e(ve),e(de,{class:"mt-2 ms-2 mb-3"},{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(I,{modelValue:t(v),"onUpdate:modelValue":_[1]||(_[1]=M=>F(v)?v.value=M:null),label:"Amount in USD ",rules:["requiredValidator"in n?n.requiredValidator:t(De)]},{"append-inner":l(()=>[Uu]),_:1},8,["modelValue","rules"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(Rl,null,{default:l(()=>[i(" Credit Type ")]),_:1}),e(Vl,{modelValue:t(C),"onUpdate:modelValue":_[2]||(_[2]=M=>F(C)?C.value=M:null),inline:""},{default:l(()=>[(o(),A(ae,null,ce(r,M=>e(wl,{key:M.value,label:M.text,color:"primary",value:M.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(L,{cols:"12"},{default:l(()=>[e(T,{class:"me-2",color:"primary",onClick:z,disabled:t(v)===null||t(C)===null,loading:t(c)},{default:l(()=>[i(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(Q,{isDialogVisible:t(y),"onUpdate:isDialogVisible":_[3]||(_[3]=M=>F(y)?y.value=M:null),onConfirm:E,"confirmation-question":"Do you want to process this credit request?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:t(f),"onUpdate:modelValue":_[4]||(_[4]=M=>F(f)?f.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",zu,u(t(k)),1),a("p",null,u(t(U)),1),e(T,{color:"success",onClick:d},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(V),"onUpdate:modelValue":_[6]||(_[6]=M=>F(V)?V.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Mu]),_:1}),a("h1",Eu,u(t(p)),1),a("p",null,u(t(w)),1),e(T,{color:"success",onClick:_[5]||(_[5]=M=>V.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Bu=a("br",null,null,-1),Lu=a("br",null,null,-1),Ru=a("span",null,"USD",-1),Pu={key:0,class:"text-error"},qu={class:"text-h4 mb-4"},Nu=a("span",{class:"text-5xl font-weight-light"},"X",-1),Wu={class:"text-h4 mb-4"},ju={__name:"CreditOutDialog",props:{isDialogVisible:{type:Boolean,required:!0},mt_id:{type:Number,required:!0},clientId:{type:Number,required:!0},account_data:{type:Object,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(null),v=s(!1),r=s(!1),y=s(!1),V=s(!1);let f=s(""),p=s(""),w=s(""),k=s("");const U=s(!1),h=O,D=m,c=S=>{D("update:isDialogVisible",S)};re([g],()=>{h.account_data.credit<g.value?v.value=!0:v.value=!1},{deep:!0,immediate:!1});function C(){r.value=!0}const R=async S=>{if(S){U.value=!0;try{await ie("/processCreditOut",{method:"POST",body:{amount:g.value,mt5id:h.mt_id,action:1},onResponseError({response:z}){f.value="Something Went Wrong !",p.value=z._data.message,y.value=!0,U.value=!1}})&&(w.value="Success !",k.value="Transaction Processed Successfully !",V.value=!0,U.value=!1)}catch(x){f.value="Something Went Wrong !",p.value=x.response?x.response.data.message:x.message,y.value=!0,U.value=!1}}},P=()=>{window.location.reload()};return(S,x)=>{const z=$e,E=Le,d=ke;return o(),A(ae,null,[e(le,{width:S.$vuetify.display.smAndDown?"auto":600,"model-value":h.isDialogVisible,"onUpdate:modelValue":c},{default:l(()=>[e(z,{onClick:x[0]||(x[0]=n=>c(!1))}),e(G,null,{default:l(()=>[e(xe,{class:"pt-3"},{default:l(()=>[i("CREDIT OUT TRANSACTION")]),_:1}),e(ve),e(de,null,{default:l(()=>[e(L,{cols:"4"},{default:l(()=>[e(q,null,{default:l(()=>[i(" CREDIT BALANCE"),Bu,Lu,i(" "+u(("formatCurrency"in S?S.formatCurrency:t(me))(O.account_data.credit)),1)]),_:1})]),_:1})]),_:1}),e(de,{class:"mt-2 ms-2 mb-3"},{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(E,{modelValue:t(g),"onUpdate:modelValue":x[1]||(x[1]=n=>F(g)?g.value=n:null),label:"Credit to be removed ",rules:["requiredValidator"in S?S.requiredValidator:t(De)]},{"append-inner":l(()=>[Ru]),_:1},8,["modelValue","rules"]),t(v)?(o(),A("p",Pu,"Not Enough Balance")):B("",!0)]),_:1}),e(L,{cols:"12"},{default:l(()=>[e(T,{class:"me-2",color:"primary",onClick:C,disabled:t(g)===null||t(v),loading:t(U)},{default:l(()=>[i(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(d,{isDialogVisible:t(r),"onUpdate:isDialogVisible":x[2]||(x[2]=n=>F(r)?r.value=n:null),onConfirm:R,"confirmation-question":"Do you want to process this credit out transaction?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:t(V),"onUpdate:modelValue":x[3]||(x[3]=n=>F(V)?V.value=n:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",qu,u(t(w)),1),a("p",null,u(t(k)),1),e(T,{color:"success",onClick:P},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(y),"onUpdate:modelValue":x[5]||(x[5]=n=>F(y)?y.value=n:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Nu]),_:1}),a("h1",Wu,u(t(f)),1),a("p",null,u(t(p)),1),e(T,{color:"success",onClick:x[4]||(x[4]=n=>y.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Fu=a("br",null,null,-1),Gu=a("br",null,null,-1),Ku=a("br",null,null,-1),Hu=a("br",null,null,-1),Qu=a("br",null,null,-1),Xu=a("br",null,null,-1),Yu=a("span",null,"USD",-1),Ju={class:"text-h4 mb-4"},Zu=a("span",{class:"text-5xl font-weight-light"},"X",-1),er={class:"text-h4 mb-4"},lr={__name:"CreditInDialog",props:{isDialogVisible:{type:Boolean,required:!0},mt_id:{type:Number,required:!0},clientId:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=s(null),v=s(null),r=[{text:"Losable Bonus",value:0},{text:"Non-Losable Bonus",value:1}],y=s(null),V=s(!1),f=s(!1),p=s(!1);let w=s(""),k=s(""),U=s(""),h=s("");const D=s(0),c=s(!1),C=s(!1),R=O,P=m,S=n=>{P("update:isDialogVisible",n)};he(async()=>{await x()});const x=async()=>{const n=await ie(`getClientMTAccountSummery/${R.mt_id}`,{method:"GET",onResponseError({response:_}){}});g.value=n};function z(){V.value=!0}const E=async n=>{if(n){C.value=!0;try{await ie("/processCreditIn",{method:"POST",body:{amount:v.value,type:y.value,client_id:R.clientId,mt5id:R.mt_id,action:1},onResponseError({response:$}){w.value="Something Went Wrong !",k.value=$._data.message,f.value=!0,C.value=!1}})&&(U.value="Success !",h.value="Transaction Processed Successfully !",p.value=!0,C.value=!1)}catch(_){w.value="Something Went Wrong !",k.value=_.response?_.response.data.message:_.message,f.value=!0,C.value=!1}}},d=()=>{window.location.reload()};return re([D],()=>{y.value===1?D.value?c.value=!1:c.value=!0:c.value=!1},{deep:!0,immediate:!1}),re([y],()=>{y.value===1?c.value=!0:c.value=!1},{deep:!0,immediate:!1}),(n,_)=>{const $=$e,I=Le,Q=ke;return o(),A(ae,null,[e(le,{width:n.$vuetify.display.smAndDown?"auto":600,"model-value":R.isDialogVisible,"onUpdate:modelValue":S},{default:l(()=>[e($,{onClick:_[0]||(_[0]=M=>S(!1))}),e(G,null,{default:l(()=>[e(xe,{class:"pt-3"},{default:l(()=>[i("CREDIT IN TRANSACTION")]),_:1}),e(ve),e(de,null,{default:l(()=>[e(L,{cols:"4"},{default:l(()=>[e(q,null,{default:l(()=>[i(" Total Losable Bonus Given"),Fu,Gu,i(" "+u(("formatCurrency"in n?n.formatCurrency:t(me))(t(g).mt_accounts.l_bonus)),1)]),_:1})]),_:1}),e(L,{cols:"4"},{default:l(()=>[e(q,null,{default:l(()=>[i(" Total Non-Losable Bonus Given"),Ku,Hu,i(" "+u(("formatCurrency"in n?n.formatCurrency:t(me))(t(g).mt_accounts.nl_bonus)),1)]),_:1})]),_:1}),e(L,{cols:"4"},{default:l(()=>[e(q,null,{default:l(()=>[i(" Group"),Qu,Xu,i(" "+u(t(g).mt_accounts.groupname),1)]),_:1})]),_:1})]),_:1}),e(ve),e(de,{class:"mt-2 ms-2 mb-3"},{default:l(()=>[e(L,{cols:"6"},{default:l(()=>[e(I,{modelValue:t(v),"onUpdate:modelValue":_[1]||(_[1]=M=>F(v)?v.value=M:null),label:"Amount in USD ",rules:["requiredValidator"in n?n.requiredValidator:t(De)]},{"append-inner":l(()=>[Yu]),_:1},8,["modelValue","rules"])]),_:1}),e(L,{cols:"6"},{default:l(()=>[e(Rl,null,{default:l(()=>[i(" Credit Type ")]),_:1}),e(Vl,{modelValue:t(y),"onUpdate:modelValue":_[2]||(_[2]=M=>F(y)?y.value=M:null),inline:""},{default:l(()=>[(o(),A(ae,null,ce(r,M=>e(wl,{key:M.value,label:M.text,color:"primary",value:M.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(y)===1?(o(),b(L,{key:0,cols:"12"},{default:l(()=>[e(it,{modelValue:t(D),"onUpdate:modelValue":_[3]||(_[3]=M=>F(D)?D.value=M:null),label:"Already mapped in Meta Credit Management Tool for non-losable bonus management",color:"primary",value:!0},null,8,["modelValue"])]),_:1})):B("",!0),e(L,{cols:"12"},{default:l(()=>[e(T,{class:"me-2",color:"primary",onClick:z,disabled:t(v)===null||t(y)===null||t(c)===!0,loading:t(C)},{default:l(()=>[i(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(Q,{isDialogVisible:t(V),"onUpdate:isDialogVisible":_[4]||(_[4]=M=>F(V)?V.value=M:null),onConfirm:E,"confirmation-question":"Do you want to process this credit in transaction?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(le,{modelValue:t(p),"onUpdate:modelValue":_[5]||(_[5]=M=>F(p)?p.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Ju,u(t(U)),1),a("p",null,u(t(h)),1),e(T,{color:"success",onClick:d},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(f),"onUpdate:modelValue":_[7]||(_[7]=M=>F(f)?f.value=M:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Zu]),_:1}),a("h1",er,u(t(w)),1),a("p",null,u(t(k)),1),e(T,{color:"success",onClick:_[6]||(_[6]=M=>f.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},tr={key:0,class:"pa-3 pa-sm-4"},ar=["onClick"],sr={class:"text-base font-weight-medium"},nr={class:"text-h4 mb-4"},or=a("span",{class:"text-5xl font-weight-light"},"X",-1),ir={class:"text-h4 mb-4"},ur={__name:"UpdateLeverageDialog",props:{isDialogVisible:{type:Boolean,required:!0},mt_id:{type:Number,required:!0},clientId:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=O,v=s(null);s(0);const r=s(0);re(()=>g.clientId,z=>{z&&(v.value=g.clientId)},{immediate:!0});const y=s(null),V=s(null),f=s(!1),p=s(!1),w=s(!1);let k=s(""),U=s("");const h=s(!1);let D=s(""),c=s("");const C=async()=>{const z=await ie(`live-account/groups-leverages/${v.value}`,{method:"GET",onResponseError({response:E}){}});y.value=z.result.groups,V.value=z.result.leverage},R=async()=>{f.value=!0,p.value=!0,await ie("/live-account/update-leverage",{method:"POST",body:{mt_userid:g.mt_id,leverage:V.value[r.value].leverage},onResponseError({response:E}){f.value=!1,p.value=!1,D.value="Something Went Wrong !",c.value=E._data.message,h.value=!0}})&&(k.value="Leverage Updated !",U.value="MT5 Account Leverage Updated Successfully !",w.value=!0,f.value=!1,p.value=!1)};he(async()=>{await C()});const P=async z=>{window.location.reload()},S=m;re(g,()=>{});const x=z=>{S("update:isDialogVisible",z)};return s("starter"),(z,E)=>{const d=$e;return o(),b(le,{width:z.$vuetify.display.smAndDown?"auto":600,"model-value":g.isDialogVisible,"onUpdate:modelValue":x},{default:l(()=>[e(d,{onClick:E[0]||(E[0]=n=>x(!1))}),e(G,null,{default:l(()=>[e(xe,{class:"pt-3"},{default:l(()=>[i("Update Leverage")]),_:1}),e(ve),e(ze,{class:"pt-5 pb-5"},{default:l(()=>[i("Select Leverage")]),_:1}),t(V)?(o(),A("div",tr,[e(Qe,{modelValue:t(r),"onUpdate:modelValue":E[1]||(E[1]=n=>F(r)?r.value=n:null),class:"mt-0"},{default:l(()=>[(o(!0),A(ae,null,ce(t(V),(n,_)=>(o(),b(Ge,{key:n.id,value:_},{default:l(({isSelected:$,toggle:I})=>[a("div",{style:Ke([{"block-size":"30px","inline-size":"100px"},$?"border-color:rgb(var(--v-theme-primary)) !important":""]),class:He([$?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-4 px-5 me-4"]),onClick:I},[a("h6",sr," 1:"+u(n.leverage),1)],14,ar)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):(o(),A(ae,{key:1},ce(3,n=>e(Ce,{key:n,type:"list-item-two-line"})),64)),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:E[2]||(E[2]=n=>x(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:t(f),disabled:t(p),color:"primary",onClick:E[3]||(E[3]=n=>R())},{default:l(()=>[i(" Update Leverage ")]),_:1},8,["loading","disabled"])]),_:1}),e(le,{modelValue:t(w),"onUpdate:modelValue":E[5]||(E[5]=n=>F(w)?w.value=n:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",nr,u(t(k)),1),a("p",null,u(t(U)),1),e(T,{color:"success",onClick:E[4]||(E[4]=n=>P())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(h),"onUpdate:modelValue":E[6]||(E[6]=n=>F(h)?h.value=n:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[or]),_:1}),a("h1",ir,u(t(D)),1),a("p",null,u(t(c)),1),e(T,{color:"success",onClick:P},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},rr={key:0,class:"pa-3 pa-sm-4"},dr=["onClick"],cr={class:"text-base font-weight-medium mb-2"},mr={class:"d-flex justify-space-between align-center gap-2 flex-wrap",style:{"font-size":"12px"}},pr=a("span",{class:"app-timeline-title"},"Spread :",-1),fr={class:"app-timeline-meta"},_r={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2",style:{"font-size":"12px"}},vr=a("span",{class:"fs-"},"Min Dep.:",-1),gr={class:"app-timeline-meta"},br={class:"text-h4 mb-4"},yr=a("span",{class:"text-5xl font-weight-light"},"X",-1),hr={class:"text-h4 mb-4"},Vr={__name:"UpdateMT5GroupDialog",props:{isDialogVisible:{type:Boolean,required:!0},mt_id:{type:Number,required:!0},clientId:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=O,v=s(null),r=s(0);s(0),re(()=>g.clientId,x=>{x&&(v.value=g.clientId)},{immediate:!0});const y=s(null);s(null);const V=s(!1),f=s(!1),p=s(!1);let w=s(""),k=s("");const U=s(!1);let h=s(""),D=s("");const c=async()=>{const x=await ie(`live-account/update-group-list/${v.value}`,{method:"GET",onResponseError({response:z}){}});y.value=x.result.groups},C=async()=>{V.value=!0,f.value=!0,await ie("/live-account/update-group",{method:"POST",body:{mt5id:g.mt_id,groupid:y.value[r.value].id},onResponseError({response:z}){V.value=!1,f.value=!1,h.value="Something Went Wrong !",D.value=z._data.message,U.value=!0}})&&(w.value="Group Updated !",k.value="MT5 Account Group Updated Successfully !",p.value=!0,V.value=!1,f.value=!1)},R=async x=>{window.location.reload()},P=m;re(()=>g.isDialogVisible,async x=>{x&&await c()},{immediate:!0});const S=x=>{P("update:isDialogVisible",x)};return s("starter"),(x,z)=>{const E=$e;return o(),b(le,{width:x.$vuetify.display.smAndDown?"auto":600,"model-value":g.isDialogVisible,"onUpdate:modelValue":S},{default:l(()=>[e(E,{onClick:z[0]||(z[0]=d=>S(!1))}),e(G,null,{default:l(()=>[e(xe,null,{default:l(()=>[i("Update MT5 Group")]),_:1}),e(ve),e(ze,{class:"pt-3"},{default:l(()=>[i("Select Group")]),_:1}),t(y)?(o(),A("div",rr,[e(Qe,{modelValue:t(r),"onUpdate:modelValue":z[1]||(z[1]=d=>F(r)?r.value=d:null),class:"mt-0"},{default:l(()=>[(o(!0),A(ae,null,ce(t(y),(d,n)=>(o(),b(Ge,{key:d.id,value:n},{default:l(({isSelected:_,toggle:$})=>[a("div",{style:Ke([{"block-size":"160px","inline-size":"130px"},_?"border-color:rgb(var(--v-theme-primary)) !important":""]),class:He([_?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-4 px-5 me-4"]),onClick:$},[e(pe,{rounded:"",size:"45",color:_?"primary":"",variant:"tonal",class:"mb-2 ps-1 pe-1"},{default:l(()=>[e(Me,{src:"/images/svg/mt5_lined.svg",size:"22"})]),_:2},1032,["color"]),a("h6",cr,u(d.mt_group_name),1),a("div",mr,[pr,a("span",fr,u(d.spread),1)]),a("div",_r,[vr,a("span",gr,u(d.min_deposit),1)])],14,dr)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):(o(),A(ae,{key:1},ce(3,d=>e(Ce,{key:d,type:"list-item-two-line"})),64)),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:z[2]||(z[2]=d=>S(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:t(V),disabled:t(f),color:"primary",onClick:z[3]||(z[3]=d=>C())},{default:l(()=>[i(" Update Group ")]),_:1},8,["loading","disabled"])]),_:1}),e(le,{modelValue:t(p),"onUpdate:modelValue":z[5]||(z[5]=d=>F(p)?p.value=d:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",br,u(t(w)),1),a("p",null,u(t(k)),1),e(T,{color:"success",onClick:z[4]||(z[4]=d=>R())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(U),"onUpdate:modelValue":z[6]||(z[6]=d=>F(U)?U.value=d:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[yr]),_:1}),a("h1",hr,u(t(h)),1),a("p",null,u(t(D)),1),e(T,{color:"success",onClick:R},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},wr={key:0,class:"pa-3 pa-sm-4"},Dr=["onClick"],xr={class:"text-base font-weight-medium mb-2"},Cr={class:"d-flex justify-space-between align-center gap-2 flex-wrap",style:{"font-size":"12px"}},kr=a("span",{class:"app-timeline-title"},"Spread :",-1),$r={class:"app-timeline-meta"},Ar={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2",style:{"font-size":"12px"}},Tr=a("span",{class:"fs-"},"Min Dep.:",-1),Sr={class:"app-timeline-meta"},Ir={class:"pa-3 pa-sm-4"},Ur=["onClick"],zr={class:"text-base font-weight-medium"},Mr={class:"text-h4 mb-4"},Er=a("span",{class:"text-5xl font-weight-light"},"X",-1),Or={class:"text-h4 mb-4"},Br={__name:"OpenMT5AccountDialog",props:{isDialogVisible:{type:Boolean,required:!0},clientId:{type:Number,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=O,v=s(null),r=s(0),y=s(0);re(()=>g.clientId,d=>{d&&(v.value=g.clientId)},{immediate:!0}),re(()=>g.isDialogVisible,async d=>{d&&await P()},{immediate:!0});const V=s(null),f=s(null),p=s(!1),w=s(!1),k=s(!1);let U=s(""),h=s("");const D=s(!1);let c=s(""),C=s("");const R=s(!1),P=async()=>{const d=await ie(`live-account/groups-leverages/${v.value}`,{method:"GET",onResponseError({response:n}){}});V.value=d.result.groups,f.value=d.result.leverage};re(r,()=>{typeof r.value>"u"||r.value===null?w.value=!0:w.value=!1},{deep:!0,immediate:!1}),re(y,()=>{typeof y.value>"u"||y.value===null?R.value=!0:R.value=!1},{deep:!0,immediate:!1});const S=async()=>{p.value=!0,w.value=!0;const d=await ie("/live-account/create",{method:"POST",body:{groupid:V.value[r.value].id,client_id:v.value,leverage:f.value[y.value].leverage},onResponseError({response:n}){p.value=!1,w.value=!1,c.value="Something Went Wrong !",C.value=n._data.message,D.value=!0}});d&&(U.value="Account Created !",h.value="Live MT5 Account Created Successfully !",k.value=!0,p.value=!1,w.value=!1),transData.value=d},x=async d=>{window.location.reload()},z=m,E=d=>{z("update:isDialogVisible",d)};return s("starter"),(d,n)=>{const _=$e;return o(),b(le,{width:d.$vuetify.display.smAndDown?"auto":600,"model-value":g.isDialogVisible,"onUpdate:modelValue":E},{default:l(()=>[e(_,{onClick:n[0]||(n[0]=$=>E(!1))}),e(G,null,{default:l(()=>[e(xe,null,{default:l(()=>[i("Create Live MT5 Account")]),_:1}),e(ve),e(ze,{class:"pt-3"},{default:l(()=>[i("Select Group")]),_:1}),t(V)?(o(),A("div",wr,[e(Qe,{modelValue:t(r),"onUpdate:modelValue":n[1]||(n[1]=$=>F(r)?r.value=$:null),class:"mt-0"},{default:l(()=>[(o(!0),A(ae,null,ce(t(V),($,I)=>(o(),b(Ge,{key:$.id,value:I},{default:l(({isSelected:Q,toggle:M})=>[a("div",{style:Ke([{"block-size":"160px","inline-size":"130px"},Q?"border-color:rgb(var(--v-theme-primary)) !important":""]),class:He([Q?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-4 px-5 me-4"]),onClick:M},[e(pe,{rounded:"",size:"45",color:Q?"primary":"",variant:"tonal",class:"mb-2 ps-1 pe-1"},{default:l(()=>[e(Me,{src:"/images/svg/mt5_lined.svg",size:"22"})]),_:2},1032,["color"]),a("h6",xr,u($.mt_group_name),1),a("div",Cr,[kr,a("span",$r,u($.spread),1)]),a("div",Ar,[Tr,a("span",Sr,u($.min_deposit),1)])],14,Dr)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):(o(),A(ae,{key:1},ce(3,$=>e(Ce,{key:$,type:"article"})),64)),e(ze,{class:"pt-3"},{default:l(()=>[i("Select Leverage")]),_:1}),a("div",Ir,[e(Qe,{modelValue:t(y),"onUpdate:modelValue":n[2]||(n[2]=$=>F(y)?y.value=$:null),class:"mt-0"},{default:l(()=>[(o(!0),A(ae,null,ce(t(f),($,I)=>(o(),b(Ge,{key:$.id,value:I},{default:l(({isSelected:Q,toggle:M})=>[a("div",{style:Ke([{"block-size":"30px","inline-size":"100px"},Q?"border-color:rgb(var(--v-theme-primary)) !important":""]),class:He([Q?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-4 px-5 me-4"]),onClick:M},[a("h6",zr," 1:"+u($.leverage),1)],14,Ur)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:n[3]||(n[3]=$=>E(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:t(p),disabled:t(w)||t(R),color:"primary",onClick:n[4]||(n[4]=$=>S())},{default:l(()=>[i(" Create Account ")]),_:1},8,["loading","disabled"])]),_:1}),e(le,{modelValue:t(k),"onUpdate:modelValue":n[6]||(n[6]=$=>F(k)?k.value=$:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Mr,u(t(U)),1),a("p",null,u(t(h)),1),e(T,{color:"success",onClick:n[5]||(n[5]=$=>x())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(D),"onUpdate:modelValue":n[7]||(n[7]=$=>F(D)?D.value=$:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Er]),_:1}),a("h1",Or,u(t(c)),1),a("p",null,u(t(C)),1),e(T,{color:"success",onClick:x},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},Lr={style:{"font-weight":"bold","text-align":"center"}},Rr=a("thead",null,[a("tr",null,[a("th",null,"DATE"),a("th",null,"ORDER"),a("th",null,"SYMBOL"),a("th",null,"PRICE"),a("th",null,"PROFIT"),a("th",null,"EXP.POS."),a("th",null,"COMMENT"),a("th",null,"ACTION")])],-1),Pr={key:1},qr=a("p",null,"No deals available",-1),Nr=[qr],Wr={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},jr={__name:"ViewMTCardLDealsDialog",props:{isDrawerOpen:{type:Boolean,required:!0},mt_id:{type:[Number,null],required:!0},clientId:{type:Number,required:!0}},emits:["update:isDrawerOpen","userData"],setup(O,{emit:m}){const g=s(),v=s([]),r=s(1),y=s(1),V=O,f=m,p=h=>{f("update:isDrawerOpen",h)},w=async(h,D)=>{if(!h){console.error("mt_id is null or undefined");return}try{const c=await ie(`/getClientMt5Deals/${h}/${D}`,{method:"GET"});c&&Array.isArray(c.deals)?(v.value=c.deals,y.value=c.page_count||1):console.error("Failed to fetch deal list or empty response")}catch(c){console.error("Error fetching deal list:",c)}};he(()=>{V.mt_id&&w(V.mt_id,r.value)}),re(()=>V.mt_id,h=>{h&&w(h,r.value)}),re(r,h=>{V.mt_id&&w(V.mt_id,h)});const k=()=>{f("update:isDrawerOpen",!1),zl(()=>{var h,D;(h=g.value)==null||h.reset(),(D=g.value)==null||D.resetValidation()})},U=h=>new Date(h).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return(h,D)=>{const c=Cl;return o(),b($l,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":V.isDrawerOpen,"onUpdate:modelValue":p},{default:l(()=>[e(c,{title:" MT5 Deal Details ","text-align":"center",onCancel:k}),a("p",Lr,"Login: "+u(V.mt_id),1),e(ve),e(t(kl),{options:{wheelPropagation:!1}},{default:l(()=>[e(G,null,{default:l(()=>[v.value.length?(o(),b(Be,{key:0,height:"800",class:"text-no-wrap"},{default:l(()=>[Rr,a("tbody",null,[(o(!0),A(ae,null,ce(v.value,C=>(o(),A("tr",{key:C.order},[a("td",null,u(U(C.time)),1),a("td",null,u(C.order),1),a("td",null,u(C.symbol),1),a("td",null,u(C.price),1),a("td",null,u(C.profit),1),a("td",null,u(C.ex_position),1),a("td",null,u(C.comment),1),a("td",null,u(C.action),1)]))),128))])]),_:1})):(o(),A("div",Pr,Nr)),e(q,{class:"pt-2"},{default:l(()=>[a("div",Wr,[e(Je,{modelValue:r.value,"onUpdate:modelValue":D[0]||(D[0]=C=>r.value=C),length:y.value,"total-visible":h.$vuetify.display.smAndDown?3:5},null,8,["modelValue","length","total-visible"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Fr={key:0,class:"text-body-2 pt-3 pb-0 mb-0 text-error"},Gr={class:"text-h4 mb-4"},Kr=a("span",{class:"text-5xl font-weight-light"},"X",-1),Hr={class:"text-h4 mb-4"},Il={__name:"UpdateMT5PasswordDialog",props:{isDialogVisible:{type:Boolean,required:!0},mt_id:{type:Number,required:!0},clientId:{type:Number,required:!0},pass_type:{type:String,required:!0}},emits:["submit","update:isDialogVisible"],setup(O,{emit:m}){const g=O,v=s(null);s(0),s(0);const r=s(!1),y=s(!0),V=s(""),f=s(""),p={required:d=>!!d||"Required.",min:d=>d.length>=8||"Min 8 characters",capital:d=>/[A-Z]/.test(d)||"Min 1 uppercase letter",small:d=>/[a-z]/.test(d)||"Min 1 lowercase letter",special:d=>/[!@#$%^&*(),.?":{}|<>]/.test(d)||"Min 1 special character",number:d=>/[0-9]/.test(d)||"Min 1 number"},w=we(()=>V.value===f.value);re(()=>g.clientId,d=>{d&&(v.value=g.clientId)},{immediate:!0});const k=s(!1),U=s(!1),h=s(!1);let D=s(""),c=s("");const C=s(!1);let R=s(""),P=s("");const S=async()=>{k.value=!0,U.value=!0;try{const d=g.pass_type==="investor"?"/live-account/update-investor":"/live-account/update-master";await ie(d,{method:"POST",body:{accountid:g.mt_id,password:V.value}})&&(D.value="Password Updated !",c.value=`MT5 Account ${g.pass_type==="investor"?"Investor":"Master"} Password Updated Successfully !`,h.value=!0)}catch(d){R.value="Something Went Wrong !",P.value=d.response?d.response.data.message:"Unknown error",C.value=!0}finally{k.value=!1,U.value=!1}},x=async d=>{window.location.reload()},z=m;re(g,()=>{});const E=d=>{z("update:isDialogVisible",d)};return s("starter"),(d,n)=>{const _=$e,$=Le;return o(),b(le,{width:d.$vuetify.display.smAndDown?"auto":600,"model-value":g.isDialogVisible,"onUpdate:modelValue":E},{default:l(()=>[e(_,{onClick:n[0]||(n[0]=I=>E(!1))}),e(G,null,{default:l(()=>[O.pass_type==="investor"?(o(),b(xe,{key:0,class:"pt-3"},{default:l(()=>[i("Update Investor Password")]),_:1})):B("",!0),O.pass_type==="master"?(o(),b(xe,{key:1,class:"pt-3"},{default:l(()=>[i("Update Master Password")]),_:1})):B("",!0),e(ve),e(We,null,{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"12"},{default:l(()=>[e($,{modelValue:t(V),"onUpdate:modelValue":n[1]||(n[1]=I=>F(V)?V.value=I:null),rules:[p.required,p.min,p.capital,p.small,p.special],"append-inner-icon":t(r)?"tabler-eye-off":"tabler-eye",type:t(r)?"text":"password",name:"input-10-2",placeholder:"",label:"Enter Password",hint:"At least 8 characters","onClick:appendInner":n[2]||(n[2]=I=>r.value=!t(r))},null,8,["modelValue","rules","append-inner-icon","type"])]),_:1}),e(L,{cols:"12",sm:"12"},{default:l(()=>[e($,{modelValue:t(f),"onUpdate:modelValue":n[3]||(n[3]=I=>F(f)?f.value=I:null),rules:[p.required,p.min,p.capital,p.small,p.special],"append-inner-icon":t(y)?"tabler-eye-off":"tabler-eye",type:t(y)?"text":"password",name:"input-10-2",placeholder:"",label:"Enter Confirm Password","onClick:appendInner":n[4]||(n[4]=I=>y.value=!t(y))},null,8,["modelValue","rules","append-inner-icon","type"])]),_:1})]),_:1}),t(w)?B("",!0):(o(),A("p",Fr,"Passwords do not match"))]),_:1}),e(q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(T,{variant:"tonal",color:"secondary",onClick:n[5]||(n[5]=I=>E(!1))},{default:l(()=>[i(" Close ")]),_:1}),e(T,{loading:t(k),disabled:t(U),color:"primary",onClick:n[6]||(n[6]=I=>S())},{default:l(()=>[i(" Update Password ")]),_:1},8,["loading","disabled"])]),_:1}),e(le,{modelValue:t(h),"onUpdate:modelValue":n[8]||(n[8]=I=>F(h)?h.value=I:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Gr,u(t(D)),1),a("p",null,u(t(c)),1),e(T,{color:"success",onClick:n[7]||(n[7]=I=>x())},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(C),"onUpdate:modelValue":n[9]||(n[9]=I=>F(C)?C.value=I:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Kr]),_:1}),a("h1",Hr,u(t(R)),1),a("p",null,u(t(P)),1),e(T,{color:"success",onClick:x},{default:l(()=>[i(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["width","model-value"])}}},Qr=["onClick"],Xr={class:"text-base font-weight-medium mb-0"},Yr={style:{"block-size":"90px","inline-size":"90px"},class:"d-flex flex-column justify-center align-center rounded border border-dashed py-4 px-5"},Jr={class:"mt-n4 me-n2"},Zr={class:"d-flex align-center gap-2 mb-3 flex-wrap"},ed={class:"text-h2"},ld=a("span",{class:"text-sm text-medium-emphasis"},"Current balance in MT5 Account",-1),td={key:0,class:"d-flex justify-start flex-wrap mt-4"},ad={key:1,class:"d-flex justify-start flex-wrap mt-4"},sd={key:2,class:"d-flex justify-start flex-wrap mt-4"},nd={key:3,class:"d-flex justify-start flex-wrap mt-4"},od={class:"d-flex align-center gap-x-2 mb-5"},id={class:"text-body-1"},ud={class:"d-flex align-center gap-x-2"},rd={class:"text-body-1"},dd=a("button",null,null,-1),cd={class:"d-flex align-center gap-x-2"},md={class:"text-body-1"},pd=a("button",null,null,-1),fd={class:"d-flex align-center gap-x-2"},_d={class:"text-body-1"},vd={class:"d-flex align-center gap-x-2"},gd={class:"text-body-1"},bd={class:"d-flex align-center gap-x-2"},yd={class:"text-body-1"},hd={class:"d-flex align-center gap-x-2"},Vd={class:"border rounded mt-5 pa-5"},wd={class:"d-flex align-center"},Dd=a("h6",{class:"text-base font-weight-regular"}," Credit ",-1),xd={class:"text-h4 my-2"},Cd={class:"d-flex align-center"},kd=a("h6",{class:"text-base font-weight-regular"}," Margin Free ",-1),$d={class:"text-h4 my-2"},Ad={class:"d-flex align-center"},Td=a("h6",{class:"text-base font-weight-regular"}," Margin ",-1),Sd={class:"text-h4 my-2"},Id={class:"d-flex align-center"},Ud=a("h6",{class:"text-base font-weight-regular"}," Margin Level ",-1),zd={class:"text-h4 my-2"},Md={class:"d-flex align-center"},Ed=a("h6",{class:"text-base font-weight-regular"}," Floating ",-1),Od={class:"text-h4 my-2"},Bd={class:"d-flex align-center"},Ld=a("h6",{class:"text-base font-weight-regular"}," Equity ",-1),Rd={class:"text-h4 my-2"},Pd={class:"text-h4 mb-4"},qd={__name:"MTCardListData",props:{mt5ListData:{type:Object,required:!0},clientId:{type:Number,required:!0}},setup(O){El();const m=s(null);s();const g=s(!1),v=s(!1),r=s(!1),y=s(!1),V=s(!1),f=s(!1),p=s(!1),w=s(!1),k=s(!1),U=s(null),h=s(null),D=s(null),c=s(!1),C=s(!1),R=s(""),P=s("investor"),S=s("master"),x=s(!1),z=s(!1);let E=s(""),d=s("");const n=s(!1),_=s(!1),$=s(!1),I=O;re(()=>I.mt5ListData,J=>{J&&(U.value=I.mt5ListData.filter(se=>se.is_wallet!==1))},{immediate:!0});const Q=async J=>{h&&(h.value=null),k.value=!0;const se=await ie(`live-account/mt-info/${J}`,{method:"GET",onResponseError({response:Ee}){k.value=!1}});se&&(h.value=se.result.mt_data,k.value=!1)};re(m,()=>{var J,se,Ee;(J=U.value[m.value])!=null&&J.mt5_id&&(D.value=(se=U.value[m.value])==null?void 0:se.mt5_id,Q((Ee=U.value[m.value])==null?void 0:Ee.mt5_id))},{immediate:!0});function M(){g.value=!0}function ne(){v.value=!0}function oe(){r.value=!0}function N(){y.value=!0}function te(){V.value=!0}function K(){w.value=!0}const Z=J=>{J?navigator.clipboard.writeText(J).then(()=>{R.value="Password Copied to Clipboard",c.value=!0}).catch(se=>{console.error("Failed to copy text: ",se)}):console.log("No text to copy")},Ae=[{title:"View More",value:"View More"},{title:"Delete",value:"Delete"}],H=async J=>{if(J){z.value=!0;try{await ie("/live-account/resend-account-info",{method:"POST",body:{mt5_id:D.value},onResponseError({response:Ee}){errorTitle.value="Something Went Wrong !",errorMessage.value=Ee._data.message,C.value=!1,isApproveBtnLoading.value=!1,isErrorDialogVisible.value=!0,z.value=!1}})&&(E.value="Email Sent !",d.value="Email has been sent to the client. They will receive it shortly !",x.value=!0,C.value=!1,z.value=!1)}catch(se){errorTitle.value="Something Went Wrong !",errorMessage.value=se.data.message,C.value=!1,isApproveBtnLoading.value=!1,isErrorDialogVisible.value=!0,z.value=!1}}};function j(){n.value=!0}function Ie(){_.value=!0}function ge(){$.value=!0}return(J,se)=>{const Ee=ut,il=jr,ul=Br,rl=Vr,dl=ur,cl=lr,ml=ju,pl=Ou,el=ke;return o(),A(ae,null,[e(G,null,{default:l(()=>[e(xe,{class:"mb-0"},{default:l(()=>[e(q,null,{default:l(()=>[i(" LIVE MT5 ACCOUNTS ")]),_:1})]),_:1}),e(q,{class:"mt-0"},{default:l(()=>[e(Qe,{modelValue:t(m),"onUpdate:modelValue":se[0]||(se[0]=ee=>F(m)?m.value=ee:null),"show-arrows":"",mandatory:"",class:"mb-10 mt-0"},{default:l(()=>[(o(!0),A(ae,null,ce(t(U),(ee,Re)=>(o(),b(Ge,{key:ee.mt5_id,value:Re},{default:l(({isSelected:Y,toggle:Pe})=>[a("div",{style:Ke([{"block-size":"90px","inline-size":"90px"},Y?"border-color:rgb(var(--v-theme-primary)) !important":""]),class:He([Y?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-4 px-5 me-4"]),onClick:Pe},[e(pe,{rounded:"",size:"45",color:Y?"primary":"",variant:"tonal",class:"mb-1 ps-1 pe-1"},{default:l(()=>[e(Me,{src:"/images/svg/mt5_lined.svg",size:"22"})]),_:2},1032,["color"]),a("h6",Xr,u(ee.mt5_id),1)],14,Qr)]),_:2},1032,["value"]))),128)),("hasAccess"in J?J.hasAccess:t(W))("create_mt5_account")?(o(),A("a",{key:0,onClick:M},[e(Ge,null,{default:l(()=>[a("div",Yr,[e(pe,{rounded:"",size:"70",variant:"tonal"},{default:l(()=>[e(X,{size:"22",icon:"tabler-plus"})]),_:1})])]),_:1})])):B("",!0)]),_:1},8,["modelValue"]),t(h)?(o(),b(G,{key:t(m)},{default:l(()=>[e(We,{class:"pb-sm-0"},{append:l(()=>[a("div",Jr,[e(Ee,{"menu-list":Ae})])]),default:l(()=>[e(xe,null,{default:l(()=>{var ee;return[i("MT "+u((ee=t(U)[t(m)])==null?void 0:ee.mt5_id),1)]}),_:1}),e(ze,null,{default:l(()=>[i("Account Details Overview")]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"5",lg:"5",class:"d-flex flex-column align-self-center"},{default:l(()=>{var ee;return[a("div",Zr,[a("h4",ed,u(("hasAccess"in J?J.hasAccess:t(W))("view_mt5_balance")?("formatCurrency"in J?J.formatCurrency:t(me))((ee=t(h))==null?void 0:ee.balance):"****"),1),e(ue,{label:"",size:"small",color:"success"},{default:l(()=>[i(" Balance ")]),_:1})]),ld,("hasAccess"in J?J.hasAccess:t(W))("view_deals")?(o(),A("div",td,[e(T,{variant:"outlined",size:"x-small",rounded:"md",color:"secondary",onClick:K},{default:l(()=>[i(" VIEW DEALS ")]),_:1})])):B("",!0),("hasAccess"in J?J.hasAccess:t(W))("process_credit_in")?(o(),A("div",ad,[e(T,{variant:"outlined",size:"x-small",rounded:"md",color:"secondary",onClick:j},{default:l(()=>[i(" CREDIT IN ")]),_:1})])):B("",!0),("hasAccess"in J?J.hasAccess:t(W))("process_credit_out")&&t(h).credit?(o(),A("div",sd,[e(T,{variant:"outlined",size:"x-small",rounded:"md",color:"secondary",onClick:Ie},{default:l(()=>[i(" CREDIT OUT ")]),_:1})])):B("",!0),("hasAccess"in J?J.hasAccess:t(W))("request_credit")?(o(),A("div",nd,[e(T,{variant:"outlined",size:"x-small",rounded:"md",color:"secondary",onClick:ge},{default:l(()=>[i(" REQUEST CREDIT ")]),_:1})])):B("",!0)]}),_:1}),e(L,{cols:"12",sm:"7",lg:"7"},{default:l(()=>[e(ye,{class:"card-list"},{default:l(()=>{var ee,Re;return[e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-bulb",size:"22"})]),_:1})]),append:l(()=>[a("div",od,[a("div",id,[e(ue,{variant:"outlined"},{default:l(()=>{var Y;return[i(u(("hasAccess"in J?J.hasAccess:t(W))("view_mt5_group")?(Y=t(U)[t(m)])==null?void 0:Y.mt_group_name:"*****"),1)]}),_:1})]),("hasAccess"in J?J.hasAccess:t(W))("update_mt5_group")?(o(),b(Ve,{key:0,icon:"tabler-edit",color:"warning",variant:"tonal",onClick:ne})):B("",!0)])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" MT GROUP NAME ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Group in MT5 Server ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-cards",size:"22"})]),_:1})]),append:l(()=>[a("div",ud,[a("div",rd,[e(ue,{variant:"outlined"},{default:l(()=>{var Y;return[i(u((Y=t(U)[t(m)])==null?void 0:Y.category_name),1)]}),_:1})]),dd])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" MT CATEGORY ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Label Displayed to Client ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-server",size:"22"})]),_:1})]),append:l(()=>[a("div",cd,[a("div",md,[e(ue,{variant:"outlined"},{default:l(()=>{var Y;return[i(u((Y=t(h))==null?void 0:Y.server),1)]}),_:1})]),pd])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" SERVER ")]),_:1})]),_:1}),e(fe,null,{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-droplet-dollar",size:"22"})]),_:1})]),append:l(()=>[a("div",fd,[a("div",_d,[("hasAccess"in J?J.hasAccess:t(W))("view_mt5_leverage")?(o(),b(ue,{key:0,variant:"outlined"},{default:l(()=>{var Y;return[i(" 1 : "+u((Y=t(U)[t(m)])==null?void 0:Y.leverage),1)]}),_:1})):(o(),b(ue,{key:1,variant:"outlined"},{default:l(()=>[i(" * : *** ")]),_:1}))]),("hasAccess"in J?J.hasAccess:t(W))("update_mt5_leverage")?(o(),b(Ve,{key:0,icon:"tabler-edit",color:"warning",variant:"tonal",onClick:oe})):B("",!0)])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" LEVERAGE ")]),_:1})]),_:1}),("hasAccess"in J?J.hasAccess:t(W))("view_mt5_investor_pass")&&((ee=t(U)[t(m)])==null?void 0:ee.investor_password)!=="no access"?(o(),b(fe,{key:0},{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-password-user",size:"22"})]),_:1})]),append:l(()=>[a("div",vd,[a("div",gd,[e(ue,{variant:"outlined"},{default:l(()=>{var Y;return[i(u(t(f)?(Y=t(U)[t(m)])==null?void 0:Y.investor_password:"*********"),1)]}),_:1})]),e(Ve,{icon:t(f)?"tabler-eye-off":"tabler-eye",color:"primary",variant:"tonal",onClick:se[1]||(se[1]=Y=>f.value=!t(f))},null,8,["icon"]),t(f)?(o(),b(Ve,{key:0,icon:"tabler-copy",color:"secondary",variant:"tonal",onClick:se[2]||(se[2]=Y=>{var Pe;return Z((Pe=t(U)[t(m)])==null?void 0:Pe.investor_password)})})):B("",!0),("hasAccess"in J?J.hasAccess:t(W))("update_investor_password")?(o(),b(Ve,{key:1,icon:"tabler-edit",color:"warning",variant:"tonal",onClick:N})):B("",!0)])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" INV. PASSWORD ")]),_:1})]),_:1})):B("",!0),("hasAccess"in J?J.hasAccess:t(W))("view_mt5_master_pass")&&((Re=t(U)[t(m)])==null?void 0:Re.master_password)!=="no access"?(o(),b(fe,{key:1},{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-password-fingerprint",size:"22"})]),_:1})]),append:l(()=>[a("div",bd,[a("div",yd,[e(ue,{variant:"outlined"},{default:l(()=>{var Y;return[i(u(t(p)?(Y=t(U)[t(m)])==null?void 0:Y.master_password:"*********"),1)]}),_:1})]),e(Ve,{icon:t(p)?"tabler-eye-off":"tabler-eye",color:"primary",variant:"tonal",onClick:se[3]||(se[3]=Y=>p.value=!t(p))},null,8,["icon"]),t(p)?(o(),b(Ve,{key:0,icon:"tabler-copy",color:"secondary",variant:"tonal",onClick:se[4]||(se[4]=Y=>{var Pe;return Z((Pe=t(U)[t(m)])==null?void 0:Pe.master_password)})})):B("",!0),("hasAccess"in J?J.hasAccess:t(W))("update_master_passsword")?(o(),b(Ve,{key:1,icon:"tabler-edit",color:"warning",variant:"tonal",onClick:te})):B("",!0)])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" MASTER PASSWORD ")]),_:1})]),_:1})):B("",!0),("hasAccess"in J?J.hasAccess:t(W))("resend_mt5_credential_email")?(o(),b(fe,{key:2},{prepend:l(()=>[e(pe,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:l(()=>[e(X,{icon:"tabler-mail-fast",size:"22"})]),_:1})]),append:l(()=>[a("div",hd,[e(Ve,{icon:"tabler-mail-star",color:"secondary",variant:"tonal",onClick:se[5]||(se[5]=Y=>C.value=!0)})])]),default:l(()=>[e(_e,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[i(" Resend MT5 INFO. ")]),_:1}),e(Oe,{class:"me-4 text-caption"},{default:l(()=>[i(" Label Displayed to Client ")]),_:1})]),_:1})):B("",!0)]}),_:1})]),_:1})]),_:1}),a("div",Vd,[e(de,null,{default:l(()=>[e(L,{cols:"12",sm:"4"},{default:l(()=>{var ee;return[a("div",wd,[e(pe,{rounded:"",size:"26",color:"primary",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-credit-card-pay"})]),_:1}),Dd]),a("h6",xd,u(("hasAccess"in J?J.hasAccess:t(W))("view_mt5_credit")?("formatCurrency"in J?J.formatCurrency:t(me))((ee=t(h))==null?void 0:ee.credit):"***"),1)]}),_:1}),e(L,{cols:"12",sm:"4"},{default:l(()=>{var ee;return[a("div",Cd,[e(pe,{rounded:"",size:"26",color:"secondary",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-free-rights"})]),_:1}),kd]),a("h6",$d,u(("hasAccess"in J?J.hasAccess:t(W))("view_mt5_fl_ml_and_others")?("formatCurrency"in J?J.formatCurrency:t(me))((ee=t(h))==null?void 0:ee.margin_free):"***"),1)]}),_:1}),e(L,{cols:"12",sm:"4"},{default:l(()=>{var ee;return[a("div",Ad,[e(pe,{rounded:"",size:"26",color:"info",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-chart-arrows"})]),_:1}),Td]),a("h6",Sd,u(("hasAccess"in J?J.hasAccess:t(W))("view_mt5_fl_ml_and_others")?("formatCurrency"in J?J.formatCurrency:t(me))((ee=t(h))==null?void 0:ee.margin):"***"),1)]}),_:1}),e(L,{cols:"12",sm:"4"},{default:l(()=>{var ee;return[a("div",Id,[e(pe,{rounded:"",size:"26",color:"success",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-activity"})]),_:1}),Ud]),a("h6",zd,u(("hasAccess"in J?J.hasAccess:t(W))("view_mt5_fl_ml_and_others")?(ee=t(h))==null?void 0:ee.margin:"***")+"% ",1)]}),_:1}),e(L,{cols:"12",sm:"4"},{default:l(()=>{var ee;return[a("div",Md,[e(pe,{rounded:"",size:"26",color:"error",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-arrows-shuffle-2"})]),_:1}),Ed]),a("h6",Od,u(("formatCurrency"in J?J.formatCurrency:t(me))((ee=t(h))==null?void 0:ee.floating)),1)]}),_:1}),e(L,{cols:"12",sm:"4"},{default:l(()=>{var ee;return[a("div",Bd,[e(pe,{rounded:"",size:"26",color:"primary",variant:"tonal",class:"me-2"},{default:l(()=>[e(X,{size:"18",icon:"tabler-background"})]),_:1}),Ld]),a("h6",Rd,u(("hasAccess"in J?J.hasAccess:t(W))("view_mt5_equity")?("formatCurrency"in J?J.formatCurrency:t(me))((ee=t(h))==null?void 0:ee.equity):"***"),1)]}),_:1})]),_:1})])]),_:1})]),_:1})):B("",!0),t(k)?(o(),A(ae,{key:1},ce(3,ee=>e(Ce,{key:ee,type:"article"})),64)):B("",!0)]),_:1})]),_:1}),e(il,{isDrawerOpen:t(w),"onUpdate:isDrawerOpen":se[6]||(se[6]=ee=>F(w)?w.value=ee:null),mt_id:t(D),clientId:O.clientId},null,8,["isDrawerOpen","mt_id","clientId"]),e(ul,{isDialogVisible:t(g),"onUpdate:isDialogVisible":se[7]||(se[7]=ee=>F(g)?g.value=ee:null),clientId:O.clientId},null,8,["isDialogVisible","clientId"]),t(h)?(o(),b(rl,{key:0,isDialogVisible:t(v),"onUpdate:isDialogVisible":se[8]||(se[8]=ee=>F(v)?v.value=ee:null),mt_id:t(D),clientId:O.clientId},null,8,["isDialogVisible","mt_id","clientId"])):B("",!0),t(h)?(o(),b(dl,{key:1,isDialogVisible:t(r),"onUpdate:isDialogVisible":se[9]||(se[9]=ee=>F(r)?r.value=ee:null),mt_id:t(D),clientId:O.clientId},null,8,["isDialogVisible","mt_id","clientId"])):B("",!0),t(h)?(o(),b(Il,{key:2,isDialogVisible:t(y),"onUpdate:isDialogVisible":se[10]||(se[10]=ee=>F(y)?y.value=ee:null),mt_id:t(D),clientId:O.clientId,pass_type:t(P)},null,8,["isDialogVisible","mt_id","clientId","pass_type"])):B("",!0),t(h)?(o(),b(Il,{key:3,isDialogVisible:t(V),"onUpdate:isDialogVisible":se[11]||(se[11]=ee=>F(V)?V.value=ee:null),mt_id:t(D),clientId:O.clientId,pass_type:t(S)},null,8,["isDialogVisible","mt_id","clientId","pass_type"])):B("",!0),t(h)?(o(),b(cl,{key:4,isDialogVisible:t(n),"onUpdate:isDialogVisible":se[12]||(se[12]=ee=>F(n)?n.value=ee:null),mt_id:t(D),clientId:O.clientId},null,8,["isDialogVisible","mt_id","clientId"])):B("",!0),t(h)?(o(),b(ml,{key:5,isDialogVisible:t(_),"onUpdate:isDialogVisible":se[13]||(se[13]=ee=>F(_)?_.value=ee:null),mt_id:t(D),clientId:O.clientId,account_data:t(h)},null,8,["isDialogVisible","mt_id","clientId","account_data"])):B("",!0),t(h)?(o(),b(pl,{key:6,isDialogVisible:t($),"onUpdate:isDialogVisible":se[14]||(se[14]=ee=>F($)?$.value=ee:null),mt_id:t(D),clientId:O.clientId},null,8,["isDialogVisible","mt_id","clientId"])):B("",!0),e(el,{isDialogVisible:t(C),"onUpdate:isDialogVisible":se[15]||(se[15]=ee=>F(C)?C.value=ee:null),onConfirm:H,"is-confirm-loading":t(z),"confirmation-question":"Are you sure you want to resend MT5 details?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible","is-confirm-loading"]),e(le,{modelValue:t(x),"onUpdate:modelValue":se[17]||(se[17]=ee=>F(x)?x.value=ee:null),"max-width":"500"},{default:l(()=>[e(G,null,{default:l(()=>[e(q,{class:"text-center px-10 py-6"},{default:l(()=>[e(T,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(X,{icon:"tabler-check",size:"38"})]),_:1}),a("h1",Pd,u(t(E)),1),a("p",null,u(t(d)),1),e(T,{color:"success",onClick:se[16]||(se[16]=ee=>x.value=!1)},{default:l(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Tl,{modelValue:t(c),"onUpdate:modelValue":se[18]||(se[18]=ee=>F(c)?c.value=ee:null),timeout:2e3},{default:l(()=>[i(u(t(R)),1)]),_:1},8,["modelValue"])],64)}}},wm={__name:"client-[id]-[tab]-[mt_id]-details",setup(O){const m=Fl(),g=s(null),v=s(null),r=s(null),y=s(null),V=s(null);s(null);const f=s(null),p=s([]);s(!1);const w=s(m.params.id);rt();const k=async()=>{const D=await ie(`live-account/list/${w.value}`,{method:"GET",onResponseError({response:c}){console.log(c)}});f.value=D.result.mt_list},U=async()=>{const D=await ie(`client/data-dashboard/${w.value}`,{method:"GET",onResponseError({response:c}){console.log(c)}});v.value=D.result.client_details,r.value=D.result.manager_histories,y.value=D.result.wallet_created,V.value=D.result.client_documents,h()},h=()=>{const D=[];W("view_mt5_accounts_card")&&D.push({icon:"tabler-server-bolt",title:"ACCOUNTS",label:"acc"}),v.value&&v.value.is_ib===2&&W("view_ib_profile")&&D.push({icon:"tabler-share",title:"IB PROFILE",label:"ib"}),(W("create_deposit_ticket")||W("create_withdraw_ticket")||W("process_internal_transfer"))&&D.push({icon:"tabler-receipt",title:"FUNDS",label:"fund"}),(W("view_deposit_list")||W("view_withdraw_list")||W("view_internal_transfer_list")||W("view_transaction_adjustments"))&&D.push({icon:"tabler-transaction-dollar",title:"TRANSACTIONS",label:"trans"}),D.push({icon:"tabler-transaction-dollar",title:"PROFILE SETTINGS",label:"sett"}),p.value=D};return he(async()=>{await U(),await k()}),(D,c)=>{const C=Ka,R=ea;return o(),b(de,null,{default:l(()=>[t(v)&&t(f)?(o(),b(L,{key:0,cols:"12",md:"5",lg:"4"},{default:l(()=>[e(Uo,{"manager-history":t(r),"user-data":t(v),"client-docs":t(V),walletStatus:t(y),mt5ListData:t(f)},null,8,["manager-history","user-data","client-docs","walletStatus","mt5ListData"])]),_:1})):(o(),A(ae,{key:1},ce(3,P=>e(Ce,{key:P,type:"article"})),64)),t(f)?(o(),b(L,{key:2,cols:"12",md:"7",lg:"8"},{default:l(()=>[e(Xe,{modelValue:t(g),"onUpdate:modelValue":c[0]||(c[0]=P=>F(g)?g.value=P:null),class:"v-tabs-pill"},{default:l(()=>[(o(!0),A(ae,null,ce(t(p),P=>(o(),b(qe,{key:P.title,value:P.label},{default:l(()=>[e(X,{size:18,icon:P.icon,class:"me-1"},null,8,["icon"]),a("span",null,u(P.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e(Ye,{modelValue:t(g),"onUpdate:modelValue":c[1]||(c[1]=P=>F(g)?g.value=P:null),class:"mt-6 disable-tab-transition",touch:!1},{default:l(()=>[e(Te,{value:"acc"},{default:l(()=>[t(f)?(o(),b(qd,{key:0,mt5ListData:t(f),clientId:parseInt(t(w))},null,8,["mt5ListData","clientId"])):B("",!0)]),_:1}),e(Te,{value:"ib"},{default:l(()=>[e(Cu,{"client-id":parseInt(t(w))},null,8,["client-id"])]),_:1}),e(Te,{value:"fund"},{default:l(()=>[t(f)?(o(),b(Ui,{key:0,"client-id":parseInt(t(w)),"mt5-list-data":t(f)},null,8,["client-id","mt5-list-data"])):B("",!0)]),_:1}),e(Te,{value:"trans"},{default:l(()=>[e(C,{clientId:parseInt(t(w))},null,8,["clientId"])]),_:1}),e(Te,{value:"sett"},{default:l(()=>[e(R,{clientId:parseInt(t(w))},null,8,["clientId"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):(o(),A(ae,{key:3},ce(3,P=>e(Ce,{class:"ps-3 pt-3",key:P,type:"table-tbody"})),64))]),_:1})}}};export{wm as default};
