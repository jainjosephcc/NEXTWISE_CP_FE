import{f as Ue}from"./formatters-MfVJSZma.js";import{_ as _e}from"./ConfirmDialog-YJD91LgQ.js";import{_ as Ve}from"./DialogCloseBtn-J5WB80yX.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as O,b as we}from"./VCard-GjZhORBe.js";import{V as ue}from"./VCardTitle-BiITgjs_.js";import{V as K}from"./VDivider-CSkhLUKl.js";import{V as ze}from"./VSlideGroup-B3SXn0uI.js";import{V as Le}from"./VSlideGroupItem-doU5y7w1.js";import{V as De}from"./VSkeletonLoader-BQH1QuGu.js";import{V as Q}from"./VCardText-BOk-HfwD.js";import{r as a,o as m,c as X,b as e,e as l,d as t,t as u,F as me,h as pe,f as h,H as Ae,x as Te,v as c,ah as y,w as Ee,b0 as Se,m as _,y as $,$ as Z,b9 as ge,ba as be,E as Ie}from"./index-MgTNQxVX.js";import{V as H}from"./VDialog-7-XmTV6F.js";import{r as ee}from"./validators-DpYrMFzk.js";import{_ as ye}from"./AppSelect-tDvAStvn.js";import{_ as xe}from"./AppTextField-DtIJKPhH.js";import{$ as ve}from"./api-B9uHuBdw.js";import{V as Ce}from"./VForm-B-swBwR0.js";import{V as W,a as d}from"./VRow-BGcwpjBg.js";import{V as he}from"./VTable-YgWz3nrC.js";import{a as le,b as te}from"./VList-5vlsifz2.js";import{V as q}from"./VAvatar-wnXjew_Y.js";import{V as j}from"./VSwitch-BmTkQGZI.js";import{V as ie}from"./VChip-D8cGd_Nk.js";import{V as Be}from"./VImg-B42m9A7W.js";import"./helpers-DK5QwNv0.js";import"./createSimpleFunctional-oYa5xB7G.js";import"./index-DyKMM2Ft.js";import"./VOverlay-DwceuVdP.js";import"./easing-CjukEv2V.js";import"./lazy-Cj8GSj15.js";import"./scopeId-Do5sjjm7.js";import"./transition-_Xax5M9R.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-CItTByya.js";import"./form-CYMWMDe3.js";import"./VSelect-5lsGLJa6.js";import"./VTextField-CoFv3QGW.js";/* empty css                   */import"./VCounter-SxgduR_A.js";import"./VField-Df50SrI3.js";import"./VInput-DAwT59S2.js";import"./VMenu-D6lEWhF2.js";import"./VCheckboxBtn-wesVee1z.js";import"./VSelectionControl-B8Rx6gSY.js";import"./index-B3bPRkoL.js";/* empty css              */import"./ssrBoot-CYrols-G.js";const qe={class:"sticky-card"},Fe={key:0,class:"pa-3 pa-sm-4"},Ne=["onClick"],Re={class:"text-base font-weight-medium mx-2"},We={__name:"ChangeServerDialog",props:{isDialogVisible:{type:Boolean,required:!0},serverDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(v,{emit:ae}){const D=a(0),S=v,b=ae,x=k=>{b("update:isDialogVisible",k)};function g(){b("serverChanged",S.serverDetails[D.value].id),x()}return(k,p)=>{const U=Ve;return m(),X("section",null,[e(H,{width:k.$vuetify.display.smAndDown?"auto":650,"model-value":S.isDialogVisible,"onUpdate:modelValue":x},{default:l(()=>[e(U,{onClick:p[0]||(p[0]=V=>x(!1))}),e(O,null,{default:l(()=>[t("div",qe,[e(ue,{class:"pt-3"},{default:l(()=>[u("Change Server ")]),_:1}),e(K)]),e(we,{class:"pt-5 pb-5"},{default:l(()=>[u("Select Server")]),_:1}),v.serverDetails?(m(),X("div",Fe,[e(ze,{modelValue:D.value,"onUpdate:modelValue":p[1]||(p[1]=V=>D.value=V),"show-arrows":""},{default:l(()=>[(m(!0),X(me,null,pe(v.serverDetails,(V,w)=>(m(),h(Le,{key:V.id,value:w},{default:l(({isSelected:C,toggle:M})=>[t("div",{style:Ae([{"block-size":"50px","inline-size":"200px"},C?"border-color: rgb(var(--v-theme-primary)) !important":""]),class:Te([C?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-6 px-2"]),onClick:M},[t("h6",Re,c(V.server_name),1)],14,Ne)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):(m(),X(me,{key:1},pe(3,V=>e(De,{key:V,type:"list-item-two-line"})),64)),e(Q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(y,{variant:"tonal",color:"secondary",onClick:p[2]||(p[2]=V=>x(!1))},{default:l(()=>[u(" Close ")]),_:1}),e(y,{color:"primary",onClick:p[3]||(p[3]=V=>g())},{default:l(()=>[u(" Change Server ")]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}},Oe=fe(We,[["__scopeId","data-v-4d011c3e"]]),ke=v=>(ge("data-v-f89bee41"),v=v(),be(),v),Pe={class:"sticky-card"},je=ke(()=>t("span",{class:"text-body"},"Server Name :",-1)),Xe={class:"d-flex align-center"},Ge={class:"text-body-1"},Ke={class:"d-flex align-center gap-x-2"},Qe={class:"text-body-1"},He={class:"d-flex align-center"},Ye={class:"text-body-1"},Je={class:"d-flex align-center gap-x-2"},Ze={class:"text-body-1"},el={class:""},ll={class:"mt-4"},tl={class:"mt-1"},al={class:"mt-1"},sl={class:"mt-1"},ol={class:"text-h4 mb-4"},il=ke(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),nl={class:"text-h4 mb-4"},rl={__name:"EditMasterDialog",props:{isDialogVisible:{type:Boolean,required:!0},masterDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(v,{emit:ae}){const D=a("");a("");const S=a(null);a(!0),a(null);const b=a(!1),x=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],g=a(null),k=a(0),p=a(!1),U=a(!1),V=a(!1),w=a(0),C=a(!1),M=a(!1),F=a(!1);let L=a(""),P=a(""),G=a(""),A=a("");const T=a(!1);a(null);const E=a(null),I=a(null),Y=a(null),N=a(null),R=a(!1),ne=v,re=ae,se=o=>{re("update:isDialogVisible",o)};Ee(()=>ne.masterDetails,o=>{o&&(Y.value=o.id||"",S.value=o.mc_name||"",D.value=o.mc_mt5_id||"",b.value=o.is_config_identical===1,g.value=o.risk_approach||"",k.value=o.multiplier||null,E.value=o.lot_size,w.value=o.fixed_balance||null,p.value=o.copy_sl===1,U.value=o.copy_tp===1,V.value=o.is_reverse===1,I.value=o.description||"",N.value=o.commission_percentage||null,R.value=o.status===1)},{immediate:!0});const J=o=>/^(\d+|\d*\.\d{1,2})$/.test(o.toString())||"Must be a number with up to 2 decimal places",oe=async o=>{if(o){T.value=!0;try{await ve("masters/update",{method:"POST",body:{id:Y.value,mc_mt5_id:D.value,performance_matrix:0,risk_factor:0,is_config_identical:b.value,risk_approach:g.value,lot_size:E.value,multiplier:k.value,fixed_balance:w.value,copy_sl:p.value,copy_tp:U.value,is_reverse:V.value,description:I.value,commission_percentage:N.value,status:R.value},onResponseError({response:n}){L.value="Something Went Wrong !",P.value=n._data.message,T.value=!1,M.value=!0}})&&(G.value="Success !",A.value="Master Updated Successfully !",T.value=!1,F.value=!0)}catch{L.value="Something Went Wrong !",P.value="Something Went Wrong !",T.value=!1,M.value=!0}}},f=async o=>{window.location.reload()};return(o,i)=>{const n=Ve,B=xe,z=ye,ce=_e;return m(),X("section",null,[e(H,{width:o.$vuetify.display.smAndDown?"auto":650,"model-value":ne.isDialogVisible,"onUpdate:modelValue":se},{default:l(()=>[e(n,{onClick:i[0]||(i[0]=r=>se(!1))}),e(O,null,{default:l(()=>[t("div",Pe,[e(ue,{class:"pt-3"},{default:l(()=>[u("Edit Master Accounts")]),_:1}),e(K)]),e(Ce,{onSubmit:Se(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(he,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",Xe,[t("div",Ge,c(v.masterDetails.server.server_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),je]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",Ke,[t("div",Qe,c(v.masterDetails.server.server_ip),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),u(" Server IP : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",He,[t("div",Ye,c(v.masterDetails.server.company_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),u(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",Je,[t("div",Ze,c(v.masterDetails.server.server_type),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),u(" Server Type : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(K,{class:"mb-2"}),e(W,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[t("div",null,[e(B,{label:"MT5 ID",modelValue:D.value,"onUpdate:modelValue":i[1]||(i[1]=r=>D.value=r),placeholder:"Search MT5 ID",disabled:""},null,8,["modelValue"])])]),_:1}),e(d,{cols:"6"},{default:l(()=>[t("div",el,[e(B,{label:"Copier Name",modelValue:S.value,"onUpdate:modelValue":i[2]||(i[2]=r=>S.value=r)},null,8,["modelValue"])])]),_:1}),e(d,{cols:"6"},{default:l(()=>[e(B,{label:"Commission",modelValue:N.value,"onUpdate:modelValue":i[3]||(i[3]=r=>N.value=r),suffix:"%"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:l(()=>[t("div",ll,[e(j,{modelValue:b.value,"onUpdate:modelValue":i[4]||(i[4]=r=>b.value=r),label:"Set Identical Configuration for all slaves"},null,8,["modelValue"])])]),_:1}),b.value?(m(),h(d,{key:0,cols:"6"},{default:l(()=>[e(z,{modelValue:g.value,"onUpdate:modelValue":i[5]||(i[5]=r=>g.value=r),items:x,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in o?o.requiredValidator:_(ee)]},null,8,["modelValue","rules"])]),_:1})):$("",!0),g.value==="FIXL"?(m(),h(d,{key:1,cols:"6",class:""},{default:l(()=>[e(B,{label:"Lot Size",modelValue:E.value,"onUpdate:modelValue":i[6]||(i[6]=r=>E.value=r),type:"number",min:"0",rules:["requiredValidator"in o?o.requiredValidator:_(ee),J]},null,8,["modelValue","rules"])]),_:1})):$("",!0),g.value==="LMUL"||g.value==="BMUL"||g.value==="EMUL"||g.value==="FBMUL"?(m(),h(d,{key:2,cols:"6",class:""},{default:l(()=>[e(B,{label:"Multiplier",modelValue:k.value,"onUpdate:modelValue":i[7]||(i[7]=r=>k.value=r),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in o?o.requiredValidator:_(ee),J]},null,8,["modelValue","rules"])]),_:1})):$("",!0),g.value==="FBMUL"?(m(),h(d,{key:3,cols:"6"},{default:l(()=>[e(B,{label:"Fixed Master Balance",modelValue:w.value,"onUpdate:modelValue":i[8]||(i[8]=r=>w.value=r),type:"number",min:"0",rules:["requiredValidator"in o?o.requiredValidator:_(ee),J]},null,8,["modelValue","rules"])]),_:1})):$("",!0)]),_:1}),b.value?(m(),h(ue,{key:0,class:"mt-1"},{default:l(()=>[u("Advanced Settings")]),_:1})):$("",!0),b.value?(m(),h(W,{key:1,class:"ml-2"},{default:l(()=>[e(d,{cols:"4"},{default:l(()=>[t("div",tl,[e(j,{modelValue:p.value,"onUpdate:modelValue":i[9]||(i[9]=r=>p.value=r),label:"Copy Stop Loss"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"4"},{default:l(()=>[t("div",al,[e(j,{modelValue:U.value,"onUpdate:modelValue":i[10]||(i[10]=r=>U.value=r),label:"Copy Take Profit"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"4"},{default:l(()=>[t("div",sl,[e(j,{modelValue:V.value,"onUpdate:modelValue":i[11]||(i[11]=r=>V.value=r),label:"Reverse Trade"},null,8,["modelValue"])])]),_:1})]),_:1})):$("",!0),e(W,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[e(j,{modelValue:R.value,"onUpdate:modelValue":i[12]||(i[12]=r=>R.value=r),label:R.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(W,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[e(y,{class:"me-2",color:"primary",disabled:!S.value,onClick:i[13]||(i[13]=r=>C.value=!0),loading:T.value},{default:l(()=>[u(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(ce,{isDialogVisible:C.value,"onUpdate:isDialogVisible":i[14]||(i[14]=r=>C.value=r),onConfirm:oe,"confirmation-question":"Are you want to update master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(H,{modelValue:F.value,"onUpdate:modelValue":i[16]||(i[16]=r=>F.value=r),"max-width":"500"},{default:l(()=>[e(O,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(y,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",ol,c(_(G)),1),t("p",null,c(_(A)),1),e(y,{color:"success",onClick:i[15]||(i[15]=r=>f())},{default:l(()=>[u(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(H,{modelValue:M.value,"onUpdate:modelValue":i[17]||(i[17]=r=>M.value=r),"max-width":"500"},{default:l(()=>[e(O,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(y,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[il]),_:1}),t("h1",nl,c(_(L)),1),t("p",null,c(_(P)),1),e(y,{color:"success",onClick:f},{default:l(()=>[u(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},ul=fe(rl,[["__scopeId","data-v-f89bee41"]]),Me=v=>(ge("data-v-57f54729"),v=v(),be(),v),dl={class:"sticky-card"},cl=Me(()=>t("span",{class:"text-body"},"Server Name :",-1)),ml={class:"d-flex align-center"},vl={class:"text-body-1"},pl={class:"d-flex align-center gap-x-2"},fl={class:"text-body-1"},_l={class:"d-flex align-center"},Vl={class:"text-body-1"},gl={class:"d-flex align-center gap-x-2"},bl={class:"text-body-1"},yl={class:"mr-2"},xl={class:"mt-4"},hl={class:""},Dl={class:"mt-1"},Sl={class:"mt-1"},Cl={class:"mt-1"},kl={class:"text-h4 mb-4"},Ml=Me(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),$l={class:"text-h4 mb-4"},Ul={__name:"AddMasterDialog",props:{isDialogVisible:{type:Boolean,required:!0},serverDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(v,{emit:ae}){const D=a("");a("");const S=a(null);a(!0);const b=a(null),x=a(!1),g=a(!1),k=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],p=a(null),U=a(0),V=a(!1),w=a(!1),C=a(!1),M=a(0),F=a(!1),L=a(!1),P=a(!1);let G=a(""),A=a(""),T=a(""),E=a("");const I=a(!1);a(null);const Y=a(null),N=a(null),R=a(null),ne="NEXTWISEMARKETS",re=v,se=ae,J=i=>{se("update:isDialogVisible",i)},oe=i=>/^(\d+|\d*\.\d{1,2})$/.test(i.toString())||"Must be a number with up to 2 decimal places",f=async i=>{var n;if(i){I.value=!0;try{await ve("masters/store",{method:"POST",body:{mc_name:S.value,server_id:(n=re.serverDetails)==null?void 0:n.id,mc_mt5_id:D.value,performance_matrix:0,risk_factor:0,is_config_identical:x.value,risk_approach:p.value,lot_size:Y.value,multiplier:U.value,fixed_balance:M.value,copy_sl:V.value,copy_tp:w.value,is_reverse:C.value,status:g.value,is_live:!0,client_id:b.value,description:N.value,commission_percentage:R.value},onResponseError({response:z}){G.value="Something Went Wrong !",A.value=z._data.message,I.value=!1,L.value=!0}})&&(T.value="Success !",E.value="Master Copier Created Successfully !",I.value=!1,P.value=!0)}catch{G.value="Something Went Wrong !",A.value="Something Went Wrong !",I.value=!1,L.value=!0}}},o=async i=>{window.location.reload()};return(i,n)=>{const B=Ve,z=xe,ce=ye,r=_e;return m(),X("section",null,[e(H,{width:i.$vuetify.display.smAndDown?"auto":650,"model-value":re.isDialogVisible,"onUpdate:modelValue":J},{default:l(()=>[e(B,{onClick:n[0]||(n[0]=s=>J(!1))}),e(O,null,{default:l(()=>[t("div",dl,[e(ue,{class:"pt-3"},{default:l(()=>[u("Add Master Account")]),_:1}),e(K)]),e(Ce,{onSubmit:Se(()=>{},["prevent"])},{default:l(()=>[e(W,null,{default:l(()=>[e(he,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",ml,[t("div",vl,c(_(ne)),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),cl]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",pl,[t("div",fl,c(v.serverDetails.server_ip),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),u(" Server IP : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",_l,[t("div",Vl,c(v.serverDetails.company_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),u(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",gl,[t("div",bl,c(v.serverDetails.server_type),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(q,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),u(" Server Type : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(K,{class:"mb-2"}),e(W,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[t("div",null,[e(z,{label:"MT5 ID",modelValue:D.value,"onUpdate:modelValue":n[1]||(n[1]=s=>D.value=s),placeholder:"Search MT5 ID"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"6"},{default:l(()=>[t("div",yl,[e(z,{label:"Copier Name",modelValue:S.value,"onUpdate:modelValue":n[2]||(n[2]=s=>S.value=s)},null,8,["modelValue"])])]),_:1}),e(d,{cols:"6"},{default:l(()=>[e(z,{label:"Commission",modelValue:R.value,"onUpdate:modelValue":n[3]||(n[3]=s=>R.value=s),suffix:"%"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:l(()=>[t("div",xl,[e(j,{modelValue:x.value,"onUpdate:modelValue":n[4]||(n[4]=s=>x.value=s),label:"Set Identical Configuration for all slaves"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"6"},{default:l(()=>[t("div",hl,[e(z,{label:"Description",modelValue:N.value,"onUpdate:modelValue":n[5]||(n[5]=s=>N.value=s)},null,8,["modelValue"])])]),_:1}),x.value?(m(),h(d,{key:0,cols:"6"},{default:l(()=>[e(ce,{modelValue:p.value,"onUpdate:modelValue":n[6]||(n[6]=s=>p.value=s),items:k,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in i?i.requiredValidator:_(ee)]},null,8,["modelValue","rules"])]),_:1})):$("",!0),p.value==="FIXL"?(m(),h(d,{key:1,cols:"6",class:""},{default:l(()=>[e(z,{label:"Lot Size",modelValue:Y.value,"onUpdate:modelValue":n[7]||(n[7]=s=>Y.value=s),type:"number",min:"0",rules:["requiredValidator"in i?i.requiredValidator:_(ee),oe]},null,8,["modelValue","rules"])]),_:1})):$("",!0),p.value==="LMUL"||p.value==="BMUL"||p.value==="EMUL"||p.value==="FBMUL"?(m(),h(d,{key:2,cols:"6",class:""},{default:l(()=>[e(z,{label:"Multiplier",modelValue:U.value,"onUpdate:modelValue":n[8]||(n[8]=s=>U.value=s),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in i?i.requiredValidator:_(ee),oe]},null,8,["modelValue","rules"])]),_:1})):$("",!0),p.value==="FBMUL"?(m(),h(d,{key:3,cols:"6"},{default:l(()=>[e(z,{label:"Fixed Master Balance",modelValue:M.value,"onUpdate:modelValue":n[9]||(n[9]=s=>M.value=s),type:"number",min:"0",rules:["requiredValidator"in i?i.requiredValidator:_(ee),oe]},null,8,["modelValue","rules"])]),_:1})):$("",!0)]),_:1}),x.value?(m(),h(ue,{key:0,class:"mt-2"},{default:l(()=>[u("Advanced Settings")]),_:1})):$("",!0),x.value?(m(),h(W,{key:1,class:"ml-2"},{default:l(()=>[e(d,{cols:"4"},{default:l(()=>[t("div",Dl,[e(j,{modelValue:V.value,"onUpdate:modelValue":n[10]||(n[10]=s=>V.value=s),label:"Copy Stop Loss"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"4"},{default:l(()=>[t("div",Sl,[e(j,{modelValue:w.value,"onUpdate:modelValue":n[11]||(n[11]=s=>w.value=s),label:"Copy Take Profit"},null,8,["modelValue"])])]),_:1}),e(d,{cols:"4"},{default:l(()=>[t("div",Cl,[e(j,{modelValue:C.value,"onUpdate:modelValue":n[12]||(n[12]=s=>C.value=s),label:"Reverse Trade"},null,8,["modelValue"])])]),_:1})]),_:1})):$("",!0),e(W,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[e(j,{modelValue:g.value,"onUpdate:modelValue":n[13]||(n[13]=s=>g.value=s),label:g.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(W,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[e(y,{class:"me-2",color:"primary",disabled:!S.value,onClick:n[14]||(n[14]=s=>F.value=!0),loading:I.value},{default:l(()=>[u(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(r,{isDialogVisible:F.value,"onUpdate:isDialogVisible":n[15]||(n[15]=s=>F.value=s),onConfirm:f,"confirmation-question":"Are you want to add master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(H,{modelValue:P.value,"onUpdate:modelValue":n[17]||(n[17]=s=>P.value=s),"max-width":"500"},{default:l(()=>[e(O,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(y,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",kl,c(_(T)),1),t("p",null,c(_(E)),1),e(y,{color:"success",onClick:n[16]||(n[16]=s=>o())},{default:l(()=>[u(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(H,{modelValue:L.value,"onUpdate:modelValue":n[18]||(n[18]=s=>L.value=s),"max-width":"500"},{default:l(()=>[e(O,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(y,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Ml]),_:1}),t("h1",$l,c(_(G)),1),t("p",null,c(_(A)),1),e(y,{color:"success",onClick:o},{default:l(()=>[u(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},wl=fe(Ul,[["__scopeId","data-v-57f54729"]]),de=v=>(ge("data-v-912dc885"),v=v(),be(),v),zl={class:"d-flex justify-space-between align-center border-r"},Ll={class:"d-flex flex-column"},Al={class:"text-h6"},Tl=de(()=>t("span",{class:"text-body-2 text-capitalize"},"Server",-1)),El={class:"d-flex justify-space-between align-center border-r"},Il={class:"d-flex flex-column"},Bl={class:"text-h6"},ql=de(()=>t("span",{class:"text-body-2 text-capitalize"},"IP Address",-1)),Fl={class:"d-flex justify-space-between align-center border-r"},Nl={class:"d-flex flex-column"},Rl={class:"text-h6"},Wl=de(()=>t("span",{class:"text-body-2 text-capitalize"},"Manager",-1)),Ol={class:"d-flex justify-space-between align-center border-r"},Pl={class:"d-flex flex-column mb-6"},jl={class:"d-flex flex-column align-center"},Xl={class:"d-flex gap-4 align-center flex-wrap"},Gl={class:"d-flex align-center gap-2"},Kl={class:"d-flex align-center flex-wrap gap-4"},Ql={class:"invoice-list-filter"},Hl={class:"invoice-list-filter"},Yl=de(()=>t("thead",null,[t("tr",null,[t("th",null," ID "),t("th",null," MASTER NAME "),t("th",null," SERVER NAME "),t("th",null," COMPANY NAME "),t("th",null," MT5 ACCOUNT "),t("th",null," GLOBAL CONFIG "),t("th",null," STATUS "),t("th",null," ACTION ")])],-1)),Jl={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Zl=de(()=>t("br",null,null,-1)),et={class:"pr-1"},lt={class:"text-h4 mb-4"},tt=de(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),at={class:"text-h4 mb-4"},st={__name:"index",setup(v){const ae="NEXTWISEMARKETS",D=a(""),S=a(null);a([]);const b=a([]),x=a(null),g=a([]),k=a(!1),p=a(!1),U=a(null),V=a(!1),w=a(null),C=a(!1),M=a(!1);let F=a(""),L=a(""),P=a(""),G=a("");const A=a(!1),T=a(!1),E=a(!1),I=a(!1);Ie(async()=>{await Y()});const Y=async()=>{try{const f=await ve("/meta-servers",{method:"GET",onResponseError({response:o}){console.error(o)}});x.value=f.data,b.value=x.value[0],E.value=b.value.id,N()}catch(f){console.error(f)}},N=async()=>{I.value=!0;try{const f=await ve(`/masters?server_id=${E.value}`,{method:"GET",onResponseError({response:o}){console.error("Error response:",o)}});f?(g.value=f.data,I.value=!1):console.error("Failed to fetch group list or empty response")}catch(f){console.error("Error fetching group list:",f)}};function R(f){U.value=f,p.value=!0}function ne(f){w.value=f,V.value=!0}const re=async f=>{if(f){A.value=!0;try{await ve("masters/delete",{method:"POST",body:{id:w.value},onResponseError({response:i}){F.value="Something Went Wrong !",L.value=i._data.message,A.value=!1,C.value=!0}})&&(P.value="Success !",G.value="Master Deleted Successfully !",A.value=!1,M.value=!0)}catch{F.value="Something Went Wrong !",L.value="Something Went Wrong !",A.value=!1,C.value=!0}}},se=async f=>{window.location.reload()};function J(){T.value=!0}const oe=f=>{E.value=f,b.value=x.value.find(o=>o.id===E.value),N()};return(f,o)=>{const i=xe,n=ye,B=wl,z=ul,ce=Oe,r=_e;return m(),X(me,null,[t("section",null,[e(O,{class:"mb-6"},{default:l(()=>[e(Q,{class:"px-3"},{default:l(()=>[e(W,null,{default:l(()=>[e(d,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",zl,[t("div",Ll,[t("h5",Al,c(_(ae)),1),Tl]),e(q,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-server-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(K,{vertical:""}),e(d,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",El,[t("div",Il,[t("h5",Bl,c(b.value.server_ip),1),ql]),e(q,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-cpu-2",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(K,{vertical:""}),e(d,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",Fl,[t("div",Nl,[t("h5",Rl,c(b.value.manager_name),1),Wl]),e(q,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-user-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(K,{vertical:""}),e(d,{cols:"12",sm:"6",md:"3",class:"px-2"},{default:l(()=>[t("div",Ol,[t("div",Pl,[e(ie,{color:"primary",outlined:"",size:"small"},{default:l(()=>[u(" ACTIVE ")]),_:1})]),t("div",jl,[e(q,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-activity",size:"26",color:"high-emphasis"})]),_:1}),e(y,{color:"secondary",size:"x-small",variant:"outlined",class:"mt-2",onClick:J},{default:l(()=>[e(Z,{start:"",icon:"tabler-settings"}),u("Change server ")]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1}),e(O,{id:"invoice-list"},{default:l(()=>[e(Q,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:l(()=>[t("div",Xl,[t("div",Gl,[e(ue,null,{default:l(()=>[u("Mapped Master Accounts")]),_:1})])]),t("div",Kl,[t("div",Ql,[e(i,{modelValue:D.value,"onUpdate:modelValue":o[0]||(o[0]=s=>D.value=s),placeholder:"Search Master Account"},null,8,["modelValue"])]),t("div",Hl,[e(n,{modelValue:S.value,"onUpdate:modelValue":o[1]||(o[1]=s=>S.value=s),placeholder:"Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Active","Inactive"]},null,8,["modelValue"])]),e(y,{onClick:o[2]||(o[2]=s=>k.value=!0)},{default:l(()=>[u(" Add Master Account ")]),_:1})])]),_:1}),e(K),I.value?(m(),X(me,{key:0},pe(3,s=>e(De,{key:s,type:"table-tbody"})),64)):$("",!0),g.value.length>0?(m(),h(he,{key:1,height:"800","fixed-header":"",class:"text-no-wrap"},{default:l(()=>[Yl,t("tbody",null,[(m(!0),X(me,null,pe(g.value,s=>(m(),X("tr",{class:"",key:s.id},[t("td",Jl,[e(ie,{size:"x-small"},{default:l(()=>[u(c(s.id),1)]),_:2},1024),Zl,u(" "+c(("formatDateToMonthShort"in f?f.formatDateToMonthShort:_(Ue))(s.created_at)),1)]),t("td",null,c(s.mc_name),1),t("td",null,c(s.server.server_name),1),t("td",null,c(s.server.company_name),1),t("td",null,[e(ie,{size:"medium",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[t("div",et,[e(Be,{src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}})]),u(" "+c(s.mc_mt5_id),1)]),_:2},1024)]),t("td",null,[s.is_config_identical===1?(m(),h(ie,{key:0,color:"green",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[u(" Enabled ")]),_:1})):(m(),h(ie,{key:1,color:"red",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[u(" Disabled ")]),_:1}))]),t("td",null,[s.status===1?(m(),h(ie,{key:0,color:"green",outlined:"",variant:"outlined",class:"ma-1"},{default:l(()=>[u(" Active ")]),_:1})):(m(),h(ie,{key:1,color:"red",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[u(" Inactive ")]),_:1}))]),t("td",null,[e(y,{color:"secondary",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-edit",onClick:$e=>R(s)},null,8,["onClick"]),e(y,{color:"error",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-trash",onClick:$e=>ne(s.id),loading:A.value},null,8,["onClick","loading"])])]))),128))])]),_:1})):$("",!0)]),_:1})]),e(B,{isDialogVisible:k.value,"onUpdate:isDialogVisible":o[3]||(o[3]=s=>k.value=s),serverDetails:b.value},null,8,["isDialogVisible","serverDetails"]),e(z,{isDialogVisible:p.value,"onUpdate:isDialogVisible":o[4]||(o[4]=s=>p.value=s),masterDetails:U.value},null,8,["isDialogVisible","masterDetails"]),e(ce,{isDialogVisible:T.value,"onUpdate:isDialogVisible":o[5]||(o[5]=s=>T.value=s),serverDetails:x.value,serverId:b.value.id,onServerChanged:oe},null,8,["isDialogVisible","serverDetails","serverId"]),e(r,{isDialogVisible:V.value,"onUpdate:isDialogVisible":o[6]||(o[6]=s=>V.value=s),onConfirm:re,"confirmation-question":"Are you want to delete master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(H,{modelValue:M.value,"onUpdate:modelValue":o[8]||(o[8]=s=>M.value=s),"max-width":"500"},{default:l(()=>[e(O,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(y,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",lt,c(_(P)),1),t("p",null,c(_(G)),1),e(y,{color:"success",onClick:o[7]||(o[7]=s=>se())},{default:l(()=>[u(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(H,{modelValue:C.value,"onUpdate:modelValue":o[9]||(o[9]=s=>C.value=s),"max-width":"500"},{default:l(()=>[e(O,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(y,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[tt]),_:1}),t("h1",at,c(_(F)),1),t("p",null,c(_(L)),1),e(y,{color:"success",onClick:se},{default:l(()=>[u(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Zt=fe(st,[["__scopeId","data-v-912dc885"]]);export{Zt as default};
