import{f as $e}from"./formatters-MfVJSZma.js";import{_ as fe}from"./ConfirmDialog-2HfV989T.js";import{_ as _e}from"./DialogCloseBtn-C-OReFwP.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as F,b as Ue}from"./VCard-DScfi5So.js";import{V as ne}from"./VCardTitle-DN6VETOB.js";import{V as Q}from"./VDivider-C0ssATun.js";import{V as we}from"./VSlideGroup-DVSDBfNI.js";import{V as ze}from"./VSlideGroupItem-BZqBPP7A.js";import{V as he}from"./VSkeletonLoader-COCwKVaa.js";import{V as H}from"./VCardText-DIMXcuil.js";import{r as o,o as m,c as j,b as e,e as l,d as t,t as r,F as ce,h as ve,f as x,H as Le,x as Ae,v as d,ai as V,w as Ie,b0 as De,m as g,y as w,a0 as Z,b9 as be,ba as ge,E as Te}from"./index-VIgWIw9z.js";import{V as Y}from"./VDialog-DO1lt7PQ.js";import{r as ee}from"./validators-DpYrMFzk.js";import{_ as Ve}from"./AppSelect-DUMJkAgj.js";import{_ as ye}from"./AppTextField-BaVqu4jK.js";import{$ as me}from"./api-BaRI-q-y.js";import{V as Ce}from"./VForm-Dyjjt9sD.js";import{V as q,a as u}from"./VRow-BrBOniq2.js";import{V as xe}from"./VTable-CM4FBYo2.js";import{a as le,b as te}from"./VList-Bn5a5y5R.js";import{V as A}from"./VAvatar-B9FI6N68.js";import{V as P}from"./VSwitch--6alnhwp.js";import{V as oe}from"./VChip-D7Zky-hd.js";import{V as Ee}from"./VImg-BQR-30dM.js";import"./helpers-DK5QwNv0.js";import"./createSimpleFunctional-CCI-bGJ3.js";import"./index-CyI2hWI8.js";import"./VOverlay-DKlk4GO4.js";import"./easing-CjukEv2V.js";import"./lazy-fDnYxLbP.js";import"./scopeId-BZPXlNMJ.js";import"./transition-CZ13CYou.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-BzBIeMyZ.js";import"./form-D5earr4N.js";import"./VSelect-BnxhhcdK.js";import"./VTextField-Bkm-lU-B.js";/* empty css                   */import"./VCounter-DELH-t7W.js";import"./VField-CGsPVke0.js";import"./VInput-C2xQUOvp.js";import"./VMenu-CyOlJkau.js";import"./VCheckboxBtn-BbkRNVdL.js";import"./VSelectionControl-BxKTAbpm.js";import"./index-B3bPRkoL.js";/* empty css              */import"./ssrBoot-BLlZaoP9.js";const Be={class:"sticky-card"},qe={key:0,class:"pa-3 pa-sm-4"},Fe=["onClick"],We={class:"text-base font-weight-medium mx-2"},Ne={__name:"ChangeServerDialog",props:{isDialogVisible:{type:Boolean,required:!0},serverDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(c,{emit:J}){const C=o(0),f=c,h=J,D=S=>{h("update:isDialogVisible",S)};function _(){h("serverChanged",f.serverDetails[C.value].id),D()}return(S,v)=>{const M=_e;return m(),j("section",null,[e(Y,{width:S.$vuetify.display.smAndDown?"auto":650,"model-value":f.isDialogVisible,"onUpdate:modelValue":D},{default:l(()=>[e(M,{onClick:v[0]||(v[0]=b=>D(!1))}),e(F,null,{default:l(()=>[t("div",Be,[e(ne,{class:"pt-3"},{default:l(()=>[r("Change Server ")]),_:1}),e(Q)]),e(Ue,{class:"pt-5 pb-5"},{default:l(()=>[r("Select Server")]),_:1}),c.serverDetails?(m(),j("div",qe,[e(we,{modelValue:C.value,"onUpdate:modelValue":v[1]||(v[1]=b=>C.value=b),"show-arrows":""},{default:l(()=>[(m(!0),j(ce,null,ve(c.serverDetails,(b,k)=>(m(),x(ze,{key:b.id,value:k},{default:l(({isSelected:$,toggle:U})=>[t("div",{style:Le([{"block-size":"50px","inline-size":"200px"},$?"border-color: rgb(var(--v-theme-primary)) !important":""]),class:Ae([$?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-6 px-2"]),onClick:U},[t("h6",We,d(b.server_name),1)],14,Fe)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):(m(),j(ce,{key:1},ve(3,b=>e(he,{key:b,type:"list-item-two-line"})),64)),e(H,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(V,{variant:"tonal",color:"secondary",onClick:v[2]||(v[2]=b=>D(!1))},{default:l(()=>[r(" Close ")]),_:1}),e(V,{color:"primary",onClick:v[3]||(v[3]=b=>_())},{default:l(()=>[r(" Change Server ")]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}},Oe=pe(Ne,[["__scopeId","data-v-4d011c3e"]]),ke=c=>(be("data-v-f89bee41"),c=c(),ge(),c),Re={class:"sticky-card"},Pe=ke(()=>t("span",{class:"text-body"},"Server Name :",-1)),je={class:"d-flex align-center"},Xe={class:"text-body-1"},Ge={class:"d-flex align-center gap-x-2"},Ke={class:"text-body-1"},Qe={class:"d-flex align-center"},He={class:"text-body-1"},Ye={class:"d-flex align-center gap-x-2"},Je={class:"text-body-1"},Ze={class:""},el={class:"mt-4"},ll={class:"mt-1"},tl={class:"mt-1"},al={class:"mt-1"},sl={class:"text-h4 mb-4"},ol=ke(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),il={class:"text-h4 mb-4"},nl={__name:"EditMasterDialog",props:{isDialogVisible:{type:Boolean,required:!0},masterDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(c,{emit:J}){const C=o("");o("");const f=o(null);o(!0),o(null);const h=o(!1),D=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],_=o(null),S=o(0),v=o(!1),M=o(!1),b=o(!1),k=o(0),$=o(!1),U=o(!1),I=o(!1);let T=o(""),W=o(""),L=o(""),N=o("");const z=o(!1);o(null);const E=o(null),O=o(null),X=o(null),R=o(null),B=o(!1),ae=c,ie=J,se=i=>{ie("update:isDialogVisible",i)};Ie(()=>ae.masterDetails,i=>{i&&(X.value=i.id||"",f.value=i.mc_name||"",C.value=i.mc_mt5_id||"",h.value=i.is_config_identical===1,_.value=i.risk_approach||"",S.value=i.multiplier||null,E.value=i.lot_size,k.value=i.fixed_balance||null,v.value=i.copy_sl===1,M.value=i.copy_tp===1,b.value=i.is_reverse===1,O.value=i.description||"",R.value=i.commission_percentage||null,B.value=i.status===1)},{immediate:!0});const G=i=>/^(\d+|\d*\.\d{1,2})$/.test(i.toString())||"Must be a number with up to 2 decimal places",p=async i=>{if(i){z.value=!0;try{await me("masters/update",{method:"POST",body:{id:X.value,mc_mt5_id:C.value,performance_matrix:0,risk_factor:0,is_config_identical:h.value,risk_approach:_.value,lot_size:E.value,multiplier:S.value,fixed_balance:k.value,copy_sl:v.value,copy_tp:M.value,is_reverse:b.value,description:O.value,commission_percentage:R.value,status:B.value},onResponseError({response:K}){T.value="Something Went Wrong !",W.value=K._data.message,z.value=!1,U.value=!0}})&&(L.value="Success !",N.value="Master Updated Successfully !",z.value=!1,I.value=!0)}catch{T.value="Something Went Wrong !",W.value="Something Went Wrong !",z.value=!1,U.value=!0}}},n=async i=>{window.location.reload()};return(i,s)=>{const K=_e,y=ye,ue=Ve,de=fe;return m(),j("section",null,[e(Y,{width:i.$vuetify.display.smAndDown?"auto":650,"model-value":ae.isDialogVisible,"onUpdate:modelValue":se},{default:l(()=>[e(K,{onClick:s[0]||(s[0]=a=>se(!1))}),e(F,null,{default:l(()=>[t("div",Re,[e(ne,{class:"pt-3"},{default:l(()=>[r("Edit Master Accounts")]),_:1}),e(Q)]),e(Ce,{onSubmit:De(()=>{},["prevent"])},{default:l(()=>[e(q,null,{default:l(()=>[e(xe,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",je,[t("div",Xe,d(c.masterDetails.server.server_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),Pe]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",Ge,[t("div",Ke,d(c.masterDetails.server.server_ip),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),r(" Server IP : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",Qe,[t("div",He,d(c.masterDetails.server.company_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),r(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",Ye,[t("div",Je,d(c.masterDetails.server.server_type),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),r(" Server Type : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(Q,{class:"mb-2"}),e(q,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[t("div",null,[e(y,{label:"MT5 ID",modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=a=>C.value=a),placeholder:"Search MT5 ID",disabled:""},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",Ze,[e(y,{label:"Copier Name",modelValue:f.value,"onUpdate:modelValue":s[2]||(s[2]=a=>f.value=a)},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(y,{label:"Commission",modelValue:R.value,"onUpdate:modelValue":s[3]||(s[3]=a=>R.value=a),suffix:"%"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",el,[e(P,{modelValue:h.value,"onUpdate:modelValue":s[4]||(s[4]=a=>h.value=a),label:"Set Identical Configuration for all slaves"},null,8,["modelValue"])])]),_:1}),h.value?(m(),x(u,{key:0,cols:"6"},{default:l(()=>[e(ue,{modelValue:_.value,"onUpdate:modelValue":s[5]||(s[5]=a=>_.value=a),items:D,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in i?i.requiredValidator:g(ee)]},null,8,["modelValue","rules"])]),_:1})):w("",!0),_.value==="FIXL"?(m(),x(u,{key:1,cols:"6",class:""},{default:l(()=>[e(y,{label:"Lot Size",modelValue:E.value,"onUpdate:modelValue":s[6]||(s[6]=a=>E.value=a),type:"number",min:"0",rules:["requiredValidator"in i?i.requiredValidator:g(ee),G]},null,8,["modelValue","rules"])]),_:1})):w("",!0),_.value==="LMUL"||_.value==="BMUL"||_.value==="EMUL"||_.value==="FBMUL"?(m(),x(u,{key:2,cols:"6",class:""},{default:l(()=>[e(y,{label:"Multiplier",modelValue:S.value,"onUpdate:modelValue":s[7]||(s[7]=a=>S.value=a),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in i?i.requiredValidator:g(ee),G]},null,8,["modelValue","rules"])]),_:1})):w("",!0),_.value==="FBMUL"?(m(),x(u,{key:3,cols:"6"},{default:l(()=>[e(y,{label:"Fixed Master Balance",modelValue:k.value,"onUpdate:modelValue":s[8]||(s[8]=a=>k.value=a),type:"number",min:"0",rules:["requiredValidator"in i?i.requiredValidator:g(ee),G]},null,8,["modelValue","rules"])]),_:1})):w("",!0)]),_:1}),h.value?(m(),x(ne,{key:0,class:"mt-1"},{default:l(()=>[r("Advanced Settings")]),_:1})):w("",!0),h.value?(m(),x(q,{key:1,class:"ml-2"},{default:l(()=>[e(u,{cols:"4"},{default:l(()=>[t("div",ll,[e(P,{modelValue:v.value,"onUpdate:modelValue":s[9]||(s[9]=a=>v.value=a),label:"Copy Stop Loss"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",tl,[e(P,{modelValue:M.value,"onUpdate:modelValue":s[10]||(s[10]=a=>M.value=a),label:"Copy Take Profit"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",al,[e(P,{modelValue:b.value,"onUpdate:modelValue":s[11]||(s[11]=a=>b.value=a),label:"Reverse Trade"},null,8,["modelValue"])])]),_:1})]),_:1})):w("",!0),e(q,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(P,{modelValue:B.value,"onUpdate:modelValue":s[12]||(s[12]=a=>B.value=a),label:B.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(q,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(V,{class:"me-2",color:"primary",disabled:!f.value,onClick:s[13]||(s[13]=a=>$.value=!0),loading:z.value},{default:l(()=>[r(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(de,{isDialogVisible:$.value,"onUpdate:isDialogVisible":s[14]||(s[14]=a=>$.value=a),onConfirm:p,"confirmation-question":"Are you want to update master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(Y,{modelValue:I.value,"onUpdate:modelValue":s[16]||(s[16]=a=>I.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(H,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",sl,d(g(L)),1),t("p",null,d(g(N)),1),e(V,{color:"success",onClick:s[15]||(s[15]=a=>n())},{default:l(()=>[r(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:U.value,"onUpdate:modelValue":s[17]||(s[17]=a=>U.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(H,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[ol]),_:1}),t("h1",il,d(g(T)),1),t("p",null,d(g(W)),1),e(V,{color:"success",onClick:n},{default:l(()=>[r(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},rl=pe(nl,[["__scopeId","data-v-f89bee41"]]),Se=c=>(be("data-v-65eab21b"),c=c(),ge(),c),ul={class:"sticky-card"},dl=Se(()=>t("span",{class:"text-body"},"Server Name :",-1)),cl={class:"d-flex align-center"},ml={class:"text-body-1"},vl={class:"d-flex align-center gap-x-2"},pl={class:"text-body-1"},fl={class:"d-flex align-center"},_l={class:"text-body-1"},bl={class:"d-flex align-center gap-x-2"},gl={class:"text-body-1"},Vl={class:"mr-2"},yl={class:"mt-4"},xl={class:""},hl={class:"mt-1"},Dl={class:"mt-1"},Cl={class:"mt-1"},kl={class:"text-h4 mb-4"},Sl=Se(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),Ml={class:"text-h4 mb-4"},$l={__name:"AddMasterDialog",props:{isDialogVisible:{type:Boolean,required:!0},serverDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(c,{emit:J}){const C=o("");o("");const f=o(null);o(!0);const h=o(null),D=o(!1),_=o(!1),S=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],v=o(null),M=o(0),b=o(!1),k=o(!1),$=o(!1),U=o(0),I=o(!1),T=o(!1),W=o(!1);let L=o(""),N=o(""),z=o(""),E=o("");const O=o(!1);o(null);const X=o(null),R=o(null),B=o(null),ae=c,ie=J,se=i=>{ie("update:isDialogVisible",i)},G=i=>/^(\d+|\d*\.\d{1,2})$/.test(i.toString())||"Must be a number with up to 2 decimal places",p=async i=>{var s;if(i){O.value=!0;try{await me("masters/store",{method:"POST",body:{mc_name:f.value,server_id:(s=ae.serverDetails)==null?void 0:s.id,mc_mt5_id:C.value,performance_matrix:0,risk_factor:0,is_config_identical:D.value,risk_approach:v.value,lot_size:X.value,multiplier:M.value,fixed_balance:U.value,copy_sl:b.value,copy_tp:k.value,is_reverse:$.value,status:_.value,is_live:!0,client_id:h.value,description:R.value,commission_percentage:B.value},onResponseError({response:y}){L.value="Something Went Wrong !",N.value=y._data.message,O.value=!1,T.value=!0}})&&(z.value="Success !",E.value="Master Copier Created Successfully !",O.value=!1,W.value=!0)}catch{L.value="Something Went Wrong !",N.value="Something Went Wrong !",O.value=!1,T.value=!0}}},n=async i=>{window.location.reload()};return(i,s)=>{const K=_e,y=ye,ue=Ve,de=fe;return m(),j("section",null,[e(Y,{width:i.$vuetify.display.smAndDown?"auto":650,"model-value":ae.isDialogVisible,"onUpdate:modelValue":se},{default:l(()=>[e(K,{onClick:s[0]||(s[0]=a=>se(!1))}),e(F,null,{default:l(()=>[t("div",ul,[e(ne,{class:"pt-3"},{default:l(()=>[r("Add Master Account")]),_:1}),e(Q)]),e(Ce,{onSubmit:De(()=>{},["prevent"])},{default:l(()=>[e(q,null,{default:l(()=>[e(xe,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",cl,[t("div",ml,d(c.serverDetails.server_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),dl]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",vl,[t("div",pl,d(c.serverDetails.server_ip),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),r(" Server IP : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",fl,[t("div",_l,d(c.serverDetails.company_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),r(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",bl,[t("div",gl,d(c.serverDetails.server_type),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(A,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),r(" Server Type : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(Q,{class:"mb-2"}),e(q,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[t("div",null,[e(y,{label:"MT5 ID",modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=a=>C.value=a),placeholder:"Search MT5 ID"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",Vl,[e(y,{label:"Copier Name",modelValue:f.value,"onUpdate:modelValue":s[2]||(s[2]=a=>f.value=a)},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(y,{label:"Commission",modelValue:B.value,"onUpdate:modelValue":s[3]||(s[3]=a=>B.value=a),suffix:"%"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",yl,[e(P,{modelValue:D.value,"onUpdate:modelValue":s[4]||(s[4]=a=>D.value=a),label:"Set Identical Configuration for all slaves"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",xl,[e(y,{label:"Description",modelValue:R.value,"onUpdate:modelValue":s[5]||(s[5]=a=>R.value=a)},null,8,["modelValue"])])]),_:1}),D.value?(m(),x(u,{key:0,cols:"6"},{default:l(()=>[e(ue,{modelValue:v.value,"onUpdate:modelValue":s[6]||(s[6]=a=>v.value=a),items:S,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in i?i.requiredValidator:g(ee)]},null,8,["modelValue","rules"])]),_:1})):w("",!0),v.value==="FIXL"?(m(),x(u,{key:1,cols:"6",class:""},{default:l(()=>[e(y,{label:"Lot Size",modelValue:X.value,"onUpdate:modelValue":s[7]||(s[7]=a=>X.value=a),type:"number",min:"0",rules:["requiredValidator"in i?i.requiredValidator:g(ee),G]},null,8,["modelValue","rules"])]),_:1})):w("",!0),v.value==="LMUL"||v.value==="BMUL"||v.value==="EMUL"||v.value==="FBMUL"?(m(),x(u,{key:2,cols:"6",class:""},{default:l(()=>[e(y,{label:"Multiplier",modelValue:M.value,"onUpdate:modelValue":s[8]||(s[8]=a=>M.value=a),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in i?i.requiredValidator:g(ee),G]},null,8,["modelValue","rules"])]),_:1})):w("",!0),v.value==="FBMUL"?(m(),x(u,{key:3,cols:"6"},{default:l(()=>[e(y,{label:"Fixed Master Balance",modelValue:U.value,"onUpdate:modelValue":s[9]||(s[9]=a=>U.value=a),type:"number",min:"0",rules:["requiredValidator"in i?i.requiredValidator:g(ee),G]},null,8,["modelValue","rules"])]),_:1})):w("",!0)]),_:1}),D.value?(m(),x(ne,{key:0,class:"mt-2"},{default:l(()=>[r("Advanced Settings")]),_:1})):w("",!0),D.value?(m(),x(q,{key:1,class:"ml-2"},{default:l(()=>[e(u,{cols:"4"},{default:l(()=>[t("div",hl,[e(P,{modelValue:b.value,"onUpdate:modelValue":s[10]||(s[10]=a=>b.value=a),label:"Copy Stop Loss"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",Dl,[e(P,{modelValue:k.value,"onUpdate:modelValue":s[11]||(s[11]=a=>k.value=a),label:"Copy Take Profit"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",Cl,[e(P,{modelValue:$.value,"onUpdate:modelValue":s[12]||(s[12]=a=>$.value=a),label:"Reverse Trade"},null,8,["modelValue"])])]),_:1})]),_:1})):w("",!0),e(q,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(P,{modelValue:_.value,"onUpdate:modelValue":s[13]||(s[13]=a=>_.value=a),label:_.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(q,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(V,{class:"me-2",color:"primary",disabled:!f.value,onClick:s[14]||(s[14]=a=>I.value=!0),loading:O.value},{default:l(()=>[r(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(de,{isDialogVisible:I.value,"onUpdate:isDialogVisible":s[15]||(s[15]=a=>I.value=a),onConfirm:p,"confirmation-question":"Are you want to add master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(Y,{modelValue:W.value,"onUpdate:modelValue":s[17]||(s[17]=a=>W.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(H,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",kl,d(g(z)),1),t("p",null,d(g(E)),1),e(V,{color:"success",onClick:s[16]||(s[16]=a=>n())},{default:l(()=>[r(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:T.value,"onUpdate:modelValue":s[18]||(s[18]=a=>T.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(H,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Sl]),_:1}),t("h1",Ml,d(g(L)),1),t("p",null,d(g(N)),1),e(V,{color:"success",onClick:n},{default:l(()=>[r(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Ul=pe($l,[["__scopeId","data-v-65eab21b"]]),re=c=>(be("data-v-c447d2ee"),c=c(),ge(),c),wl={class:"d-flex justify-space-between align-center border-r"},zl={class:"d-flex flex-column"},Ll={class:"text-h6"},Al=re(()=>t("span",{class:"text-body-2 text-capitalize"},"Server",-1)),Il={class:"d-flex justify-space-between align-center border-r"},Tl={class:"d-flex flex-column"},El={class:"text-h6"},Bl=re(()=>t("span",{class:"text-body-2 text-capitalize"},"IP Address",-1)),ql={class:"d-flex justify-space-between align-center border-r"},Fl={class:"d-flex flex-column"},Wl={class:"text-h6"},Nl=re(()=>t("span",{class:"text-body-2 text-capitalize"},"Manager",-1)),Ol={class:"d-flex justify-space-between align-center border-r"},Rl={class:"d-flex flex-column mb-6"},Pl={class:"d-flex flex-column align-center"},jl={class:"d-flex gap-4 align-center flex-wrap"},Xl={class:"d-flex align-center gap-2"},Gl={class:"d-flex align-center flex-wrap gap-4"},Kl={class:"invoice-list-filter"},Ql={class:"invoice-list-filter"},Hl=re(()=>t("thead",null,[t("tr",null,[t("th",null," ID "),t("th",null," MASTER NAME "),t("th",null," SERVER NAME "),t("th",null," COMPANY NAME "),t("th",null," MT5 ACCOUNT "),t("th",null," GLOBAL CONFIG "),t("th",null," STATUS "),t("th",null," ACTION ")])],-1)),Yl={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Jl=re(()=>t("br",null,null,-1)),Zl={class:"pr-1"},et={class:"text-h4 mb-4"},lt=re(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),tt={class:"text-h4 mb-4"},at={__name:"index",setup(c){const J=o(""),C=o(null);o([]);const f=o([]),h=o(null),D=o([]),_=o(!1),S=o(!1),v=o(null),M=o(!1),b=o(null),k=o(!1),$=o(!1);let U=o(""),I=o(""),T=o(""),W=o("");const L=o(!1),N=o(!1),z=o(!1),E=o(!1);Te(async()=>{await O()});const O=async()=>{try{const p=await me("/meta-servers",{method:"GET",onResponseError({response:n}){console.error(n)}});h.value=p.data,f.value=h.value[0],z.value=f.value.id,X()}catch(p){console.error(p)}},X=async()=>{E.value=!0;try{const p=await me(`/masters?server_id=${z.value}`,{method:"GET",onResponseError({response:n}){console.error("Error response:",n)}});p?(D.value=p.data,E.value=!1):console.error("Failed to fetch group list or empty response")}catch(p){console.error("Error fetching group list:",p)}};function R(p){v.value=p,S.value=!0}function B(p){b.value=p,M.value=!0}const ae=async p=>{if(p){L.value=!0;try{await me("masters/delete",{method:"POST",body:{id:b.value},onResponseError({response:i}){U.value="Something Went Wrong !",I.value=i._data.message,L.value=!1,k.value=!0}})&&(T.value="Success !",W.value="Master Deleted Successfully !",L.value=!1,$.value=!0)}catch{U.value="Something Went Wrong !",I.value="Something Went Wrong !",L.value=!1,k.value=!0}}},ie=async p=>{window.location.reload()};function se(){N.value=!0}const G=p=>{z.value=p,f.value=h.value.find(n=>n.id===z.value),X()};return(p,n)=>{const i=ye,s=Ve,K=Ul,y=rl,ue=Oe,de=fe;return m(),j(ce,null,[t("section",null,[e(F,{class:"mb-6"},{default:l(()=>[e(H,{class:"px-3"},{default:l(()=>[e(q,null,{default:l(()=>[e(u,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",wl,[t("div",zl,[t("h5",Ll,d(f.value.server_name),1),Al]),e(A,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-server-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(Q,{vertical:""}),e(u,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",Il,[t("div",Tl,[t("h5",El,d(f.value.server_ip),1),Bl]),e(A,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-cpu-2",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(Q,{vertical:""}),e(u,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",ql,[t("div",Fl,[t("h5",Wl,d(f.value.manager_name),1),Nl]),e(A,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-user-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(Q,{vertical:""}),e(u,{cols:"12",sm:"6",md:"3",class:"px-2"},{default:l(()=>[t("div",Ol,[t("div",Rl,[e(oe,{color:"primary",outlined:"",size:"small"},{default:l(()=>[r(" ACTIVE ")]),_:1})]),t("div",Pl,[e(A,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-activity",size:"26",color:"high-emphasis"})]),_:1}),e(V,{color:"secondary",size:"x-small",variant:"outlined",class:"mt-2",onClick:se},{default:l(()=>[e(Z,{start:"",icon:"tabler-settings"}),r("Change server ")]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{id:"invoice-list"},{default:l(()=>[e(H,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:l(()=>[t("div",jl,[t("div",Xl,[e(ne,null,{default:l(()=>[r("Mapped Master Accounts")]),_:1})])]),t("div",Gl,[t("div",Kl,[e(i,{modelValue:J.value,"onUpdate:modelValue":n[0]||(n[0]=a=>J.value=a),placeholder:"Search Master Account"},null,8,["modelValue"])]),t("div",Ql,[e(s,{modelValue:C.value,"onUpdate:modelValue":n[1]||(n[1]=a=>C.value=a),placeholder:"Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Active","Inactive"]},null,8,["modelValue"])]),e(V,{onClick:n[2]||(n[2]=a=>_.value=!0)},{default:l(()=>[r(" Add Master Account ")]),_:1})])]),_:1}),e(Q),E.value?(m(),j(ce,{key:0},ve(3,a=>e(he,{key:a,type:"table-tbody"})),64)):w("",!0),D.value.length>0?(m(),x(xe,{key:1,height:"800","fixed-header":"",class:"text-no-wrap"},{default:l(()=>[Hl,t("tbody",null,[(m(!0),j(ce,null,ve(D.value,a=>(m(),j("tr",{class:"",key:a.id},[t("td",Yl,[e(oe,{size:"x-small"},{default:l(()=>[r(d(a.id),1)]),_:2},1024),Jl,r(" "+d(("formatDateToMonthShort"in p?p.formatDateToMonthShort:g($e))(a.created_at)),1)]),t("td",null,d(a.mc_name),1),t("td",null,d(a.server.server_name),1),t("td",null,d(a.server.company_name),1),t("td",null,[e(oe,{size:"medium",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[t("div",Zl,[e(Ee,{src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}})]),r(" "+d(a.mc_mt5_id),1)]),_:2},1024)]),t("td",null,[a.is_config_identical===1?(m(),x(oe,{key:0,color:"green",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[r(" Enabled ")]),_:1})):(m(),x(oe,{key:1,color:"red",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[r(" Disabled ")]),_:1}))]),t("td",null,[a.status===1?(m(),x(oe,{key:0,color:"green",outlined:"",variant:"outlined",class:"ma-1"},{default:l(()=>[r(" Active ")]),_:1})):(m(),x(oe,{key:1,color:"red",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[r(" Inactive ")]),_:1}))]),t("td",null,[e(V,{color:"secondary",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-edit",onClick:Me=>R(a)},null,8,["onClick"]),e(V,{color:"error",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-trash",onClick:Me=>B(a.id),loading:L.value},null,8,["onClick","loading"])])]))),128))])]),_:1})):w("",!0)]),_:1})]),e(K,{isDialogVisible:_.value,"onUpdate:isDialogVisible":n[3]||(n[3]=a=>_.value=a),serverDetails:f.value},null,8,["isDialogVisible","serverDetails"]),e(y,{isDialogVisible:S.value,"onUpdate:isDialogVisible":n[4]||(n[4]=a=>S.value=a),masterDetails:v.value},null,8,["isDialogVisible","masterDetails"]),e(ue,{isDialogVisible:N.value,"onUpdate:isDialogVisible":n[5]||(n[5]=a=>N.value=a),serverDetails:h.value,serverId:f.value.id,onServerChanged:G},null,8,["isDialogVisible","serverDetails","serverId"]),e(de,{isDialogVisible:M.value,"onUpdate:isDialogVisible":n[6]||(n[6]=a=>M.value=a),onConfirm:ae,"confirmation-question":"Are you want to delete master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(Y,{modelValue:$.value,"onUpdate:modelValue":n[8]||(n[8]=a=>$.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(H,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",et,d(g(T)),1),t("p",null,d(g(W)),1),e(V,{color:"success",onClick:n[7]||(n[7]=a=>ie())},{default:l(()=>[r(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:k.value,"onUpdate:modelValue":n[9]||(n[9]=a=>k.value=a),"max-width":"500"},{default:l(()=>[e(F,null,{default:l(()=>[e(H,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[lt]),_:1}),t("h1",tt,d(g(U)),1),t("p",null,d(g(I)),1),e(V,{color:"success",onClick:ie},{default:l(()=>[r(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Jt=pe(at,[["__scopeId","data-v-c447d2ee"]]);export{Jt as default};
