import{h as d}from"./permission-F2kKQGuv.js";import{f as Z}from"./formatters-MfVJSZma.js";import{_ as ee}from"./CustomStaffCardChip-BfjwH1fy.js";import{_ as te}from"./CustomClientCardChip-Z3yFDsOt.js";import{_ as le}from"./AppTextField-D61XLKqr.js";import{_ as ae}from"./CustomManagerSelectWidget-ueiVTYob.js";import{_ as oe}from"./AppSelect-zmKMiKWj.js";import{_ as se}from"./CustomPageHeaderWidget-CnC5qENP.js";import{r as s,a4 as M,E as ie,w as ne,cn as ce,j as re,o as a,c as r,b as l,e as i,t as _,m as u,f as m,y as n,d as c,$ as R,F as $,h as U,v as h,ah as de}from"./index-BfFzL8HD.js";import{f as ue,g as me}from"./apiUtils-76DfBoMw.js";import{$ as _e}from"./api-Dd2XHtBi.js";import{V as pe}from"./VCard-DHhXA2Um.js";import{V as ve}from"./VCardTitle-1x6BYT8h.js";import{V as N}from"./VDivider-C1dgc-3w.js";import{V as B}from"./VCardText-ne-ZDoNX.js";import{V as he,a as D}from"./VRow-CXSZJOwo.js";import{V as fe}from"./VSpacer-Bqmx54O6.js";import{V as P}from"./VChip-CugrDhde.js";import{V as p}from"./VAvatar-BkQNYRRk.js";import{V as ye}from"./VTable-CpHKTuwh.js";import{V as be}from"./VSkeletonLoader-LSNYnHi9.js";import{V as Ve}from"./VPagination-Br2MzxJw.js";import"./helpers-DK5QwNv0.js";import"./VList-bPc_7EIg.js";import"./index-DodEhehf.js";import"./ssrBoot-DK9nHxcE.js";import"./VImg-z6XZYEVR.js";import"./createSimpleFunctional-CsZrM1cY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-DZEHER5T.js";import"./VTextField-CokzQfcL.js";/* empty css                   */import"./VCounter-B4v9Z0ap.js";import"./VField-hVDyS4h_.js";import"./easing-CjukEv2V.js";import"./VInput-CUfBRsW1.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-CI3Fu6ka.js";import"./dialog-transition-Chtk80Ys.js";import"./VMenu-BQH6JWm6.js";import"./VOverlay-j8cy5GmF.js";import"./lazy-Cn0hXybr.js";import"./scopeId-CHeZp4xE.js";import"./VCheckboxBtn-DaabrkgH.js";import"./VSelectionControl-z7CJLcPb.js";import"./useApi-B07fJ3pZ.js";import"./index-B3bPRkoL.js";/* empty css              */import"./VSlideGroup-eKvG7aMl.js";const Ae={class:"me-3 d-flex gap-2"},we={style:{"inline-size":"15.625rem"}},ge=c("th",null," ID/DOJ ",-1),ke=c("th",null," NAME/EMAIL ",-1),Ce=c("th",null,null,-1),Se={key:0},De={key:1},Te={key:2},Me={key:3},Ne={key:4},Be={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Pe=c("br",null,null,-1),Ie={key:0},ze=c("span",{class:"text-caption text-xs"},"RM NOT MAPPED",-1),Ee={key:1},Re={key:2},$e={key:3},Ue=c("span",{class:"text-caption text-xs"},"NO PARENT IB",-1),Le={key:4},We={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Ut={__name:"client-active-ib",setup(je){const f=s(""),y=s(null),b=s(null),V=s(null),A=s(null),w=s(null),L=s(null),T=s(null);s(null);const W=[{title:"All",value:null},{title:"Account Not Created",value:"0"},{title:"Live Account Created",value:"1"},{title:"Demo Account Created",value:"2"}],j=[{title:"All",value:null},{title:"Deposited",value:"1"},{title:"Not Deposited",value:"1"}],x=[{title:"All",value:null},{title:"Upload Pending",value:"0"},{title:"Approved",value:"3"},{title:"Rejected",value:"2"},{title:"Verification Pending",value:"1"}];s(null),s(null);const I=s(25),g=s(1),F=s(null),O=s(null),v=s(null),k=s({total_clients:0,ib_count:0,total_deposit:0,total_withdraw:0}),z=async()=>{v.value=null;const t=await _e("/client/sorted-list",{method:"POST",body:{keyword:f.value,page:g.value,RM:A.value,mt_account_status:y.value,deposit_status:b.value,document_status:V.value,country:w.value,is_ib:2},onResponseError({response:o}){console.log(o)}});v.value=t},H=M(()=>{var t;return((t=v.value)==null?void 0:t.result.client_details.data)||null}),G=M(()=>{var t;return((t=v.value)==null?void 0:t.result.client_details.total)||0});ie(async()=>{z(),ue(),me()}),ne([g,I,y,b,V,A,w,L,f,F,O],()=>{z()},{deep:!0,immediate:!1}),ce(()=>{});function C(t){if(t==null)return"$ -";const o=parseFloat(t);return isNaN(o)?"$ 0.00":`$ ${o.toFixed(2)}`}s(!1),M(()=>[{title:"Total Clients",value:k.value.total_clients.toString(),change:29,desc:"Active Registered Clients",icon:"tabler-users",iconColor:"primary"},{title:"IB Count",value:k.value.ib_count.toString(),change:18,desc:"Introducing Brokers",icon:"tabler-chart-arrows-vertical",iconColor:"warning"},{title:"Total Deposit",value:C(k.value.total_deposit),desc:"Approved Deposits",icon:"tabler-brand-cashapp",iconColor:"success"},{title:"Total Withdraw",value:C(k.value.total_withdraw),desc:"Approved Withdrawals",icon:"tabler-database-minus",iconColor:"danger"}]);const J=re(),Q=t=>{d("view_client_profile")&&J.push(`/client/client-${t}-home-null-details`)};return(t,o)=>{const q=se,S=oe,K=ae,X=le,E=te,Y=ee;return a(),r("section",null,[l(q),l(pe,{class:"mb-6"},{default:i(()=>[l(ve,{class:"py-4"},{default:i(()=>[_(" Active IB's ")]),_:1}),l(N),l(B,null,{default:i(()=>[l(he,null,{default:i(()=>[l(D,{cols:"12",sm:"2"},{default:i(()=>[l(S,{label:"MT Account Status",modelValue:y.value,"onUpdate:modelValue":o[0]||(o[0]=e=>y.value=e),placeholder:"MT Account Status",items:W,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),l(D,{cols:"12",sm:"2"},{default:i(()=>[l(S,{modelValue:b.value,"onUpdate:modelValue":o[1]||(o[1]=e=>b.value=e),label:"Deposit Status",placeholder:"Deposit Status",items:j,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),l(D,{cols:"12",sm:"2"},{default:i(()=>[l(S,{modelValue:V.value,"onUpdate:modelValue":o[2]||(o[2]=e=>V.value=e),label:"Document Status",placeholder:"Document Status",items:x,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),("hasAccess"in t?t.hasAccess:u(d))("view_all_clients")||("hasAccess"in t?t.hasAccess:u(d))("view_my_team_clients")?(a(),m(K,{key:0,modelValue:A.value,"onUpdate:modelValue":o[3]||(o[3]=e=>A.value=e)},null,8,["modelValue"])):n("",!0),T.value&&T.value.length>2?(a(),m(D,{key:1,cols:"12",sm:"2"},{default:i(()=>[l(S,{modelValue:w.value,"onUpdate:modelValue":o[4]||(o[4]=e=>w.value=e),label:"Country",placeholder:"Country",items:T.value,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):n("",!0)]),_:1})]),_:1}),l(N),l(B,{class:"d-flex flex-wrap"},{default:i(()=>[c("div",Ae,[c("div",we,[l(X,{modelValue:f.value,"onUpdate:modelValue":o[5]||(o[5]=e=>f.value=e),placeholder:"Search User",label:"Search User"},null,8,["modelValue"])])]),l(fe)]),_:1}),l(N),v.value?(a(),m(ye,{key:0,height:"800","fixed-header":"",class:"text-no-wrap"},{default:i(()=>[c("thead",null,[c("tr",null,[ge,ke,Ce,("hasAccess"in t?t.hasAccess:u(d))("view_rm")?(a(),r("th",Se," ASSIGNED RM ")):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_client_total_deposit")?(a(),r("th",De,[l(R,{icon:"tabler-sum me-1",size:"16"}),_(" DEP. ")])):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_client_total_withdraw")?(a(),r("th",Te,[l(R,{icon:"tabler-sum me-1",size:"16"}),_(" WITH. ")])):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_parent_ib")?(a(),r("th",Me," PARENT IB ")):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_client_profile")?(a(),r("th",Ne," VIEW ")):n("",!0)])]),c("tbody",null,[(a(!0),r($,null,U(H.value,e=>(a(),r("tr",{class:"",key:e.id},[c("td",Be,[l(P,{size:"x-small"},{default:i(()=>[_(h(e.cat_label===0?"R":"P")+h(e.id),1)]),_:2},1024),Pe,_(" "+h(("formatDateToMonthShort"in t?t.formatDateToMonthShort:u(Z))(e.joined_on)),1)]),c("td",null,[l(E,{client_name:e.client_name,client_id:e.id,email:e.email,client_pic:e.client_pic},null,8,["client_name","client_id","email","client_pic"])]),c("td",null,[l(p,{rounded:"",color:e.email_verified===1?"success":"secondary",icon:e.email_verified===1?"tabler-mail-check":"tabler-mail-cancel",variant:e.email_verified===1?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),l(p,{rounded:"",color:e.doc_verified===3?"success":"secondary",icon:e.doc_verified===3?"tabler-file-check":"tabler-file-alert",variant:e.doc_verified===3?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),l(p,{rounded:"",color:e.mt_created===1?"success":"secondary",icon:e.mt_created===1?"tabler-chart-candle":"tabler-candle",variant:e.mt_created===1?"outlined":"tonal",class:"me-1",size:"30"},null,8,["color","icon","variant"]),e.is_ib===1?(a(),m(p,{key:0,rounded:"",color:"warning",variant:"tonal",class:"me-1",size:"30"},{default:i(()=>[_(" R ")]),_:1})):n("",!0),e.is_ib===2?(a(),m(p,{key:1,rounded:"",color:"success",variant:"tonal",class:"me-1",size:"30"},{default:i(()=>[_(" IB ")]),_:1})):n("",!0),e.is_ib===0?(a(),m(p,{key:2,rounded:"",color:"secondary",variant:"outlined",class:"me-1",size:"30"},{default:i(()=>[_(" N ")]),_:1})):n("",!0)]),("hasAccess"in t?t.hasAccess:u(d))("view_rm")?(a(),r("td",Ie,[e.rm_name?(a(),m(Y,{key:0,rm_name:e.rm_name,rm_id:e.manager_id},null,8,["rm_name","rm_id"])):(a(),m(P,{key:1,size:"x-small",variant:"outlined"},{default:i(()=>[ze]),_:1}))])):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_client_total_deposit")?(a(),r("td",Ee,h(C(e.deposit)),1)):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_client_total_withdraw")?(a(),r("td",Re,h(C(e.withdraw)),1)):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_parent_ib")?(a(),r("td",$e,[e.ib_name?(a(),m(E,{key:0,client_id:e.ib_id,client_name:e.ib_name,client_pic:e.ib_pic,email:"PARENT IB #"+e.ib_id},null,8,["client_id","client_name","client_pic","email"])):(a(),m(P,{key:1,size:"x-small",variant:"outlined"},{default:i(()=>[Ue]),_:1}))])):n("",!0),("hasAccess"in t?t.hasAccess:u(d))("view_client_profile")?(a(),r("td",Le,[l(de,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-address-book",onClick:xe=>Q(e.id)},null,8,["onClick"])])):n("",!0)]))),128))])]),_:1})):(a(),r($,{key:1},U(3,e=>l(be,{key:e,type:"table-tbody"})),64)),l(B,{class:"pt-2"},{default:i(()=>[c("div",We,[l(Ve,{modelValue:g.value,"onUpdate:modelValue":o[6]||(o[6]=e=>g.value=e),"total-visible":t.$vuetify.display.smAndDown?3:5,length:Math.ceil(G.value/I.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})])}}};export{Ut as default};
