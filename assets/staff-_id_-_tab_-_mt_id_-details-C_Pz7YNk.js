import{f as he}from"./formatters-MfVJSZma.js";import{o as n,c as P,v as h,r as a,a5 as ee,E as ie,w as ce,cn as be,d as l,b as e,e as t,f as C,F as H,h as oe,t as j,m as s,de,a0 as S,y as N,aV as W,aL as Oe,b0 as je,ai as K,a as Fe,b7 as Ee,x as We,i as qe}from"./index-VIgWIw9z.js";import{_ as Ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ye}from"./CustomClientCardChip-BCn9bSDU.js";import{_ as pe}from"./AppTextField-BaVqu4jK.js";import{_ as we}from"./AppDateTimePicker-B5X2YrUN.js";import{_ as ge}from"./AppSelect-DUMJkAgj.js";import{b as Ue,w as Se,d as ke,p as $e,f as Qe,g as He,c as Ae}from"./apiUtils-BQAgA1__.js";import{_ as Ye}from"./CLIENT_TransAdjustTicketDialog-BfVFx5BR.js";import{$ as Z}from"./api-BaRI-q-y.js";import{V as Y,a as x}from"./VRow-BrBOniq2.js";import{V as se}from"./VDivider-C0ssATun.js";import{V as Ve}from"./VTable-CM4FBYo2.js";import{V as q}from"./VChip-D7Zky-hd.js";import{V as ne}from"./VSkeletonLoader-COCwKVaa.js";import{V as X}from"./VCardText-DIMXcuil.js";import{V as De}from"./VPagination-B8Xoioio.js";import{V as J,a as Ie,b as Ke}from"./VCard-DScfi5So.js";import{_ as Xe}from"./CLIENT_InternalTransactionDialog-D2i8ZNxm.js";import{_ as Je}from"./CLIENT_WithdrawTicketDialog-BqJGjXAK.js";import{_ as Ze}from"./CLIENT_DepositTicketDialog-C4284tj3.js";import{V as Pe,a as ze}from"./VTabs-giT09y4l.js";import{V as Be,a as fe}from"./VWindowItem-CxPBCVQ5.js";import{e as et,B as tt}from"./BarChart-BRyzzVeE.js";import{V as Ne}from"./VCardTitle-DN6VETOB.js";import{q as lt}from"./vue3-apexcharts-Cvoqm9En.js";import{h as xe}from"./permission-B0BZvmkn.js";import{_ as Le}from"./ConfirmDialog-2HfV989T.js";import{_ as Re}from"./DialogCloseBtn-C-OReFwP.js";import{V as at}from"./VForm-Dyjjt9sD.js";import{V as _e}from"./VDialog-DO1lt7PQ.js";import{V as ve}from"./VAvatar-B9FI6N68.js";import{V as st}from"./VImg-BQR-30dM.js";import{V as le,a as ae,b as te,d as ot}from"./VList-Bn5a5y5R.js";import{V as nt}from"./VSnackbar-Z1JfqGqy.js";import{_ as it}from"./AddNewClientDialog-Cd3VttuY.js";import"./helpers-DK5QwNv0.js";import"./form-D5earr4N.js";import"./VTextField-Bkm-lU-B.js";/* empty css                   */import"./VCounter-DELH-t7W.js";import"./index-CyI2hWI8.js";import"./transition-CZ13CYou.js";import"./VField-CGsPVke0.js";import"./easing-CjukEv2V.js";import"./VInput-C2xQUOvp.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-BnxhhcdK.js";import"./dialog-transition-BzBIeMyZ.js";import"./VMenu-CyOlJkau.js";import"./VOverlay-DKlk4GO4.js";import"./lazy-fDnYxLbP.js";import"./scopeId-BZPXlNMJ.js";import"./VCheckboxBtn-BbkRNVdL.js";import"./VSelectionControl-BxKTAbpm.js";import"./useApi-3M1a1JP0.js";import"./CustomMT5Chip-C5aiBNV3.js";import"./VAlert-B5BJM40v.js";import"./createSimpleFunctional-CCI-bGJ3.js";import"./CustomTransactionStatusChip-DxFgl5Nk.js";import"./CustomStaffCardChip-CDfRdCbt.js";import"./index-B3bPRkoL.js";/* empty css              */import"./VSlideGroup-DVSDBfNI.js";import"./AppTextarea-BKR4opc4.js";import"./VTextarea-DoU6D56u.js";import"./md5-B0uU80qf.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VRadioGroup-BkDSmIrN.js";import"./ssrBoot-BLlZaoP9.js";import"./AppDrawerHeaderSection-BkfcX50x.js";import"./VSpacer-CoWL85k4.js";import"./vue3-perfect-scrollbar.esm-CBxw4qVi.js";import"./VNavigationDrawer-BL6lGKrk.js";const rt={name:"CustomMT5Chip",props:{mt_id:{type:[String,Number],required:!0},is_wallet:{type:Number,required:!0},client_id:{type:Number,required:!0}},data(){return{mt5Icon:"/images/svg/mt5_small.svg"}}},ut={class:"text-h6"};function dt(R,v,r,V,c,m){return n(),P("div",ut,h(r.is_wallet===0?"MT"+r.mt_id:"Wallet"),1)}const Ce=Ge(rt,[["render",dt],["__scopeId","data-v-0e8c08e3"]]),ct=l("thead",null,[l("tr",null,[l("th"),l("th",null," NAME/EMAIL "),l("th",null," MT5 ID "),l("th",null," TYPE "),l("th",null," REQ.AMNT "),l("th",null," STATUS "),l("th",null," ACTIONS ")])],-1),mt={class:"text-caption me-0 ms-0",style:{"padding-left":"2px"}},ft=l("br",null,null,-1),pt={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},_t={__name:"staff-transaction-adjustments",props:{staffId:{type:Number,required:!0}},setup(R){const v=a(""),r=a(""),V=a(20),c=a(1),m=a(null),k=a(null),$=a(null),T=a(null),d=a(null),o=a(null),u=a(null),_=[{title:"All",value:null},{title:"All Credit In",value:"6"},{title:"LS Credit In",value:"0"},{title:"NLS Credit In",value:"1"},{title:"Credit Out",value:"2"},{title:"Adjustments",value:"3"},{title:"IB Commission",value:"4"}],M=R,L=async()=>{const U=await Z("/transactions/trans-adj-listing",{method:"POST",body:{page:c.value,manager:M.staffId,from_date:d.value,to_date:o.value,mt5id:r.value,keyword:v.value,ta_type:u.value},onResponseError({response:B}){console.log(B)}});T.value=U},I=ee(()=>{var U;return((U=T.value)==null?void 0:U.transaction_details.data)||[]}),G=ee(()=>{var U;return((U=T.value)==null?void 0:U.transaction_details.total)||0});ie(async()=>{L()}),ce([c,V,m,k,$,u,v,r,d,o],()=>{L()},{deep:!0,immediate:!1}),be(()=>{}),a(!1);const F=a(!1),A=a(null);function z(U){console.log(U),A.value=U,F.value=!0}return(U,B)=>{const b=ge,f=we,y=pe,w=ye,D=Ce;return n(),P(H,null,[l("section",null,[e(J,{class:"mb-6"},{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(b,{modelValue:u.value,"onUpdate:modelValue":B[0]||(B[0]=p=>u.value=p),label:"Transaction Types",placeholder:"Transaction Type",items:_,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(f,{modelValue:d.value,"onUpdate:modelValue":B[1]||(B[1]=p=>d.value=p),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(f,{modelValue:o.value,"onUpdate:modelValue":B[2]||(B[2]=p=>o.value=p),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1}),e(Y,{class:"mb-2"},{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(y,{modelValue:v.value,"onUpdate:modelValue":B[3]||(B[3]=p=>v.value=p),placeholder:"Search client by name/email"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(y,{modelValue:r.value,"onUpdate:modelValue":B[4]||(B[4]=p=>r.value=p),placeholder:"Search MT5 ID"},null,8,["modelValue"])]),_:1})]),_:1}),e(se),T.value?(n(),C(Ve,{key:0,height:"800",class:"text-no-wrap"},{default:t(()=>[ct,l("tbody",null,[I.value?(n(!0),P(H,{key:0},oe(I.value,p=>(n(),P("tr",{class:"",key:p.transaction_id},[l("td",mt,[j(" #"+h(p.transaction_id)+" ",1),ft,j(" "+h(("formatDateToMonthShort"in U?U.formatDateToMonthShort:s(he))(p.created_at)),1)]),l("td",null,[e(w,{client_id:p.client_id,client_name:p.client_name,email:p.email},null,8,["client_id","client_name","email"])]),l("td",null,[e(D,{client_id:p.client_id,mt_id:p.mt_id,is_wallet:p.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),l("td",null,[e(q,{size:"small",class:"pr-1 pl-1 pt-1 pb-1"},{default:t(()=>[j(h(p.transaction_type),1)]),_:2},1024)]),l("td",null,h(("formatCurrency"in U?U.formatCurrency:s(de))(p.amount)),1),l("td",null,[p.status===0?(n(),C(q,{key:0,color:"secondary",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-hourglass-high"})]),_:1})):N("",!0),p.status===1?(n(),C(q,{key:1,color:"warning",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-info-square-rounded"})]),_:1})):N("",!0),p.status===2?(n(),C(q,{key:2,color:"error",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-ban"})]),_:1})):N("",!0),p.status===3?(n(),C(q,{key:3,color:"success",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-check"})]),_:1})):N("",!0)]),l("td",null,[e(S,{icon:"tabler-eye me-2",onClick:g=>z(p)},null,8,["onClick"])])]))),128)):(n(),C(ne,{key:1,type:"table-tbody"}))])]),_:1})):(n(),C(ne,{key:1,type:"table-tbody"})),e(X,{class:"pt-2"},{default:t(()=>[l("div",pt,[e(De,{modelValue:c.value,"onUpdate:modelValue":B[5]||(B[5]=p=>c.value=p),"total-visible":U.$vuetify.display.smAndDown?3:5,length:Math.ceil(G.value/V.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(Ye,{isDialogVisible:F.value,"onUpdate:isDialogVisible":B[6]||(B[6]=p=>F.value=p),selectedTransaction:A.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},vt=l("thead",null,[l("tr",null,[l("th"),l("th",null," NAME/EMAIL "),l("th",null," FROM "),l("th",null," TO "),l("th",null," REQ.AMNT "),l("th",null," STATUS "),l("th",null," ACTIONS ")])],-1),ht={class:"text-caption me-0 ms-0",style:{"padding-left":"2px"}},bt=l("br",null,null,-1),yt={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},gt={__name:"staff-internal-transactions",props:{staffId:{type:Number,required:!0}},setup(R){const v=a(""),r=a(""),V=a(20),c=a(1),m=a(null),k=a(null),$=a(null),T=a(null),d=a(null),o=a(null),u=R,_=async()=>{const A=await Z("/transactions/internal-listing",{method:"POST",body:{page:c.value,manager:u.staffId,from_date:d.value,to_date:o.value,mt5id:r.value,keyword:v.value},onResponseError({response:z}){console.log(z)}});T.value=A},M=ee(()=>{var A;return((A=T.value)==null?void 0:A.transaction_details.data)||[]}),L=ee(()=>{var A;return((A=T.value)==null?void 0:A.transaction_details.total)||0});ie(async()=>{_()}),ce([c,V,m,k,$,v,r,d,o],()=>{_()},{deep:!0,immediate:!1}),be(()=>{}),a(!1);const I=a(!1),G=a(null);function F(A){G.value=A,I.value=!0}return(A,z)=>{const U=pe,B=we,b=ye,f=Ce;return n(),P(H,null,[l("section",null,[e(J,{class:"mb-6"},{default:t(()=>[e(Y,{class:"mb-2"},{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(U,{label:"Search by Name/Email",modelValue:v.value,"onUpdate:modelValue":z[0]||(z[0]=y=>v.value=y),placeholder:"Search client by name/email"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(U,{label:"Search by MT5 ID",modelValue:r.value,"onUpdate:modelValue":z[1]||(z[1]=y=>r.value=y),placeholder:"Search MT5 ID"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(B,{modelValue:d.value,"onUpdate:modelValue":z[2]||(z[2]=y=>d.value=y),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(B,{modelValue:o.value,"onUpdate:modelValue":z[3]||(z[3]=y=>o.value=y),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1}),e(se),T.value?(n(),C(Ve,{key:0,height:"800",class:"text-no-wrap"},{default:t(()=>[vt,l("tbody",null,[M.value?(n(!0),P(H,{key:0},oe(M.value,y=>(n(),P("tr",{class:"",key:y.transaction_id},[l("td",ht,[e(q,{size:"x-small"},{default:t(()=>[j(" #"+h(y.transaction_id),1)]),_:2},1024),bt,j(" "+h(("formatDateToMonthShort"in A?A.formatDateToMonthShort:s(he))(y.created_at)),1)]),l("td",null,[e(b,{client_id:y.client_id,client_name:y.client_name,email:y.email},null,8,["client_id","client_name","email"])]),l("td",null,[e(f,{client_id:y.client_id,mt_id:y.from_mt_id,is_wallet:y.from_mt_wallet},null,8,["client_id","mt_id","is_wallet"])]),l("td",null,[e(f,{client_id:y.client_id,mt_id:y.to_mt_id,is_wallet:y.to_mt_wallet},null,8,["client_id","mt_id","is_wallet"])]),l("td",null,h(("formatCurrency"in A?A.formatCurrency:s(de))(y.trans_amount)),1),l("td",null,[y.status===0?(n(),C(q,{key:0,color:"secondary",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-hourglass-high"})]),_:1})):N("",!0),y.status===1?(n(),C(q,{key:1,color:"warning",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-info-square-rounded"})]),_:1})):N("",!0),y.status===2?(n(),C(q,{key:2,color:"error",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-ban"})]),_:1})):N("",!0),y.status===3?(n(),C(q,{key:3,color:"success",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-check"})]),_:1})):N("",!0)]),l("td",null,[e(S,{icon:"tabler-eye me-2",onClick:w=>F(y)},null,8,["onClick"])])]))),128)):(n(),C(ne,{key:1,type:"table-tbody"}))])]),_:1})):(n(),C(ne,{key:1,type:"table-tbody"})),e(X,{class:"pt-2"},{default:t(()=>[l("div",yt,[e(De,{modelValue:c.value,"onUpdate:modelValue":z[4]||(z[4]=y=>c.value=y),"total-visible":A.$vuetify.display.smAndDown?3:5,length:Math.ceil(L.value/V.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(Xe,{isDialogVisible:I.value,"onUpdate:isDialogVisible":z[5]||(z[5]=y=>I.value=y),selectedTransaction:G.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},Vt=l("thead",null,[l("tr",null,[l("th"),l("th",null," NAME/EMAIL "),l("th",null," TO "),l("th",null," REQ.AMNT "),l("th",null," APP.AMNT "),l("th",null," METHOD "),l("th",null," STATUS "),l("th",null," ACT ")])],-1),Dt={class:"text-caption me-0 ms-0"},xt=l("br",null,null,-1),wt={class:"text-sm-h6"},Ct={class:"text-h6"},Tt={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},St={__name:"staff-withdraw-list",props:{staffId:{type:Number,required:!0}},setup(R){const v=a(""),r=a(""),V=a(null),c=a(null),m=a(null),k=a(null),$=a(null),T=a(null),d=a(null),o=a(null),u=a(null);a(null);const _=a(20),M=a(1),L=a(null),I=a(null),G=a(null),F=[{title:"All",value:null},{title:"Pending",value:"0"},{title:"On Hold",value:"1"},{title:"Rejected",value:"2"},{title:"Approved",value:"3"},{title:"Cancelled",value:"6"}],A=R,z=async()=>{G.value=null;const w=await Z("/transactions/withdraw-listing",{method:"POST",body:{page:M.value,withdraw_status:c.value,currency:d.value,withdraw_method:o.value,manager:A.staffId,keyword:v.value,mt5id:r.value,from_date:k.value,to_date:$.value},onResponseError({response:D}){console.log(D)}});G.value=w},U=ee(()=>{var w;return((w=G.value)==null?void 0:w.transaction_details.data)||[]}),B=ee(()=>{var w;return((w=G.value)==null?void 0:w.transaction_details.total)||0});ie(async()=>{await z(),await Ue()}),ce([M,_,T,k,$,r,V,c,m,d,o,u,v,L,I],()=>{z()},{deep:!0,immediate:!1}),be(()=>{}),a(!1);const b=a(!1),f=a(null);function y(w){f.value=w,b.value=!0}return(w,D)=>{const p=ge,g=we,ue=pe,E=ye,O=Ce,me=Je;return n(),P(H,null,[l("section",null,[e(J,{class:"mb-6"},{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(p,{modelValue:c.value,"onUpdate:modelValue":D[0]||(D[0]=i=>c.value=i),label:"Withdraw Status",placeholder:"Withdraw Status",items:F,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),s(Se)&&s(Se).length>1?(n(),C(x,{key:0,cols:"12",sm:"3"},{default:t(()=>[e(p,{modelValue:o.value,"onUpdate:modelValue":D[1]||(D[1]=i=>o.value=i),label:"Withdraw Method",placeholder:"Withdraw Method",items:s(Se),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):N("",!0),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(g,{modelValue:k.value,"onUpdate:modelValue":D[2]||(D[2]=i=>k.value=i),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(g,{modelValue:$.value,"onUpdate:modelValue":D[3]||(D[3]=i=>$.value=i),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1}),e(Y,{class:"pb-4"},{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(ue,{modelValue:v.value,"onUpdate:modelValue":D[4]||(D[4]=i=>v.value=i),placeholder:"Search client by name/email"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(ue,{modelValue:r.value,"onUpdate:modelValue":D[5]||(D[5]=i=>r.value=i),placeholder:"Search MT5 ID"},null,8,["modelValue"])]),_:1})]),_:1}),e(se),G.value?(n(),C(Ve,{key:0,height:"800",class:"text-no-wrap"},{default:t(()=>[Vt,l("tbody",null,[U.value?(n(!0),P(H,{key:0},oe(U.value,i=>{var re;return n(),P("tr",{class:"",key:i.transaction_id},[l("td",Dt,[j(" #"+h(i.transaction_id)+" ",1),xt,j(" "+h(("formatDateToMonthShort"in w?w.formatDateToMonthShort:s(he))(i.created_at)),1)]),l("td",null,[e(E,{client_id:i.c_id,client_name:i.c_name,email:i.c_email},null,8,["client_id","client_name","email"])]),l("td",null,[e(O,{client_id:i.c_id,mt_id:(re=i.from)==null?void 0:re.toString(),is_wallet:i.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),l("td",null,[l("span",wt,h(("formatCurrency"in w?w.formatCurrency:s(de))(i.amount_req)),1)]),l("td",null,[l("span",Ct,h(("formatCurrency"in w?w.formatCurrency:s(de))(i.amount_app)),1)]),l("td",null,h(i.withdraw_method),1),l("td",null,[i.status===0?(n(),C(q,{key:0,color:"secondary",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-hourglass-high"})]),_:1})):N("",!0),i.status===1?(n(),C(q,{key:1,color:"warning",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-info-square-rounded"})]),_:1})):N("",!0),i.status===2?(n(),C(q,{key:2,color:"error",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-ban"})]),_:1})):N("",!0),i.status===3?(n(),C(q,{key:3,color:"success",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-check"})]),_:1})):N("",!0)]),l("td",null,[e(S,{icon:"tabler-eye me-2",onClick:Te=>y(i)},null,8,["onClick"])])])}),128)):(n(),C(ne,{key:1,type:"table-tbody"}))])]),_:1})):(n(),C(ne,{key:1,type:"table-tbody"})),e(X,{class:"pt-2"},{default:t(()=>[l("div",Tt,[e(De,{modelValue:M.value,"onUpdate:modelValue":D[6]||(D[6]=i=>M.value=i),"total-visible":w.$vuetify.display.smAndDown?3:5,length:Math.ceil(B.value/_.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(me,{isDialogVisible:b.value,"onUpdate:isDialogVisible":D[7]||(D[7]=i=>b.value=i),selectedTransaction:f.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},kt=l("thead",null,[l("tr",null,[l("th"),l("th",null," NAME/EMAIL "),l("th",null," TO "),l("th",null," REQ.AMNT "),l("th",null," APP.AMNT "),l("th",null," METHOD "),l("th",null," STATUS "),l("th",null," ACT ")])],-1),$t={class:"text-caption me-0 ms-0"},At=l("br",null,null,-1),It={class:"text-sm-h6"},Et={class:"text-h6"},Mt={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Ut={__name:"staff-deposit-list",props:{staffId:{type:Number,required:!0}},setup(R){const v=a(""),r=a(""),V=a(null),c=a(null),m=a(null),k=a(null),$=a(null),T=a(null),d=a(null),o=a(null);a(null);const u=a(null),_=[{title:"All",value:null},{title:"Pending",value:"0"},{title:"On Hold",value:"1"},{title:"Rejected",value:"2"},{title:"Approved",value:"3"}],M=a(20),L=a(1),I=a(null),G=a(null),F=a(null),A=R,z=async()=>{F.value=null;const w=await Z("/transactions/deposit-listing",{method:"POST",body:{page:L.value,deposit_status:c.value,currency:k.value,payment_method:$.value,manager:A.staffId,keyword:v.value,mt5id:r.value,from_date:d.value,to_date:o.value},onResponseError({response:D}){}});F.value=w},U=ee(()=>{var w;return((w=F.value)==null?void 0:w.transaction_details.data)||[]}),B=ee(()=>{var w;return((w=F.value)==null?void 0:w.transaction_details.total)||0});ie(async()=>{await Ue(),await z()}),ce([L,M,V,r,d,o,u,c,m,k,$,T,v,I,G],()=>{z()},{deep:!0,immediate:!1}),be(()=>{}),a(!1);const b=a(!1),f=a(null);function y(w){f.value=w,b.value=!0}return(w,D)=>{const p=ge,g=pe,ue=we,E=ye,O=Ce,me=Ze;return n(),P(H,null,[l("section",null,[e(J,{class:"mb-6"},{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(p,{modelValue:c.value,"onUpdate:modelValue":D[0]||(D[0]=i=>c.value=i),label:"Deposit Status",placeholder:"Deposit Status",items:_,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),s(ke)&&s(ke).length>2?(n(),C(x,{key:0,cols:"12",sm:"3"},{default:t(()=>[e(p,{modelValue:k.value,"onUpdate:modelValue":D[1]||(D[1]=i=>k.value=i),label:"Deposited Currency",placeholder:"Deposited Currency",items:s(ke),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):N("",!0),s($e)&&s($e).length>1?(n(),C(x,{key:1,cols:"12",sm:"3"},{default:t(()=>[e(p,{modelValue:$.value,"onUpdate:modelValue":D[2]||(D[2]=i=>$.value=i),label:"Payment Method",placeholder:"Payment Method",items:s($e),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):N("",!0)]),_:1}),e(Y,{class:"pb-5"},{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(g,{modelValue:v.value,"onUpdate:modelValue":D[3]||(D[3]=i=>v.value=i),label:"Search Client Name/Email",placeholder:"Search client by name/email"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(g,{modelValue:r.value,"onUpdate:modelValue":D[4]||(D[4]=i=>r.value=i),label:"Search By MT5 ID",placeholder:"Search MT5 ID"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(ue,{modelValue:d.value,"onUpdate:modelValue":D[5]||(D[5]=i=>d.value=i),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(ue,{modelValue:o.value,"onUpdate:modelValue":D[6]||(D[6]=i=>o.value=i),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1}),e(se,{class:""}),F.value?(n(),C(Ve,{key:0,height:"800",class:"text-no-wrap"},{default:t(()=>[kt,l("tbody",null,[U.value?(n(!0),P(H,{key:0},oe(U.value,i=>{var re;return n(),P("tr",{class:"",key:i.transaction_id},[l("td",$t,[j(" #"+h(i.transaction_id)+" ",1),At,j(" "+h(("formatDateToMonthShort"in w?w.formatDateToMonthShort:s(he))(i.created_at)),1)]),l("td",null,[e(E,{client_id:i.client_id,client_name:i.client_name,email:i.email},null,8,["client_id","client_name","email"])]),l("td",null,[e(O,{client_id:i.client_id,mt_id:(re=i.mt_id)==null?void 0:re.toString(),is_wallet:i.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),l("td",null,[l("span",It,h(("formatCurrency"in w?w.formatCurrency:s(de))(i.amount_in_usd)),1)]),l("td",null,[l("span",Et,h(("formatCurrency"in w?w.formatCurrency:s(de))(i.approved_amount)),1)]),l("td",null,h(i.deposit_method),1),l("td",null,[i.status===0?(n(),C(q,{key:0,color:"secondary",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-hourglass-high"})]),_:1})):N("",!0),i.status===1?(n(),C(q,{key:1,color:"warning",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-info-square-rounded"})]),_:1})):N("",!0),i.status===2?(n(),C(q,{key:2,color:"error",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-ban"})]),_:1})):N("",!0),i.status===3?(n(),C(q,{key:3,color:"success",variant:""},{default:t(()=>[e(S,{start:"",icon:"tabler-check"})]),_:1})):N("",!0)]),l("td",null,[e(S,{icon:"tabler-eye me-2",onClick:Te=>y(i)},null,8,["onClick"])])])}),128)):(n(),C(ne,{key:1,type:"table-tbody"}))])]),_:1})):(n(),C(ne,{key:1,type:"table-tbody"})),e(X,{class:"pt-2"},{default:t(()=>[l("div",Mt,[e(De,{modelValue:L.value,"onUpdate:modelValue":D[7]||(D[7]=i=>L.value=i),"total-visible":w.$vuetify.display.smAndDown?3:5,length:Math.ceil(B.value/M.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),e(me,{isDialogVisible:b.value,"onUpdate:isDialogVisible":D[8]||(D[8]=i=>b.value=i),selectedTransaction:f.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}},Pt={__name:"StaffTransactionsData",props:{staffId:{type:Number,required:!0}},setup(R){const v=a("Appetizers"),r=R,V=["Deposits","Withdrawals","Internal Transactions","Transaction Adjustments"];return(c,m)=>{const k=Ut,$=St,T=gt,d=_t;return n(),C(J,{class:"py-5"},{default:t(()=>[e(Pe,{modelValue:s(v),"onUpdate:modelValue":m[0]||(m[0]=o=>W(v)?v.value=o:null),"fixed-tabs":""},{default:t(()=>[(n(),P(H,null,oe(V,o=>e(ze,{key:o,value:o},{default:t(()=>[j(h(o),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e(X,null,{default:t(()=>[e(Be,{modelValue:s(v),"onUpdate:modelValue":m[1]||(m[1]=o=>W(v)?v.value=o:null)},{default:t(()=>[e(fe,{key:"Deposits",value:"Deposits"},{default:t(()=>[e(k,{"staff-id":r.staffId},null,8,["staff-id"])]),_:1}),e(fe,{key:"Withdrawals",value:"Withdrawals"},{default:t(()=>[e($,{"staff-id":r.staffId},null,8,["staff-id"])]),_:1}),e(fe,{key:"Internal Transactions",value:"Internal Transactions"},{default:t(()=>[e(T,{"staff-id":r.staffId},null,8,["staff-id"])]),_:1}),e(fe,{key:"Transaction Adjustments",value:"Transaction Adjustments"},{default:t(()=>[e(d,{"staff-id":r.staffId},null,8,["staff-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}},zt={__name:"DepositWithdrawStatistics",props:{staffId:{type:Number,required:!0}},setup(R){const v={white:"#fff",yellow:"#ffe802",primary:"#836af9",areaChartBlue:"#2c9aff",barChartYellow:"#ffcf5c",polarChartGrey:"#4f5d70",polarChartInfo:"#299aff",lineChartYellow:"#d4e157",polarChartGreen:"#28dac6",lineChartPrimary:"#9e69fd",lineChartWarning:"#ff9800",horizontalBarInfo:"#26c6da",polarChartWarning:"#ff8131",scatterChartGreen:"#28c76f",warningShade:"#ffbd1f",areaChartBlueLight:"#84d0ff",areaChartGreyLight:"#edf1f4",scatterChartWarning:"#ff9f43"},r=Oe(),V=()=>{const o=[],u=new Date;for(let _=0;_<=5;_++){const M=new Date(u.getFullYear(),u.getMonth()-_,1);o.push(M.toLocaleString("default",{month:"short",year:"numeric"}))}return o.reverse()},c=a({labels:V(),datasets:[{maxBarThickness:15,label:"Deposits",backgroundColor:v.warningShade,borderColor:"transparent",data:[]},{maxBarThickness:15,backgroundColor:v.horizontalBarInfo,label:"Withdrawals",borderColor:"transparent",data:[]}]}),m=ee(()=>{const o=Math.max(...c.value.datasets[0].data,...c.value.datasets[1].data),u=et(r.current.value);return{...u,scales:{...u.scales,x:{...u.scales.x,max:Math.ceil(o/10)*10}}}}),k=a(null),$=a(!1),T=R,d=async()=>{try{const o=await Z(`/admin/staff/target-info/${T.staffId}`,{method:"GET",onResponseError({response:u}){console.error("Error response:",u)}});o?k.value=o:console.error("Failed to fetch data or empty response")}catch(o){console.error("Error fetching data:",o)}};return ce(k,o=>{o&&(c.value.labels=V().reverse(),c.value.datasets[0].data=o.individual_summary[0].monthly_deposits.map(u=>parseFloat(u.toFixed(2))).reverse(),c.value.datasets[1].data=o.individual_summary[0].monthly_withdrawals.map(u=>parseFloat(u.toFixed(2))).reverse(),$.value=!0)}),ie(async()=>{await d()}),(o,u)=>(n(),C(J,null,{default:t(()=>[e(Ie,{class:"d-flex flex-wrap justify-space-between gap-4"},{append:t(()=>[e(Ke,null,{default:t(()=>[j("Evaluating : Deposits-Withdrawals ")]),_:1})]),default:t(()=>[e(Ne,null,{default:t(()=>[j("Transaction Statistics")]),_:1})]),_:1}),$.value?(n(),C(X,{key:0},{default:t(()=>[e(s(tt),{height:375,"chart-data":c.value,"chart-options":m.value},null,8,["chart-data","chart-options"])]),_:1})):N("",!0)]),_:1}))}},Bt=l("p",null,"Evaluating : Target - Net Deposit",-1),Nt="rgba(var(--v-theme-on-background), var(--v-high-emphasis-opacity))",Me="rgba(var(--v-theme-on-background), var(--v-medium-emphasis-opacity))",Lt="rgba(var(--v-border-color), var(--v-border-opacity))",Rt={__name:"PerformanceStatisticsCard",props:{staffId:{type:Number,required:!0}},setup(R){const v={line:{series1:"#FFB400",series2:"#9055FD",series3:"#7367f029"}},r=a([{name:"Net Deposit",type:"column",data:[]},{name:"Target",type:"line",data:[]}]),V=()=>{const d=[],o=new Date;for(let u=5;u>=0;u--){const _=new Date(o.getFullYear(),o.getMonth()-u,1);d.push(_.toLocaleString("default",{month:"short",year:"numeric"}))}return d},c=a({chart:{type:"line",stacked:!1,parentHeightOffset:0,toolbar:{show:!1},zoom:{enabled:!1}},markers:{size:5,colors:"#fff",strokeColors:v.line.series2,hover:{size:6},borderRadius:4},stroke:{curve:"smooth",width:[0,3],lineCap:"round"},legend:{show:!0,position:"bottom",markers:{width:8,height:8,offsetX:-3},height:40,itemMargin:{horizontal:10,vertical:0},fontSize:"15px",fontFamily:"Open Sans",fontWeight:400,labels:{colors:Nt,useSeriesColors:!1},offsetY:10},grid:{strokeDashArray:8,borderColor:Lt},colors:[v.line.series1,v.line.series2],fill:{opacity:[1,1]},plotOptions:{bar:{columnWidth:"30%",borderRadius:4,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},xaxis:{tickAmount:10,categories:V(),labels:{style:{colors:Me,fontSize:"13px",fontWeight:400}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{tickAmount:4,min:0,max:50,labels:{style:{colors:Me,fontSize:"13px",fontWeight:400},formatter(d){return`${d.toFixed(2)} $`}}},responsive:[{breakpoint:1400,options:{chart:{height:320},xaxis:{labels:{style:{fontSize:"10px"}}},legend:{itemMargin:{vertical:0,horizontal:10},fontSize:"13px",offsetY:12}}},{breakpoint:1025,options:{chart:{height:415},plotOptions:{bar:{columnWidth:"50%"}}}},{breakpoint:982,options:{plotOptions:{bar:{columnWidth:"30%"}}}},{breakpoint:480,options:{chart:{height:250},legend:{offsetY:7}}}]}),m=R,k=a(null),$=async()=>{try{const d=await Z(`/admin/staff/target-info/${m.staffId}`,{method:"GET",onResponseError({response:o}){console.error("Error response:",o)}});d?k.value=d:console.error("Failed to fetch data or empty response")}catch(d){console.error("Error fetching data:",d)}},T=d=>{const o=[...d.individual_summary[0].monthly_net_deposits,...d.individual_summary[0].monthly_targets],u=Math.max(...o);c.value={...c.value,yaxis:{...c.value.yaxis,max:Math.ceil(u/10)*10}}};return ce(k,d=>{d&&(r.value[0].data=d.individual_summary[0].monthly_net_deposits,r.value[1].data=d.individual_summary[0].monthly_targets,c.value.xaxis.categories=d.individual_summary[0].months.map(o=>{const[u,_]=o.split("-");return new Date(u,_-1).toLocaleString("default",{month:"short",year:"numeric"})}),T(d))}),ie(async()=>{await $()}),(d,o)=>{const u=lt;return n(),C(J,null,{default:t(()=>[e(Ie,{title:"Performance statistics"},{append:t(()=>[Bt]),_:1}),e(X,null,{default:t(()=>[e(u,{id:"shipment-statistics",type:"line",height:"320",options:c.value,series:r.value},null,8,["options","series"])]),_:1})]),_:1})}}},Ot={__name:"TabStaffDashboard",props:{staffId:{type:Number,required:!0}},setup(R){const v=R;return(r,V)=>{const c=Rt,m=zt;return n(),C(Y,null,{default:t(()=>[e(x,null,{default:t(()=>[e(c,{"staff-id":parseInt(v.staffId),class:"mb-5"},null,8,["staff-id"]),e(m,{"staff-id":parseInt(v.staffId)},null,8,["staff-id"])]),_:1})]),_:1})}}},jt=l("div",{class:"d-flex flex-wrap justify-space-between flex-column rounded bg-var-theme-background flex-sm-row gap-6 pa-6 mb-6"},[l("div",null,[l("div",{class:"d-flex align-center app-logo"},[l("h6",{class:"app-logo-title"}," Edit Staff Details ")])])],-1),Ft={key:0,class:"text-body-2 pt-3 pb-0 mb-3 text-error"},Wt=l("span",{class:"text-5xl font-weight-light"},"X",-1),qt={class:"text-h4 mb-4"},Gt={class:"text-h4 mb-4"},Qt={__name:"EditStaffDialog",props:{staffDetails:{type:Object,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup(R,{emit:v}){const r=a(null),V=a(null),c=a(null),m=a(null),k=a(null),$=a(null),T=a(null),d=a(null),o=a(null),u=a(null),_=a(!1),M=a(null),L=a(!1);let I=a(""),G=a(""),F=a(""),A=a("");const z=a(!1),U=a(!1);a(!1),ie(async()=>{await y(),await w(),await D()});const B=R,b=v,f=E=>{b("update:isDialogVisible",E)};ce(()=>B.staffDetails,E=>{E&&(u.value=E.id||"",r.value=E.staff_name||"",V.value=E.email||"",c.value=E.contact_no||"",k.value=E.team_id||null,m.value=E.group_id||null,$.value=E.role_id||null)},{immediate:!0});const y=async()=>{try{const E=await Z("/getStaffTeams",{method:"GET"});E&&(T.value=E.teams)}catch(E){console.error("Error fetching group category:",E),error.value=E}},w=async()=>{try{const E=await Z("/getStaffGroups",{method:"GET"});E&&(d.value=E.groups)}catch(E){console.error("Error fetching group category:",E),error.value=E}},D=async()=>{try{const E=await Z("/getStaffRoles",{method:"GET"});E&&(o.value=E.roles)}catch(E){console.error("Error fetching group category:",E),error.value=E}};function p(){r.value===null||V.value===null||c.value===null||m.value===null||$.value===null?M.value=!1:(M.value=!0,L.value=!0)}const g=async E=>{if(E){_.value=!0;try{await Z("/EditStaffUser",{method:"POST",body:{userId:u.value,role_id:$.value,group_id:m.value,team_id:k.value,contact_no:c.value},onResponseError({response:me}){F.value="Something Went Wrong !",A.value=me._data.message,z.value=!0,_.value=!1}})&&(I.value="Success !",G.value="Details Updated Successfully !",U.value=!0,_.value=!1)}catch(O){F.value="Something Went Wrong !",A.value=O.data.message,z.value=!0,_.value=!1}}},ue=async E=>{window.location.reload()};return(E,O)=>{const me=Re,i=pe,re=ge,Te=Le;return n(),P(H,null,[e(_e,{width:E.$vuetify.display.smAndDown?"auto":800,"model-value":B.isDialogVisible,"onUpdate:modelValue":f},{default:t(()=>[e(me,{onClick:O[0]||(O[0]=Q=>f(!1))}),e(J,{class:"pa-6 pa-sm-10"},{default:t(()=>[jt,e(at,{onSubmit:je(()=>{},["prevent"])},{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"6"},{default:t(()=>[e(i,{modelValue:s(r),"onUpdate:modelValue":O[1]||(O[1]=Q=>W(r)?r.value=Q:null),label:"Name",readonly:""},null,8,["modelValue"])]),_:1}),e(x,{cols:"6"},{default:t(()=>[e(i,{modelValue:s(V),"onUpdate:modelValue":O[2]||(O[2]=Q=>W(V)?V.value=Q:null),label:"Email",readonly:""},null,8,["modelValue"])]),_:1}),e(x,{cols:"6"},{default:t(()=>[e(i,{modelValue:s(c),"onUpdate:modelValue":O[3]||(O[3]=Q=>W(c)?c.value=Q:null),label:"Contact No"},null,8,["modelValue"])]),_:1}),e(x,{cols:"6"},{default:t(()=>[e(re,{modelValue:s(k),"onUpdate:modelValue":O[4]||(O[4]=Q=>W(k)?k.value=Q:null),items:s(T),"item-title":"team_name","item-value":"id",label:"Team","single-line":""},null,8,["modelValue","items"])]),_:1}),e(x,{cols:"6"},{default:t(()=>[e(re,{modelValue:s(m),"onUpdate:modelValue":O[5]||(O[5]=Q=>W(m)?m.value=Q:null),items:s(d),"item-title":"group_name","item-value":"id",label:"Group","single-line":""},null,8,["modelValue","items"])]),_:1}),e(x,{cols:"6"},{default:t(()=>[e(re,{modelValue:s($),"onUpdate:modelValue":O[6]||(O[6]=Q=>W($)?$.value=Q:null),items:s(o),"item-title":"role_name","item-value":"id",label:"Role","single-line":""},null,8,["modelValue","items"])]),_:1}),s(M)===!1?(n(),P("p",Ft,"All fields are mandatory")):N("",!0)]),_:1}),e(Y,null,{default:t(()=>[e(x,{cols:"6",class:"mt-5"},{default:t(()=>[e(K,{class:"me-2",loading:s(_),disabled:s(_),color:"primary",onClick:p},{default:t(()=>[j(" Submit ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(Te,{isDialogVisible:s(L),"onUpdate:isDialogVisible":O[7]||(O[7]=Q=>W(L)?L.value=Q:null),onConfirm:g,"confirmation-question":"Are you want to update staff details?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(_e,{modelValue:s(z),"onUpdate:modelValue":O[8]||(O[8]=Q=>W(z)?z.value=Q:null),"max-width":"500"},{default:t(()=>[e(J,null,{default:t(()=>[e(X,{class:"text-center px-10 py-6"},{default:t(()=>[e(K,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:t(()=>[Wt]),_:1}),l("h1",qt,h(s(F)),1),l("p",null,h(s(A)),1),e(K,{color:"success",onClick:ue},{default:t(()=>[j(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:s(U),"onUpdate:modelValue":O[10]||(O[10]=Q=>W(U)?U.value=Q:null),"max-width":"500"},{default:t(()=>[e(J,null,{default:t(()=>[e(X,{class:"text-center px-10 py-6"},{default:t(()=>[e(K,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:t(()=>[e(S,{icon:"tabler-check",size:"38"})]),_:1}),l("h1",Gt,h(s(I)),1),l("p",null,h(s(G)),1),e(K,{color:"success",onClick:O[9]||(O[9]=Q=>ue())},{default:t(()=>[j(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Ht={key:0,class:"text-body-2 pt-3 pb-0 mb-0 text-error"},Yt=l("span",{class:"text-5xl font-weight-light"},"X",-1),Kt={class:"text-h4 mb-4"},Xt={class:"text-h4 mb-4"},Jt={__name:"UpdateStaffPasswordDialog",props:{staffDetails:{type:Object,required:!0,default:()=>({})},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup(R,{emit:v}){const r=a(""),V=a(""),c=a(!1),m=a(!0),k=a(!1),$=a(!1),T=a(!1);let d=a(""),o=a(""),u=a(""),_=a("");const M=a(!1),L=a(!1),I=R,G=v,F=b=>{G("update:isDialogVisible",b)},A={required:b=>!!b||"Required.",min:b=>b.length>=8||"Min 8 characters",capital:b=>/[A-Z]/.test(b)||"Min 1 uppercase letter",small:b=>/[a-z]/.test(b)||"Min 1 lowercase letter",special:b=>/[!@#$%^&*(),.?":{}|<>]/.test(b)||"Min 1 special character",number:b=>/[0-9]/.test(b)||"Min 1 number"},z=ee(()=>r.value===V.value),U=async b=>{if(b)try{await Z("/ChangeStaffPassword",{method:"POST",body:{user_id:I.staffDetails.id,new_password:r.value,confirm_password:V.value},onResponseError({response:y}){u.value="Something Went Wrong !",_.value=y._data.message,M.value=!0}})&&(d.value="Success !",o.value="Password Updated Successfully !",L.value=!0)}catch(f){u.value="Something Went Wrong !",_.value=f.data.message,M.value=!0}},B=async b=>{window.location.reload()};return(b,f)=>{const y=Re,w=pe,D=Le;return n(),P(H,null,[e(_e,{width:b.$vuetify.display.smAndDown?"auto":600,"model-value":I.isDialogVisible,"onUpdate:modelValue":F},{default:t(()=>[e(y,{onClick:f[0]||(f[0]=p=>F(!1))}),e(J,null,{default:t(()=>[e(Ne,{class:"pt-3"},{default:t(()=>[j("Update Investor Password")]),_:1}),e(se),e(Ie,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"12",sm:"12"},{default:t(()=>[e(w,{modelValue:s(r),"onUpdate:modelValue":f[1]||(f[1]=p=>W(r)?r.value=p:null),rules:[A.required,A.min,A.capital,A.small,A.special],"append-inner-icon":s(c)?"tabler-eye-off":"tabler-eye",type:s(c)?"text":"password",name:"input-10-2",placeholder:"············",label:"Enter Password",hint:"At least 8 characters","onClick:appendInner":f[2]||(f[2]=p=>c.value=!s(c))},null,8,["modelValue","rules","append-inner-icon","type"])]),_:1}),e(x,{cols:"12",sm:"12"},{default:t(()=>[e(w,{modelValue:s(V),"onUpdate:modelValue":f[3]||(f[3]=p=>W(V)?V.value=p:null),rules:[A.required,A.min,A.capital,A.small,A.special],"append-inner-icon":s(m)?"tabler-eye-off":"tabler-eye",type:s(m)?"text":"password",name:"input-10-2",placeholder:"············",label:"Enter Confirm Password","onClick:appendInner":f[4]||(f[4]=p=>m.value=!s(m))},null,8,["modelValue","rules","append-inner-icon","type"])]),_:1})]),_:1}),s(z)?N("",!0):(n(),P("p",Ht,"Passwords do not match"))]),_:1}),e(X,{class:"d-flex justify-end flex-wrap gap-3"},{default:t(()=>[e(K,{variant:"tonal",color:"secondary",onClick:f[5]||(f[5]=p=>F(!1))},{default:t(()=>[j(" Close ")]),_:1}),e(K,{loading:s(k),disabled:s($),color:"primary",onClick:f[6]||(f[6]=p=>T.value=!0)},{default:t(()=>[j(" Update Password ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(D,{isDialogVisible:s(T),"onUpdate:isDialogVisible":f[7]||(f[7]=p=>W(T)?T.value=p:null),onConfirm:U,"confirmation-question":"Are you sure you want to update password?","cancel-title":"Cancelled","confirm-title":"Cancelled!"},null,8,["isDialogVisible"]),e(_e,{modelValue:s(M),"onUpdate:modelValue":f[8]||(f[8]=p=>W(M)?M.value=p:null),"max-width":"500"},{default:t(()=>[e(J,null,{default:t(()=>[e(X,{class:"text-center px-10 py-6"},{default:t(()=>[e(K,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:t(()=>[Yt]),_:1}),l("h1",Kt,h(s(u)),1),l("p",null,h(s(_)),1),e(K,{color:"success",onClick:B},{default:t(()=>[j(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:s(L),"onUpdate:modelValue":f[10]||(f[10]=p=>W(L)?L.value=p:null),"max-width":"500"},{default:t(()=>[e(J,null,{default:t(()=>[e(X,{class:"text-center px-10 py-6"},{default:t(()=>[e(K,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:t(()=>[e(S,{icon:"tabler-check",size:"38"})]),_:1}),l("h1",Xt,h(s(d)),1),l("p",null,h(s(o)),1),e(K,{color:"success",onClick:f[9]||(f[9]=p=>B())},{default:t(()=>[j(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};var Zt={VITE_API_BASE_URL:"https://nextwiseapi.metacopier.app/api",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const el={class:"text-h5 mt-2 ms-3"},tl={class:"d-flex align-center gap-2 mt-0 mb-0"},ll={class:"d-flex flex-column"},al={key:0,class:"text-h6 mb-0"},sl=l("div",{class:"text-xs"}," Total CRM Clients ",-1),ol={class:"d-flex align-center gap-2 mt-0 mb-0"},nl={class:"d-flex flex-column"},il={key:0,class:"text-h6 mb-0"},rl=l("div",{class:"text-xs"}," Unattended Clients ",-1),ul=l("span",{class:"d-flex align-center justify-space-between"},[l("p",{class:"text-sm text-disabled mt-5"}," CONTACT "),l("div",{class:"d-flex"})],-1),dl={class:"d-flex align-center justify-space-between"},cl={class:"d-flex"},ml={class:"d-flex"},fl={class:"d-flex align-center justify-space-between"},pl={class:"d-flex"},_l=l("p",{class:"text-sm text-disabled"}," ABOUT ",-1),vl={class:"d-flex align-center"},hl={class:"d-flex gap-x-2 align-center"},bl=l("div",{class:"text-md text-disabled"},"Staff ID : ",-1),yl={class:"text-h6"},gl={class:"d-flex align-center justify-space-between"},Vl={class:"d-flex"},Dl={class:"d-flex gap-x-2 align-center"},xl=l("div",{class:"text-md text-disabled"},"Staff Name : ",-1),wl={class:"text-h6"},Cl={class:"d-flex align-center justify-space-between"},Tl={class:"d-flex"},Sl={class:"d-flex gap-x-2 align-center"},kl=l("div",{class:"text-md text-disabled"},"Designation : ",-1),$l={class:"text-h6"},Al={class:"d-flex align-center justify-space-between"},Il={class:"d-flex"},El={class:"d-flex gap-x-2 align-center"},Ml=l("div",{class:"text-md text-disabled"},"Team : ",-1),Ul={class:"text-h6"},Pl={class:"d-flex align-center justify-space-between"},zl={class:"d-flex"},Bl={class:"d-flex gap-x-2 align-center"},Nl=l("div",{class:"text-md text-disabled"},"Group : ",-1),Ll={class:"text-h6"},Rl={class:"d-flex align-center justify-space-between"},Ol={class:"d-flex"},jl=l("div",{class:"text-md text-disabled"},"Partner Code : ",-1),Fl={class:"text-h6"},Wl={class:"d-flex"},ql=l("p",{class:"text-sm text-disabled"}," SALES LINK ",-1),Gl={class:"d-flex align-center justify-space-between"},Ql={class:"d-flex"},Hl={class:"text-h6"},Yl={class:"d-flex"},Kl={key:0,class:"text-sm text-disabled"},Xl={class:"d-flex align-center justify-space-between"},Jl={key:0,class:"d-flex"},Zl={key:1,class:"d-flex"},ea={__name:"StaffDetailsBioCard",props:{staffDetails:{type:Object,required:!0,default:()=>({})},crm_details:{type:Object,required:!0,default:()=>({})}},setup(R){const v=a(""),r=a(!1),V=a(!1),c=a(!1),m=R,k=u=>{u?navigator.clipboard.writeText(u).then(()=>{v.value="Email Copied to Clipboard",r.value=!0}).catch(_=>{console.error("Failed to copy text: ",_)}):console.log("No text to copy")},$=u=>{u?navigator.clipboard.writeText(u).then(()=>{v.value="Code Copied to Clipboard",r.value=!0}).catch(_=>{console.error("Failed to copy text: ",_)}):console.log("No text to copy")},T=u=>{u?navigator.clipboard.writeText(`https://client.bitragemarkets.com/register?promo=${u}`).then(()=>{v.value="Link Copied to Clipboard",r.value=!0}).catch(_=>{console.error("Failed to copy text: ",_)}):console.log("No text to copy")};ee(()=>{const u=m.staffDetails.profile_pic,_=m.staffDetails.id,M=Zt.VITE_S3_BASE_URL;return u?`${M}/client/profileImage/${_}/${u}`:null});function d(){V.value=!0}function o(){c.value=!0}return(u,_)=>{const M=Jt,L=Qt;return n(),P(H,null,[e(Y,null,{default:t(()=>[e(x,{cols:"12"},{default:t(()=>[m.staffDetails?(n(),C(J,{key:0},{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"6 text-right pr-4"},{default:t(()=>[e(ve,{rounded:"",size:90,color:"primary",variant:"tonal",class:"mt-8 mr-3"},{default:t(()=>[e(st,{src:"/images/avatars/avatar-0.webp"})]),_:1}),l("h5",el,h(m.staffDetails.staff_name),1),e(q,{label:"",size:"small",class:"text-capitalize mt-2 me-9"},{default:t(()=>[j(" #"+h(m.staffDetails.id),1)]),_:1})]),_:1}),e(x,{cols:"6",class:"mt-12 ps-4"},{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"12",md:"12"},{default:t(()=>[l("div",tl,[e(ve,{color:"primary",variant:"tonal",rounded:"",size:"30"},{default:t(()=>[e(S,{icon:"tabler-chart-donut-filled",size:"20"})]),_:1}),l("div",ll,[m.crm_details?(n(),P("h6",al,h(m.crm_details.total_crm_clients),1)):N("",!0),sl])])]),_:1}),e(x,{cols:"12",md:"12"},{default:t(()=>[l("div",ol,[e(ve,{color:"info",variant:"tonal",rounded:"",size:"30"},{default:t(()=>[e(S,{icon:"tabler-chart-donut",size:"20"})]),_:1}),l("div",nl,[m.crm_details?(n(),P("h6",il,h(m.crm_details.unattended_clients),1)):N("",!0),rl])])]),_:1})]),_:1})]),_:1})]),_:1}),e(X,null,{default:t(()=>[e(se,{class:"my-3"}),ul,e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",dl,[l("div",cl,[e(S,{icon:"tabler-mail",size:"24",class:"me-1"}),l("div",null,h(m.staffDetails.email),1)]),l("div",ml,[e(K,{onClick:_[0]||(_[0]=I=>k(m.staffDetails.email)),size:"30",variant:"outlined",color:"primary",class:"me-2"},{default:t(()=>[e(S,{icon:"tabler-clipboard-copy",size:"20"})]),_:1})])])]),_:1})]),_:1})]),_:1}),e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",fl,[l("div",pl,[e(S,{icon:"tabler-device-landline-phone",size:"24",class:"me-1"}),l("div",null,h(m.staffDetails.contact_no),1)])])]),_:1})]),_:1})]),_:1}),e(se,{class:"my-5"}),_l,e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",vl,[e(S,{icon:"tabler-face-id",size:"24",class:"me-2"}),l("div",hl,[bl,l("h6",yl,"#"+h(m.staffDetails.id),1)])])]),_:1})]),_:1})]),_:1}),e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",gl,[l("div",Vl,[e(S,{icon:"tabler-user-square-rounded",size:"24",class:"me-2"}),l("div",Dl,[xl,l("h6",wl,h(m.staffDetails.staff_name),1)])])])]),_:1})]),_:1})]),_:1}),e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",Cl,[l("div",Tl,[e(S,{icon:"tabler-briefcase",size:"24",class:"me-2"}),l("div",Sl,[kl,l("h6",$l,h(m.staffDetails.role_name),1)])])])]),_:1})]),_:1})]),_:1}),e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",Al,[l("div",Il,[e(S,{icon:"tabler-north-star",size:"24",class:"me-2"}),l("div",El,[Ml,l("h6",Ul,h(m.staffDetails.team),1)])])])]),_:1})]),_:1})]),_:1}),e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",Pl,[l("div",zl,[e(S,{icon:"tabler-users-group",size:"24",class:"me-2"}),l("div",Bl,[Nl,l("h6",Ll,h(m.staffDetails.group_name),1)])])])]),_:1})]),_:1})]),_:1}),e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",Rl,[l("div",Ol,[e(S,{icon:"tabler-user-code",size:"24",class:"me-1"}),jl,l("h6",Fl,h(m.staffDetails.partner_code),1)]),l("div",Wl,[e(K,{onClick:_[1]||(_[1]=I=>$(m.staffDetails.email)),size:"30",variant:"outlined",color:"primary",class:"me-2"},{default:t(()=>[e(S,{icon:"tabler-clipboard-copy",size:"20"})]),_:1})])])]),_:1})]),_:1})]),_:1}),e(se,{class:"my-3"}),ql,e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",Gl,[l("div",Ql,[e(S,{icon:"tabler-link",size:"24",class:"me-1"}),l("h6",Hl,"/signup?promo="+h(m.staffDetails.partner_code),1)]),l("div",Yl,[e(K,{onClick:_[2]||(_[2]=I=>T(m.staffDetails.partner_code)),size:"30",variant:"outlined",color:"primary",class:"me-2"},{default:t(()=>[e(S,{icon:"tabler-clipboard-copy",size:"20"})]),_:1})])])]),_:1})]),_:1})]),_:1}),e(se,{class:"my-3"}),("hasAccess"in u?u.hasAccess:s(xe))("update_rm_password")||("hasAccess"in u?u.hasAccess:s(xe))("update_staff_details")?(n(),P("p",Kl," UPDATE ")):N("",!0),e(le,{class:"card-list text-medium-emphasis mb-3"},{default:t(()=>[e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[l("span",Xl,[("hasAccess"in u?u.hasAccess:s(xe))("update_rm_password")?(n(),P("div",Jl,[e(K,{onClick:_[3]||(_[3]=I=>d()),variant:"outlined",color:"primary",class:"me-2"},{default:t(()=>[j(" Password Reset ")]),_:1})])):N("",!0),("hasAccess"in u?u.hasAccess:s(xe))("update_staff_details")?(n(),P("div",Zl,[e(K,{onClick:_[4]||(_[4]=I=>o()),variant:"outlined",color:"primary",class:"me-2"},{default:t(()=>[j(" Edit Staff Profile ")]),_:1})])):N("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1})]),_:1}),e(nt,{modelValue:s(r),"onUpdate:modelValue":_[5]||(_[5]=I=>W(r)?r.value=I:null),timeout:2e3},{default:t(()=>[j(h(s(v)),1)]),_:1},8,["modelValue"]),e(M,{isDialogVisible:s(V),"onUpdate:isDialogVisible":_[6]||(_[6]=I=>W(V)?V.value=I:null),staffDetails:R.staffDetails},null,8,["isDialogVisible","staffDetails"]),e(L,{isDialogVisible:s(c),"onUpdate:isDialogVisible":_[7]||(_[7]=I=>W(c)?c.value=I:null),staffDetails:R.staffDetails},null,8,["isDialogVisible","staffDetails"])],64)}}},ta={class:"d-flex mb-6"},la={class:"d-flex justify-space-between"},aa={class:"d-flex flex-column gap-y-1"},sa={class:"text-body-1 text-high-emphasis"},oa={class:"d-flex gap-x-2 align-center"},na={class:"text-h5"},ia={class:"text-sm"},ra={__name:"CustomStaffDetailsHeader",props:{staff_id:{type:[String,Number],required:!0}},setup(R){const v=a(null),r=a(null),V=a(null),c=a(null),m=R;ie(async()=>{await k()});const k=async()=>{try{const T=await Z(`/getTeamTransactionBasedData/${m.staff_id}`,{method:"GET",onResponseError({response:d}){console.error("Error response:",d)}});T?(v.value=T.total_deposit,r.value=T.total_withdraw,V.value=T.total_clients,c.value=T.total_number_ib):console.error("Failed to fetch group list or empty response")}catch(T){console.error("Error fetching group list:",T)}},$=ee(()=>[{title:"TOTAL DEPOSIT",value:`$${v.value}`,desc:"Deposits",icon:"tabler-database-import",iconColor:"success"},{title:"TOTAL WITHDRAW",value:`$${r.value}`,desc:"Withdraw",icon:"tabler-database-minus",iconColor:"error"},{title:"TOTAL CLIENT",value:V.value,desc:"Clients",icon:"tabler-users",iconColor:"success"},{title:"TOTAL IB",value:c.value,desc:"Active IBs",icon:"tabler-chart-arrows-vertical",iconColor:"success"}]);return(T,d)=>(n(),P("div",ta,[e(Y,null,{default:t(()=>[(n(!0),P(H,null,oe(s($),(o,u)=>(n(),C(x,{key:u,cols:"12",md:"3",sm:"6"},{default:t(()=>[e(J,null,{default:t(()=>[e(X,null,{default:t(()=>[l("div",la,[l("div",aa,[l("div",sa,h(o.title),1),l("div",oa,[l("h5",na,h(o.value),1)]),l("div",ia,h(o.desc),1)]),e(ve,{color:o.iconColor,variant:"tonal",rounded:"",size:"42"},{default:t(()=>[e(S,{icon:o.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]))}},ua=l("th",null," ID/DOJ ",-1),da=l("th",null," NAME/EMAIL ",-1),ca=l("th",null," IS IB ? ",-1),ma=l("th",null," VIEW ",-1),fa={class:"text-caption me-0 ms-0",style:{"padding-left":"2px"}},pa=l("br",null,null,-1),_a=l("span",{style:{"font-size":"12px"}},"IB PROFILE",-1),va=l("span",{style:{"font-size":"12px"}},"IB REQUESTED",-1),ha=l("small",null,"IB",-1),ba={key:0,class:"text-base",style:{"font-size":"12px"}},ya={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},ga={__name:"ClientListing",props:{staffId:{type:Number,required:!0}},setup(R){const v=a(""),r=a(null),V=a(null),c=a(null),m=a(null),k=a(null),$=a(null),T=R,d=[{title:"All",value:null},{title:"Account Not Created",value:"0"},{title:"Live Account Created",value:"1"},{title:"Demo Account Created",value:"2"}],o=[{title:"All",value:null},{title:"Deposited",value:"1"},{title:"Not Deposited",value:"1"}],u=[{title:"All",value:null},{title:"Upload Pending",value:"0"},{title:"Approved",value:"3"},{title:"Rejected",value:"2"},{title:"Verification Pending",value:"1"}],_=[{title:"All",value:null},{title:"Normal User",value:"0"},{title:"IB Requested",value:"1"},{title:"Active IB",value:"2"}],M=a(25),L=a(1),I=a(null),G=a(null),F=a(null),A=async()=>{F.value=null;const b=await Z("/client/sorted-list",{method:"POST",body:{keyword:v.value,page:L.value,RM:T.staffId,mt_account_status:r.value,deposit_status:V.value,document_status:c.value,country:k.value,is_ib:$.value},onResponseError({response:f}){console.log(f)}});F.value=b},z=ee(()=>{var b;return((b=F.value)==null?void 0:b.result.client_details.data)||[]}),U=ee(()=>{var b;return((b=F.value)==null?void 0:b.result.client_details.total)||0});ie(async()=>{Qe(),He(),A()}),ce([L,M,r,V,c,m,k,$,v,I,G],()=>{A()},{deep:!0,immediate:!1}),be(()=>{});const B=a(!1);return(b,f)=>{const y=ge,w=pe,D=ye,p=Fe("RouterLink");return n(),P("section",null,[e(J,{class:"mb-6"},{default:t(()=>[e(X,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(x,{cols:"12",sm:"3"},{default:t(()=>[e(y,{label:"MT Account Status",modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=g=>r.value=g),placeholder:"MT Account Status",items:d,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(y,{modelValue:V.value,"onUpdate:modelValue":f[1]||(f[1]=g=>V.value=g),label:"Deposit Status",placeholder:"Deposit Status",items:o,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(y,{modelValue:c.value,"onUpdate:modelValue":f[2]||(f[2]=g=>c.value=g),label:"Document Status",placeholder:"Document Status",items:u,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),s(Ae)&&s(Ae).length>2?(n(),C(x,{key:0,cols:"12",sm:"3"},{default:t(()=>[e(y,{modelValue:k.value,"onUpdate:modelValue":f[3]||(f[3]=g=>k.value=g),label:"Country",placeholder:"Country",items:s(Ae),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):N("",!0),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(w,{modelValue:v.value,"onUpdate:modelValue":f[4]||(f[4]=g=>v.value=g),label:"Search User by Name/Email",placeholder:"Search User"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12",sm:"3"},{default:t(()=>[e(y,{modelValue:$.value,"onUpdate:modelValue":f[5]||(f[5]=g=>$.value=g),label:"IB Status",placeholder:"IB Status",items:_,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(se),F.value?(n(),C(Ve,{key:0,height:"800",class:"text-no-wrap"},{default:t(()=>[l("thead",null,[l("tr",null,[ua,da,l("th",null,[e(S,{icon:"tabler-sum me-1",size:"16"}),j("DEPOSIT ")]),l("th",null,[e(S,{icon:"tabler-sum me-1",size:"16"}),j("WITHDRAW ")]),ca,ma])]),l("tbody",null,[(n(!0),P(H,null,oe(z.value,g=>(n(),P("tr",{class:"",key:g.id},[l("td",fa,[e(q,{size:"x-small"},{default:t(()=>[j(" #"+h(g.id),1)]),_:2},1024),pa,j(" "+h(("formatDateToMonthShort"in b?b.formatDateToMonthShort:s(he))(g.joined_on)),1)]),l("td",null,[e(le,{class:"card-list"},{default:t(()=>[e(p,{to:`/client/client-${g.id}-home-null-details`},{default:t(()=>[e(ae,null,Ee({default:t(()=>[e(te,{class:"font-weight-medium"},{default:t(()=>[e(D,{client_name:g.client_name,client_id:g.id,email:g.email,client_pic:g.client_pic},null,8,["client_name","client_id","email","client_pic"])]),_:2},1024)]),_:2},[g.email_verified===1?{name:"append",fn:t(()=>[e(S,{color:"success",size:"16",icon:"tabler-mail-check"})]),key:"0"}:void 0]),1024)]),_:2},1032,["to"])]),_:2},1024)]),l("td",null,h(("formatCurrency"in b?b.formatCurrency:s(de))(g.deposit)),1),l("td",null,h(("formatCurrency"in b?b.formatCurrency:s(de))(g.withdraw)),1),l("td",null,[e(le,{class:"card-list"},{default:t(()=>[e(ae,null,Ee({default:t(()=>[g.is_ib==2?(n(),C(te,{key:0,class:"font-weight-medium"},{default:t(()=>[_a]),_:1})):N("",!0),g.is_ib==1?(n(),C(te,{key:1,class:"font-weight-medium"},{default:t(()=>[va]),_:1})):N("",!0),e(p,{to:`/client/client-${g.ib_id}-home-null-details`},{default:t(()=>[e(ot,null,{default:t(()=>[g.ib_name?(n(),P("div",ba,"Parent : "+h(g.ib_name),1)):N("",!0)]),_:2},1024)]),_:2},1032,["to"])]),_:2},[g.ib_id||g.is_ib!=0?{name:"prepend",fn:t(()=>[e(ve,{color:"secondary",class:We({"bg-light-success":g.is_ib===2,"bg-light-warning":g.is_ib===1}),variant:"outlined",rounded:"",size:"30"},{default:t(()=>[ha]),_:2},1032,["class"])]),key:"0"}:void 0]),1024)]),_:2},1024)]),l("td",null,[e(p,{to:`/client/client-${g.id}-home-null-details`},{default:t(()=>[e(S,{icon:"tabler-eye me-2"})]),_:2},1032,["to"])])]))),128))])]),_:1})):(n(),P(H,{key:1},oe(3,g=>e(ne,{key:g,type:"table-tbody"})),64)),e(X,{class:"pt-2"},{default:t(()=>[l("div",ya,[e(De,{modelValue:L.value,"onUpdate:modelValue":f[6]||(f[6]=g=>L.value=g),"total-visible":b.$vuetify.display.smAndDown?3:5,length:Math.ceil(U.value/M.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1}),e(it,{isDrawerOpen:B.value,"onUpdate:isDrawerOpen":f[7]||(f[7]=g=>B.value=g),onUserData:b.addNewUser},null,8,["isDrawerOpen","onUserData"])])}}},Os={__name:"staff-[id]-[tab]-[mt_id]-details",setup(R){const v=qe(),r=a(v.params.id),V=a(null);a(null);const c=a({}),m=a(null);ie(async()=>{k(),$()});const k=async()=>{try{const d=await Z(`/getStaffDetails/${r.value}`,{method:"GET",onResponseError({response:o}){console.error("Error response:",o)}});d?V.value=d.staff_details[0]:console.error("Failed to fetch group list or empty response")}catch(d){console.error("Error fetching group list:",d)}},$=async()=>{try{const d=await Z(`/getTeamCrmClientStatusData/${r.value}`,{method:"GET",onResponseError({response:o}){console.error("Error response:",o)}});d?c.value=d:console.error("Failed to fetch group list or empty response")}catch(d){console.error("Error fetching group list:",d)}},T=[{icon:"tabler-dashboard",title:"Dashboard"},{icon:"tabler-users",title:"Clients"},{icon:"tabler-transaction-dollar",title:"Transactions"}];return(d,o)=>{const u=ra,_=ea,M=Ot,L=Pt;return n(),P(H,null,[e(u,{staff_id:s(r)},null,8,["staff_id"]),e(Y,null,{default:t(()=>[s(V)?(n(),C(x,{key:0,cols:"12",md:"3",lg:"4"},{default:t(()=>[e(_,{staffDetails:s(V),crm_details:s(c)},null,8,["staffDetails","crm_details"])]),_:1})):(n(),P(H,{key:1},oe(3,I=>e(ne,{key:I,type:"article"})),64)),e(x,{cols:"12",md:"7",lg:"8"},{default:t(()=>[e(Pe,{modelValue:s(m),"onUpdate:modelValue":o[0]||(o[0]=I=>W(m)?m.value=I:null),class:"v-tabs-pill"},{default:t(()=>[(n(),P(H,null,oe(T,I=>e(ze,{key:I.icon},{default:t(()=>[e(S,{size:18,icon:I.icon,class:"me-1"},null,8,["icon"]),l("span",null,h(I.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),e(Be,{modelValue:s(m),"onUpdate:modelValue":o[1]||(o[1]=I=>W(m)?m.value=I:null),class:"mt-6 disable-tab-transition",touch:!1},{default:t(()=>[e(fe,null,{default:t(()=>[e(M,{"staff-id":parseInt(s(r))},null,8,["staff-id"])]),_:1}),e(fe,null,{default:t(()=>[e(ga,{"staff-id":parseInt(s(r))},null,8,["staff-id"])]),_:1}),e(fe,null,{default:t(()=>[e(L,{"staff-id":parseInt(s(r))},null,8,["staff-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}};export{Os as default};
