import{h as S}from"./permission-DuwGuxYB.js";import{f as oe}from"./formatters-MfVJSZma.js";import{r as s,a5 as F,E as se,w as ne,cn as ie,o as i,c as d,d as l,b as t,e as n,F as R,t as M,m as r,f as m,y as c,v as p,h as re,de as me,ai as ue}from"./index-D1wpZbIu.js";import{_ as de}from"./CLIENT_DepositTicketDialog-D5TbUQtV.js";import{_ as ce}from"./CustomTransactionStatusChip-XG8Oq3yW.js";import{_ as pe}from"./CustomMT5Chip-Dt59m9Qy.js";import{_ as _e}from"./CustomStaffCardChip-BOUVfebu.js";import{_ as fe}from"./CustomClientCardChip-3g29Npaq.js";import{_ as ve}from"./AppTextField--9boQEHq.js";import{_ as he}from"./AppDateTimePicker-DGJHSBNa.js";import{_ as Ve}from"./CustomManagerSelectWidget-BPAERI_t.js";import{_ as ye}from"./AppSelect-Ba94vubz.js";import{_ as ge}from"./CustomPageHeaderWidget-BDoC-uMD.js";import{b as be,d as x,p as E}from"./apiUtils-D_3FMlLA.js";import{$ as De}from"./api-CZThb0As.js";import{V as Te}from"./VCard-DKDRkIoH.js";import{V as C}from"./VCardText-VyBmJXPn.js";import{V as P}from"./VDivider-5x_iBr5U.js";import{V as Se,a as _}from"./VRow-BvUGedaW.js";import{V as Ce}from"./VSpacer-4nysU2Pe.js";import{V as z}from"./VChip-D0lTDIMf.js";import{V as j}from"./VSkeletonLoader-BKmj1uWh.js";import{V as we}from"./VTable-Bm5-Lsq_.js";import{V as Ae}from"./VPagination-BxLpmNeY.js";import"./helpers-DK5QwNv0.js";import"./ConfirmDialog-C3KTWwEA.js";import"./VDialog-BHrtIyf0.js";import"./VOverlay-BDv7FBdx.js";import"./easing-CjukEv2V.js";import"./lazy-BUdACFqA.js";import"./scopeId-DuQ8HD0W.js";import"./transition-DI64r8B2.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-CyYFvHTT.js";import"./DialogCloseBtn-DI4p19x4.js";import"./md5-B0uU80qf.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VCardTitle-dZh1ieqJ.js";import"./createSimpleFunctional-CHDm7OKT.js";import"./VForm-HpC9CO4V.js";import"./form-C-VBVvQU.js";import"./VRadioGroup-BTIasbg7.js";import"./VSelectionControl-DyTeC7vw.js";import"./VInput-BRlakMdJ.js";import"./index-qHcCSCd7.js";import"./VList-DMQ33AEG.js";import"./ssrBoot-bsSlj0BA.js";import"./VAvatar-BdL9cLqL.js";import"./VImg-CZeKFoIy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VTextField-75lvywKs.js";/* empty css                   */import"./VCounter-D0lpfgDN.js";import"./VField-BKmLkQ-8.js";import"./VSelect-Dl7trU0N.js";import"./VMenu-Co6aMytZ.js";import"./VCheckboxBtn-CtpXaLKT.js";import"./useApi-Bq6kd8Rt.js";import"./index-B3bPRkoL.js";/* empty css              */import"./VSlideGroup-Cf_Wy7Ht.js";const ke={class:"me-3 d-flex gap-3"},Me={style:{"inline-size":"15.625rem"}},xe={class:"me-3 d-flex gap-3"},Ee={style:{"inline-size":"15.625rem"}},Pe={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Ne={class:"card-subtitle pt-3"},Ue=l("th",null,null,-1),Ie=l("th",null," NAME|EMAIL ",-1),$e=l("th",null," ASSIGNED RM ",-1),Be=l("th",null," TO ",-1),Le=l("th",null," REQ.AMNT ",-1),Oe=l("th",null," METHOD ",-1),Fe=l("th",null," STATUS ",-1),Re={key:0},ze={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},je=l("br",null,null,-1),He=l("span",{class:"text-caption text-xs"},"RM NOT MAPPED",-1),Qe={key:0},We={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},ll={__name:"deposit-list",setup(Ge){const f=s(""),v=s(""),H=s(null),h=s("0"),Q=s(null),V=s(null),y=s(null),W=s(null),g=s(null),b=s(null);s(null);const D=s(null),G=[{title:"All",value:null},{title:"Pending",value:"0"},{title:"On Hold",value:"1"},{title:"Rejected",value:"2"},{title:"Approved",value:"3"}],N=s(20),T=s(1),q=s(null),J=s(null),u=s(null),U=async()=>{u.value=null;const a=await De("/transactions/deposit-listing",{method:"POST",body:{page:T.value,deposit_status:h.value,currency:V.value,payment_method:y.value,manager:D.value,keyword:f.value,mt5id:v.value,from_date:g.value,to_date:b.value},onResponseError({response:o}){}});u.value=a},I=F(()=>{var a;return((a=u.value)==null?void 0:a.transaction_details.data)||[]}),w=F(()=>{var a;return((a=u.value)==null?void 0:a.transaction_details.total)||0});se(async()=>{await be(),await U()}),ne([T,N,H,v,g,b,D,Q,h,V,y,W,f,q,J],()=>{U()},{deep:!0,immediate:!1}),ie(()=>{}),s(!1);const A=s(!1),$=s(null);function K(a){$.value=a,A.value=!0}return(a,o)=>{const X=ge,k=ye,Y=Ve,B=he,L=ve,Z=fe,ee=_e,te=pe,le=ce,ae=de;return i(),d(R,null,[l("section",null,[t(X),t(Te,{class:"mb-6"},{default:n(()=>[t(C,{class:"py-4"},{default:n(()=>[M(" PENDING DEPOSIT LIST ")]),_:1}),t(P),t(C,null,{default:n(()=>[t(Se,null,{default:n(()=>[t(_,{cols:"12",sm:"2"},{default:n(()=>[t(k,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=e=>h.value=e),label:"Deposit Status",placeholder:"Deposit Status",items:G,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),r(x)&&r(x).length>2?(i(),m(_,{key:0,cols:"12",sm:"2"},{default:n(()=>[t(k,{modelValue:V.value,"onUpdate:modelValue":o[1]||(o[1]=e=>V.value=e),label:"Deposited Currency",placeholder:"Deposited Currency",items:r(x),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):c("",!0),r(E)&&r(E).length>1?(i(),m(_,{key:1,cols:"12",sm:"2"},{default:n(()=>[t(k,{modelValue:y.value,"onUpdate:modelValue":o[2]||(o[2]=e=>y.value=e),label:"Payment Method",placeholder:"Payment Method",items:r(E),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})):c("",!0),("hasAccess"in a?a.hasAccess:r(S))("view_all_clients")||("hasAccess"in a?a.hasAccess:r(S))("view_my_team_clients")?(i(),m(Y,{key:2,modelValue:D.value,"onUpdate:modelValue":o[3]||(o[3]=e=>D.value=e)},null,8,["modelValue"])):c("",!0),t(_,{cols:"12",sm:"2"},{default:n(()=>[t(B,{modelValue:g.value,"onUpdate:modelValue":o[4]||(o[4]=e=>g.value=e),label:"From Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12",sm:"2"},{default:n(()=>[t(B,{modelValue:b.value,"onUpdate:modelValue":o[5]||(o[5]=e=>b.value=e),label:"To Date",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(P),t(C,{class:"d-flex flex-wrap gap-4"},{default:n(()=>[l("div",ke,[l("div",Me,[t(L,{modelValue:f.value,"onUpdate:modelValue":o[6]||(o[6]=e=>f.value=e),placeholder:"Search client by name/email"},null,8,["modelValue"])])]),l("div",xe,[l("div",Ee,[t(L,{modelValue:v.value,"onUpdate:modelValue":o[7]||(o[7]=e=>v.value=e),placeholder:"Search MT5 ID"},null,8,["modelValue"])])]),t(Ce),l("div",Pe,[l("p",Ne,"TOTAL LISTED COUNT : "+p(w.value?w.value:0),1)])]),_:1}),t(P),u.value?(i(),m(we,{key:0,height:"800",class:"text-no-wrap"},{default:n(()=>[l("thead",null,[l("tr",null,[Ue,Ie,$e,Be,Le,Oe,Fe,("hasAccess"in a?a.hasAccess:r(S))("view_deposit_details_page")?(i(),d("th",Re," VIEW ")):c("",!0)])]),l("tbody",null,[I.value?(i(!0),d(R,{key:0},re(I.value,e=>{var O;return i(),d("tr",{class:"",key:e.transaction_id},[l("td",ze,[t(z,{size:"x-small"},{default:n(()=>[M(" #"+p(e.transaction_id),1)]),_:2},1024),je,M(" "+p(("formatDateToMonthShort"in a?a.formatDateToMonthShort:r(oe))(e.created_at)),1)]),l("td",null,[t(Z,{client_id:e.client_id,client_name:e.client_name,email:e.email},null,8,["client_id","client_name","email"])]),l("td",null,[e.manager_id?(i(),m(ee,{key:0,rm_id:e.manager_id,rm_name:e.rm_name},null,8,["rm_id","rm_name"])):(i(),m(z,{key:1,size:"x-small",variant:"outlined"},{default:n(()=>[He]),_:1}))]),l("td",null,[t(te,{client_id:e.client_id,mt_id:(O=e.mt_id)==null?void 0:O.toString(),is_wallet:e.is_wallet},null,8,["client_id","mt_id","is_wallet"])]),l("td",null,p(("formatCurrency"in a?a.formatCurrency:r(me))(e.amount_in_usd)),1),l("td",null,p(e.deposit_method),1),l("td",null,[t(le,{trans_status:e.status},null,8,["trans_status"])]),("hasAccess"in a?a.hasAccess:r(S))("view_deposit_details_page")?(i(),d("td",Qe,[t(ue,{color:"secondary",size:"x-small",variant:"elevated",class:"px-2 me-2 rounded",icon:"tabler-file-description",onClick:qe=>K(e)},null,8,["onClick"])])):c("",!0)])}),128)):(i(),m(j,{key:1,type:"table-tbody"}))])]),_:1})):(i(),m(j,{key:1,type:"table-tbody"})),t(C,{class:"pt-2"},{default:n(()=>[l("div",We,[t(Ae,{modelValue:T.value,"onUpdate:modelValue":o[8]||(o[8]=e=>T.value=e),"total-visible":a.$vuetify.display.smAndDown?3:5,length:Math.ceil(w.value/N.value)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1})]),t(ae,{isDialogVisible:A.value,"onUpdate:isDialogVisible":o[9]||(o[9]=e=>A.value=e),selectedTransaction:$.value},null,8,["isDialogVisible","selectedTransaction"])],64)}}};export{ll as default};
