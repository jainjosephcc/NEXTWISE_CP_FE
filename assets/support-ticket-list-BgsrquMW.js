import{_ as y}from"./AppDateTimePicker-LmbzkjiI.js";import{_ as g}from"./AppSelect-Dk8olbt1.js";import{$ as V}from"./api-BTN9-S1a.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as _,a as s}from"./VRow-CgtR2C0a.js";import{V as n,a as v,b as E}from"./VCard-DZWvGmgS.js";import{V as d}from"./VCardText-U-O62k8O.js";import{V as D}from"./VDivider-DXXBACNJ.js";import{V as I}from"./VCardTitle-BiC992U8.js";import{V as w,b as $,d as B,a as L}from"./VList-oRE7i2Tp.js";import{V as b}from"./VAvatar-yCqntSJd.js";import{r as j,E as F,o as m,c as k,d as c,b as e,e as t,F as S,t as r,h as U,f as z,$ as N,v as u,ah as A}from"./index-JJLVR7gw.js";import{V as M}from"./VChip-Dj7sIaLu.js";import"./VField-CtxTuAgP.js";import"./form-C0qhxlI3.js";import"./index-GgA-9tW3.js";import"./easing-CjukEv2V.js";import"./VInput-DlxzUbVk.js";import"./transition-C2_fb7u_.js";import"./VSelect-DolNbEcz.js";import"./VTextField-D_u6fdPg.js";/* empty css                   */import"./VCounter-QpKNLAUU.js";import"./forwardRefs-C-GTDzx5.js";import"./VImg-KnL00SIm.js";import"./dialog-transition-OOY4pNuk.js";import"./VMenu-D0jACTlk.js";import"./VOverlay-yE6I3_jC.js";import"./lazy-amXKMzDk.js";import"./scopeId-ClaAXU-I.js";import"./VCheckboxBtn-XGtVXTYy.js";import"./VSelectionControl-DEc2CGt5.js";import"./index-B3bPRkoL.js";/* empty css              */import"./createSimpleFunctional-C_BTfS6z.js";import"./ssrBoot-BZxQaRBH.js";import"./VSlideGroup-Cz4KrcLa.js";const O={class:"d-flex mb-6"},P={__name:"support-ticket-list",setup(R){const p=j([]),T=async()=>{try{const l=await V("/getClientSupportTickets",{method:"POST"});l&&l.client_tickets&&l.client_tickets.data?p.value=l.client_tickets.data:console.warn("Client tickets data not found:",l)}catch(l){console.error("Error fetching Support Ticket list:",l)}};F(()=>{T()});const C=async l=>{try{console.log(l);const a=await V(`/getClientTicketMessages/${l}`,{method:"GET",onResponseError({response:i}){console.error("Error response:",i)}});a&&console.log(a)}catch(a){console.error("Error fetching Support Ticket list:",a)}};return(l,a)=>{const i=g,f=y;return m(),k(S,null,[c("section",null,[c("div",O,[e(_,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(n,null,{default:t(()=>[e(d,null,{default:t(()=>[r(" Support Ticket ")]),_:1})]),_:1})]),_:1})]),_:1})])]),e(n,{class:"mb-6"},{default:t(()=>[e(d,null,{default:t(()=>[e(_,null,{default:t(()=>[e(s,{cols:"12",sm:"2"},{default:t(()=>[e(i,{label:"Entity",modelValue:l.selectedEntity,"onUpdate:modelValue":a[0]||(a[0]=o=>l.selectedEntity=o),placeholder:"Entity",items:l.entity_list,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:t(()=>[e(i,{modelValue:l.selectedSubject,"onUpdate:modelValue":a[1]||(a[1]=o=>l.selectedSubject=o),label:"Subject",placeholder:"Subject",items:l.subject_list,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:t(()=>[e(i,{modelValue:l.selectedStatus,"onUpdate:modelValue":a[2]||(a[2]=o=>l.selectedStatus=o),label:"Status",placeholder:"Status",items:l.status_list,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:t(()=>[e(f,{modelValue:l.selectedFromDate,"onUpdate:modelValue":a[3]||(a[3]=o=>l.selectedFromDate=o),label:"Ticket Created From",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:t(()=>[e(f,{modelValue:l.selectedToDate,"onUpdate:modelValue":a[4]||(a[4]=o=>l.selectedToDate=o),label:"Ticket Created To",placeholder:"Select date",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(D)]),_:1}),e(n,{class:"custom-card"},{default:t(()=>[e(v,null,{default:t(()=>[e(I,null,{default:t(()=>[r("INBOX")]),_:1}),e(E,null,{default:t(()=>[r(" Messages ")]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(w,{class:"card-list"},{default:t(()=>[(m(!0),k(S,null,U(p.value,o=>(m(),z(L,{key:o.ticket_id},{prepend:t(()=>[e(b,{rounded:"",size:"34",color:"secondary",variant:"tonal",class:"me-1"},{default:t(()=>[e(N,{size:"22"})]),_:1})]),append:t(()=>[e(b,{size:"38",color:"secondary",variant:"tonal",class:"me-1",rounded:""},{default:t(()=>[e(M,{size:"x-small",label:"Ticket ID"},{default:t(()=>[r(u(o.ticket_id),1)]),_:2},1024)]),_:2},1024),c("span",null,[e(A,{icon:"tabler-user-plus",variant:"outlined",color:"success",onClick:G=>C(o.ticket_id)},null,8,["onClick"])])]),default:t(()=>[e($,{class:"font-weight-medium me-2"},{default:t(()=>[r(u(o.client_name),1)]),_:2},1024),e(B,{class:"font-weight-medium me-2"},{default:t(()=>[r(u(o.email),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})],64)}}},De=h(P,[["__scopeId","data-v-e3d6f0d0"]]);export{De as default};
