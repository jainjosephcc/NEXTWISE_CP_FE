import{f as Fe}from"./formatters-MfVJSZma.js";import{_ as $e}from"./ConfirmDialog-DTjq62H2.js";import{_ as Ee}from"./DialogCloseBtn-BwY9-iph.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as j,b as je}from"./VCard-D7qQTl7j.js";import{V as de}from"./VCardTitle-ByxFLjtO.js";import{V as ie}from"./VDivider-ct61W42j.js";import{V as oe,a as h}from"./VRow-Cfalt0VA.js";import{V as Te}from"./VSkeletonLoader-dUicmzDN.js";import{V as X}from"./VCardText-Cu1A2p50.js";import{r as s,o as v,c as q,b as e,e as l,d as t,t as d,F as ge,h as Ve,f as O,x as Pe,H as Ge,v as c,ah as _,w as Ce,b0 as Xe,y as A,m as N,$ as ke,b9 as ze,ba as Ae,a4 as Ue,E as Ke}from"./index-BOEtP-vQ.js";import{V as ue}from"./VDialog-CSR0sace.js";import{_ as Qe,a as He}from"./AddSlavesDialog-D8wAjGPR.js";import{r as he}from"./validators-DpYrMFzk.js";import{_ as Ye}from"./AppSelect-Cl6HxbQQ.js";import{_ as Ie}from"./AppTextField-DKJnmTOJ.js";import{$ as ae}from"./api-DKU2c_97.js";import{V as Je}from"./VForm-B3eAN-6D.js";import{V as Be}from"./VTable-d4c6nSqr.js";import{a as be,b as xe}from"./VList-Cx8ZpknI.js";import{V as K}from"./VAvatar-4Kvzh9ag.js";import{V as se}from"./VChip-BSWb23AE.js";import{V as ye}from"./VImg-CA8IuiYj.js";import{V as _e}from"./VSwitch-Bq4x6lDO.js";import{V as Ze}from"./VPagination-BokvTrni.js";import"./helpers-DK5QwNv0.js";import"./createSimpleFunctional-BVEdWqLB.js";/* empty css              */import"./VOverlay-DJ7nF4XL.js";import"./easing-CjukEv2V.js";import"./lazy-PN5-REnJ.js";import"./scopeId-Cur9i-dl.js";import"./transition-DsC3VmLB.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-CDzkOlQm.js";import"./VSlideGroup-jwesl6Ba.js";import"./index-DdTD1XfB.js";import"./VSlideGroupItem-BNokbf93.js";import"./AppTextarea-lBmnsRoh.js";import"./form-CseWHeeO.js";import"./VTextarea-Bl_Bu74p.js";/* empty css                   */import"./VCounter-XmrXUFzL.js";import"./VField-BBTESSfe.js";import"./VInput-B0KZ_kJr.js";import"./VCheckbox-1LAilmV0.js";import"./VCheckboxBtn-BGxdUy4v.js";import"./VSelectionControl-fLItKvg2.js";import"./VSpacer-DyJ6DYU3.js";import"./VSelect-vlfTTGeh.js";import"./VTextField-B-kj7Uh1.js";import"./VMenu-DyyTCiwk.js";import"./index-B3bPRkoL.js";import"./ssrBoot-CmZJdz4s.js";const el={class:"sticky-card"},ll={key:0,class:"pa-3 pa-sm-4"},tl={class:"text-base font-weight-medium"},al={__name:"changeMasterSlaveDialog",props:{isDialogVisible:{type:Boolean,required:!0},masterList:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(f,{emit:Q}){const C=s(0),b=f,k=Q,g=I=>{k("update:isDialogVisible",I)};function m(){k("masterChanged",b.masterList[C.value].id),g()}return(I,p)=>{const M=Ee;return v(),q("section",null,[e(ue,{width:I.$vuetify.display.smAndDown?"auto":650,"model-value":b.isDialogVisible,"onUpdate:modelValue":g},{default:l(()=>[e(M,{onClick:p[0]||(p[0]=x=>g(!1))}),e(j,null,{default:l(()=>[t("div",el,[e(de,{class:"pt-3"},{default:l(()=>[d("Change Master ")]),_:1}),e(ie)]),e(je,{class:"pt-5 pb-5"},{default:l(()=>[d("Select Master")]),_:1}),f.masterList?(v(),q("div",ll,[e(oe,null,{default:l(()=>[(v(!0),q(ge,null,Ve(f.masterList,(x,y)=>(v(),O(h,{key:x.id,cols:"12",sm:"4",md:"4"},{default:l(()=>[e(j,{class:Pe(["d-flex flex-column justify-center align-center cursor-pointer rounded px-1",C.value===y?"border":"border border-dashed"]),style:Ge(C.value===y?"border-color: rgb(var(--v-theme-primary)) !important":""),onClick:B=>C.value=y},{default:l(()=>[e(de,{class:"text-center"},{default:l(()=>[t("h6",tl,c(x.mc_name),1)]),_:2},1024)]),_:2},1032,["class","style","onClick"])]),_:2},1024))),128))]),_:1})])):(v(),q(ge,{key:1},Ve(3,x=>e(Te,{key:x,type:"list-item-two-line"})),64)),e(X,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(_,{variant:"tonal",color:"secondary",onClick:p[1]||(p[1]=x=>g(!1))},{default:l(()=>[d(" Close ")]),_:1}),e(_,{color:"primary",onClick:p[2]||(p[2]=x=>m())},{default:l(()=>[d(" Change Master ")]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}},sl=Le(al,[["__scopeId","data-v-f839803a"]]),Re=f=>(ze("data-v-2bc61d8f"),f=f(),Ae(),f),ol={class:"sticky-card"},il=Re(()=>t("span",{class:"text-body"},"Master Name :",-1)),nl={class:"d-flex align-center"},rl={class:"text-body-1"},ul={class:"d-flex align-center gap-x-2"},dl={class:"text-body-1"},cl={class:"pr-1"},ml={class:"d-flex align-center"},vl={class:"text-body-1"},pl={class:"d-flex align-center gap-x-2"},fl={class:"text-body-1"},_l={key:0,class:"error-message"},gl={class:"text-h4 mb-4"},hl=Re(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),bl={class:"text-h4 mb-4"},xl={__name:"EditSlavesDialog",props:{isDialogVisible:{type:Boolean,required:!0},masterDetails:{type:Object,required:!0},slaveList:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(f,{emit:Q}){const C=s(null),b=s("");s(null),s(!0),s(null);const k=s(!1),g=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],m=s(null),I=s(0),p=s(!1),M=s(!1),x=s(!1),y=s(!1),B=s(0),W=s(!1),w=s(!1),H=s(!1);let re=s(""),V=s(""),D=s(""),Y=s("");const U=s(!1),J=s(null);s(null);const P=s(null),Z=s(null),ee=s(!1),$=f,ce=Q,me=u=>{ce("update:isDialogVisible",u)},S=u=>/^(\d+|\d*\.\d{1,2})$/.test(u.toString())||"Must be a number with up to 2 decimal places";Ce(()=>$.slaveList,u=>{u&&(C.value=u.id||"",k.value=u.is_config_unique===1,b.value=u.sl_mt5_id||"",m.value=u.risk_approach,I.value=u.multiplier,J.value=u.lot_size,p.value=u.copy_sl===1,M.value=u.copy_tp===1,x.value=u.is_reverse===1,B.value=u.fixed_balance,P.value=u.commission_percentage??"",y.value=u.status===1)},{immediate:!0});const E=async u=>{var n,T;if(u){U.value=!0;try{await ae("slaves/update",{method:"POST",body:{id:$.slaveList.id,master_id:(n=$.masterDetails)==null?void 0:n.id,sl_mt5_id:b.value,server_id:(T=$.masterDetails)==null?void 0:T.server_id,is_config_unique:k.value,risk_approach:m.value,lot_size:J.value,multiplier:I.value,fixed_balance:B.value,copy_sl:p.value,copy_tp:M.value,is_reverse:x.value,status:y.value,is_live:!0,commission_percentage:P.value},onResponseError({response:pe}){re.value="Something Went Wrong!",V.value=pe._data.message,U.value=!1,w.value=!0}})&&(D.value="Success!",Y.value="Slave Updated Successfully!",U.value=!1,H.value=!0)}catch{re.value="Something Went Wrong!",V.value="Something Went Wrong!",U.value=!1,w.value=!0}}};Ce(b,()=>{$.masterDetails.mc_mt5_id==b.value?(Z.value="Master ID and Slave ID cannot be the same",ee.value=!0):(Z.value=null,ee.value=!1)});const ve=()=>{ce("reload",$.masterDetails.id),H.value=!1,w.value=!1,me(!1)};return(u,n)=>{const T=Ee,F=Ie,pe=Ye,De=$e;return v(),q("section",null,[e(ue,{width:u.$vuetify.display.smAndDown?"auto":650,"model-value":$.isDialogVisible,"onUpdate:modelValue":me},{default:l(()=>[e(T,{onClick:n[0]||(n[0]=r=>me(!1))}),e(j,null,{default:l(()=>[t("div",ol,[e(de,{class:"pt-3"},{default:l(()=>[d("Edit Slave Account")]),_:1}),e(ie)]),e(Je,{onSubmit:Xe(()=>{},["prevent"])},{default:l(()=>[e(oe,null,{default:l(()=>[e(Be,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(be,null,{append:l(()=>[t("div",nl,[t("div",rl,c(f.masterDetails.mc_name),1)])]),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(K,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),il]),_:1})]),_:1})]),t("td",null,[e(be,null,{append:l(()=>[t("div",ul,[t("div",dl,[e(se,{size:"medium",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[t("div",cl,[e(ye,{src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}})]),d(" "+c(f.masterDetails.mc_mt5_id),1)]),_:1})])])]),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(K,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),d(" MT5 ACCOUNT : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(be,null,{append:l(()=>{var r,le;return[t("div",ml,[t("div",vl,c((le=(r=f.masterDetails)==null?void 0:r.server)==null?void 0:le.company_name),1)])]}),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(K,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),d(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(be,null,{append:l(()=>{var r,le;return[t("div",pl,[t("div",fl,c((le=(r=f.masterDetails)==null?void 0:r.server)==null?void 0:le.server_name),1)])]}),default:l(()=>[e(xe,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(K,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),d(" Server Name : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(ie,{class:"mb-2"}),e(oe,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(h,{cols:"6"},{default:l(()=>[t("div",null,[e(F,{label:"MT5 ID",modelValue:b.value,"onUpdate:modelValue":n[1]||(n[1]=r=>b.value=r),disabled:""},null,8,["modelValue"])]),Z.value?(v(),q("div",_l,c(Z.value),1)):A("",!0)]),_:1}),e(h,{cols:"6"},{default:l(()=>[e(F,{label:"Commission",modelValue:P.value,"onUpdate:modelValue":n[2]||(n[2]=r=>P.value=r),suffix:"%"},null,8,["modelValue"])]),_:1}),e(h,{cols:"6"},{default:l(()=>[e(pe,{modelValue:m.value,"onUpdate:modelValue":n[3]||(n[3]=r=>m.value=r),items:g,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in u?u.requiredValidator:N(he)]},null,8,["modelValue","rules"])]),_:1}),m.value==="FIXL"?(v(),O(h,{key:0,cols:"6",class:""},{default:l(()=>[e(F,{label:"Lot Size",modelValue:J.value,"onUpdate:modelValue":n[4]||(n[4]=r=>J.value=r),type:"number",min:"0",rules:["requiredValidator"in u?u.requiredValidator:N(he),S]},null,8,["modelValue","rules"])]),_:1})):A("",!0),m.value==="LMUL"||m.value==="BMUL"||m.value==="EMUL"||m.value==="FBMUL"?(v(),O(h,{key:1,cols:"6",class:""},{default:l(()=>[e(F,{label:"Multiplier",modelValue:I.value,"onUpdate:modelValue":n[5]||(n[5]=r=>I.value=r),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in u?u.requiredValidator:N(he),S]},null,8,["modelValue","rules"])]),_:1})):A("",!0),m.value==="FBMUL"?(v(),O(h,{key:2,cols:"6"},{default:l(()=>[e(F,{label:"Fixed Master Balance",modelValue:B.value,"onUpdate:modelValue":n[6]||(n[6]=r=>B.value=r),type:"number",min:"0",rules:["requiredValidator"in u?u.requiredValidator:N(he),S]},null,8,["modelValue","rules"])]),_:1})):A("",!0)]),_:1}),k.value?(v(),O(de,{key:0,class:"mt-2"},{default:l(()=>[d("Advanced Settings")]),_:1})):A("",!0),k.value?(v(),O(oe,{key:1,class:"ml-2"},{default:l(()=>[e(h,{cols:"4"},{default:l(()=>[e(_e,{modelValue:p.value,"onUpdate:modelValue":n[7]||(n[7]=r=>p.value=r),label:"Copy Stop Loss"},null,8,["modelValue"])]),_:1}),e(h,{cols:"4"},{default:l(()=>[e(_e,{modelValue:M.value,"onUpdate:modelValue":n[8]||(n[8]=r=>M.value=r),label:"Copy Take Profit"},null,8,["modelValue"])]),_:1}),e(h,{cols:"4"},{default:l(()=>[e(_e,{modelValue:x.value,"onUpdate:modelValue":n[9]||(n[9]=r=>x.value=r),label:"Reverse Trade"},null,8,["modelValue"])]),_:1})]),_:1})):A("",!0),e(oe,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(h,{cols:"6"},{default:l(()=>[e(_e,{modelValue:y.value,"onUpdate:modelValue":n[10]||(n[10]=r=>y.value=r),label:y.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(oe,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(h,{cols:"6"},{default:l(()=>[e(_,{color:"primary",onClick:n[11]||(n[11]=r=>W.value=!0),loading:U.value,disabled:ee.value},{default:l(()=>[d(" Update Slave ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(De,{isDialogVisible:W.value,"onUpdate:isDialogVisible":n[12]||(n[12]=r=>W.value=r),onConfirm:E,"confirmation-question":"Do you want to update this slave?","cancel-title":"Cancel","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(ue,{modelValue:H.value,"onUpdate:modelValue":n[13]||(n[13]=r=>H.value=r),"max-width":"500"},{default:l(()=>[e(j,null,{default:l(()=>[e(X,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(ke,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",gl,c(N(D)),1),t("p",null,c(N(Y)),1),e(_,{color:"success",onClick:ve},{default:l(()=>[d("OK")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ue,{modelValue:w.value,"onUpdate:modelValue":n[14]||(n[14]=r=>w.value=r),"max-width":"500"},{default:l(()=>[e(j,null,{default:l(()=>[e(X,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[hl]),_:1}),t("h1",bl,c(N(re)),1),t("p",null,c(N(V)),1),e(_,{color:"success",onClick:ve},{default:l(()=>[d("Ok")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},yl=Le(xl,[["__scopeId","data-v-2bc61d8f"]]),ne=f=>(ze("data-v-009ea103"),f=f(),Ae(),f),Vl={class:"d-flex justify-space-between align-center border-r pb-3"},Dl={class:"d-flex flex-column mb-6 align-items-start"},Sl={class:"d-flex align-items-center"},Cl={class:"text-h5 m-0",style:{"margin-right":"55px"}},kl=ne(()=>t("span",{class:"text-body-1 text-capitalize mt-2"},"MASTER ACCOUNT ID",-1)),Ll={class:"d-flex flex-column align-center pb-6"},Ml={class:"d-flex justify-space-between align-center border-r"},wl={class:"d-flex flex-column"},Ul={class:"text-h5"},$l=ne(()=>t("span",{class:"text-body-1 text-capitalize"},"Master",-1)),El={class:"d-flex justify-space-between align-center border-r"},Tl={class:"d-flex flex-column"},zl={class:"text-h6"},Al=ne(()=>t("span",{class:"text-body-2 text-capitalize"},"Server",-1)),Il={class:"d-flex justify-space-between align-center border-r"},Bl={class:"d-flex flex-column"},Rl={class:"text-h5"},Nl=ne(()=>t("span",{class:"text-body-1 text-capitalize"},"Manager",-1)),Ol={class:"d-flex flex-column align-end"},ql={class:"d-flex gap-4 align-center flex-wrap"},Wl={class:"d-flex align-items-center gap-2"},Fl={class:"text-warning"},jl={class:"d-flex align-center flex-wrap gap-4"},Pl={class:"invoice-list-filter"},Gl=ne(()=>t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"SLAVE ACCOUNT"),t("th",null,"STRATEGY"),t("th",null,"VALUE"),t("th",null,"COMMISSION"),t("th",null,"ADDITIONAL SETTINGS"),t("th",null,"STATUS"),t("th",null,"ACTION")])],-1)),Xl={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Kl=ne(()=>t("br",null,null,-1)),Ql={class:"pr-1"},Hl={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},Yl={class:"text-h4 mb-4"},Jl=ne(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),Zl={class:"text-h4 mb-4"},et={__name:"index",setup(f){const Q=s(!1),C=s({}),b=s([]),k=s([]),g=s({}),m=s([]),I=s([]),p=s(!1),M=s(!1),x=s(null),y=s(!1),B=s(!1),W=s(""),w=s(""),H=s(""),re=s(""),V=s(""),D=s(!1),Y=s(!1),U=s(!1),J=s(null),P=s(!1),Z=s(!1);s(null);const ee=s(!1),$=s(!1),ce=s(!1);Ue(()=>ce.value?"Active":"Turn on the progress"),Ue(()=>ce.value),Ke(async()=>{await u()});const me="NEXTWISEMARKETS",S=s(15),E=s(1),ve=s(0),u=async()=>{try{const o=await ae("/meta-servers",{method:"GET",onResponseError({response:i}){console.error("Error fetching server list:",i)}});b.value=o.data,b.value.length&&(C.value=b.value[0],Y.value=C.value.id,await n(C.value.id))}catch(o){console.error("Error fetching server list:",o)}},n=async()=>{try{const o=await ae(`/masters?server_id=${Y.value}`,{method:"GET",onResponseError({response:i}){console.error("Error response:",i)}});o?(k.value=o.data,g.value=k.value[0],D.value=g.value.id,I.value=o.data.map(i=>({text:i.mc_name,value:i.id})),await T(D.value,S.value,E.value,V.value)):console.error("Failed to fetch master list or empty response")}catch(o){console.error("Error fetching master list:",o)}},T=async(o,i,z,L)=>{U.value=!0;try{let R=`/slaves?master_id=${o}&per_page=${i}&page=${z}`;V.value.length>1&&(R+=`&search=${encodeURIComponent(V.value)}`);const G=await ae(R,{method:"GET",onResponseError({response:fe}){console.error("Error fetching slave data:",fe)}});m.value=[],G&&G.data?(m.value=G.data.data,ve.value=G.data.total,S.value=G.data.per_page,U.value=!1):(console.error("No data found in the response"),U.value=!1),m.value=G.data.data.map(fe=>({...fe,loading:!1}))}catch(R){console.error("Error fetching slave data:",R),U.value=!1}},F=o=>{Y.value=o,C.value=b.value.find(i=>i.id===Y.value),n()};function pe(o){x.value=o,Q.value=!0}const De=o=>{D.value=o,g.value=k.value.find(i=>i.id===D.value),T(D.value,S.value,E.value,V.value)};function r(){ee.value=!0}function le(o){J.value=o.id,D.value=o.master_id,P.value=!0,T(D.value,S.value,E.value,V.value)}const Ne=async o=>{if(o){y.value=!0;try{await ae("slaves/delete",{method:"POST",body:{id:J.value},onResponseError({response:z}){W.value="Something Went Wrong !",w.value=z._data.message,y.value=!1,p.value=!0}})&&(H.value="Success !",re.value="Slave Deleted Successfully !",y.value=!1,M.value=!0)}catch{W.value="Something Went Wrong !",w.value="Something Went Wrong !",y.value=!1,p.value=!0}}},Me=async o=>{M.value=!1,p.value=!1,T(D.value,S.value,E.value,V.value),Se.value=!1};Ce([E,S,V],()=>{T(D.value,S.value,E.value,V.value)},{deep:!0,immediate:!1});const Oe=async()=>{$.value=!0;try{const o=`/masters/${D.value}/slaves-report`,i=await ae(o,{method:"GET",onResponseError({response:z}){console.error("Error fetching slave data:",z)}});if(i){const z=new Blob([i],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),R=URL.createObjectURL(z);L.setAttribute("href",R),L.setAttribute("download","slaves_report.csv"),document.body.appendChild(L),L.click(),document.body.removeChild(L),$.value=!1}else console.error("No data found in the response")}catch(o){console.error("Error fetching slave data:",o)}},we=o=>{B.value=!1,T(o,S.value,E.value,V.value),Se.value=!1},Se=s(!1);function qe(o){o.loading=!0,D.value=o.master_id;const i={...o,loading:!0};console.log(o,"slaa"),Se.value=!0;try{if(ae("slaves/update",{method:"POST",body:{id:o.id,master_id:o.master_id,sl_mt5_id:o.sl_mt5_id,server_id:o.server_id,is_config_unique:o.is_config_unique,risk_approach:o.risk_approach,lot_size:o.lot_size,multiplier:o.multiplier,fixed_balance:o.fixed_balance,copy_sl:o.copy_sl,copy_tp:o.copy_tp,is_reverse:o.is_reverse,status:o.status,is_live:o.is_live,commission_percentage:o.commission_percentage},onResponseError({response:L}){W.value="Something Went Wrong!",w.value="Something Went Wrong!",p.value=!0,o.loading=!1}})){i.status=o.status,i.loading=!1;const L=m.value.findIndex(R=>R.id===o.id);L!==-1&&m.value.splice(L,1,i)}}catch{W.value="Something Went Wrong!",w.value="Something Went Wrong!",p.value=!0,i.loading=!1}finally{i.loading=!1}}return(o,i)=>{const z=Ie,L=Qe,R=yl,G=He,fe=sl,We=$e;return v(),q(ge,null,[t("section",null,[e(j,{class:"mb-6"},{default:l(()=>[e(X,{class:"px-3"},{default:l(()=>[e(oe,null,{default:l(()=>[e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>{var a;return[t("div",Vl,[t("div",Dl,[t("div",Sl,[e(ye,{src:"/images/svg/mt5_lined.svg",style:{width:"30px",height:"30px","margin-right":"8px"}}),t("h5",Cl,c(((a=g.value)==null?void 0:a.mc_mt5_id)||"--"),1)]),kl]),t("div",Ll,[e(_,{icon:"tabler-refresh",rounded:"",color:"primary",onClick:r})])])]}),_:1}),e(ie,{vertical:""}),e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>{var a;return[t("div",Ml,[t("div",wl,[t("h5",Ul,c(((a=g.value)==null?void 0:a.mc_name)||"--"),1),$l]),e(se,{color:"primary",outlined:""},{default:l(()=>[d(" ACTIVE ")]),_:1})])]}),_:1}),e(ie,{vertical:""}),e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",El,[t("div",Tl,[t("h5",zl,c(N(me)),1),Al]),e(K,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(ke,{icon:"tabler-server-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(ie,{vertical:""}),e(h,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",Il,[t("div",Bl,[t("h5",Rl,c(C.value.manager_name),1),Nl]),t("div",Ol,[e(_,{icon:"tabler-user",rounded:"",variant:"outlined",color:"secondary"})])])]),_:1})]),_:1})]),_:1})]),_:1}),e(j,{id:"invoice-list"},{default:l(()=>[e(X,{class:"d-flex justify-space-between align-center flex-wrap"},{default:l(()=>[t("div",ql,[t("div",Wl,[e(de,{class:"d-flex align-items-center mr-0"},{default:l(()=>[d(" Mapped Slave Accounts : ")]),_:1}),e(de,{class:"d-flex text-warning"},{default:l(()=>{var a;return[d(c((a=g.value)==null?void 0:a.mc_name)+" ",1),e(se,{class:"d-flex align-items-center ml-3",variant:"outlined",color:"warning"},{default:l(()=>{var te;return[e(ye,{src:"/images/svg/mt5_lined.svg",style:{width:"24px",height:"24px","margin-right":"8px"}}),t("h3",Fl,c(((te=g.value)==null?void 0:te.mc_mt5_id)||"--"),1)]}),_:1})]}),_:1})])]),t("div",jl,[t("div",Pl,[e(z,{modelValue:V.value,"onUpdate:modelValue":i[0]||(i[0]=a=>V.value=a),placeholder:"Search Slave Account"},null,8,["modelValue"])]),e(_,{onClick:i[1]||(i[1]=a=>B.value=!0)},{default:l(()=>[d(" Add Slave Account ")]),_:1}),e(_,{onClick:Oe,loading:$.value},{default:l(()=>[d(" Download ")]),_:1},8,["loading"])])]),_:1}),e(ie),m.value.length>0?(v(),O(Be,{key:0,height:"800","fixed-header":"",class:"text-no-wrap"},{default:l(()=>[Gl,t("tbody",null,[(v(!0),q(ge,null,Ve(m.value,a=>(v(),q("tr",{key:a.id},[t("td",Xl,[e(se,{size:"x-small"},{default:l(()=>[d(c(a.id),1)]),_:2},1024),Kl,d(" "+c(("formatDateToMonthShort"in o?o.formatDateToMonthShort:N(Fe))(a.created_at)),1)]),t("td",null,[e(se,{size:"medium",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[t("div",Ql,[e(ye,{src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}})]),d(" "+c(a.sl_mt5_id),1)]),_:2},1024)]),t("td",null,c(a.risk_approach),1),t("td",null,c(a.risk_approach==="FBMUL"?`${a.fixed_balance} USD`:a.risk_approach==="FIXL"?`${a.lot_size} Lots`:a.risk_approach==="LMUL"||a.risk_approach==="BMUL"||a.risk_approach==="EMUL"?`${a.multiplier} %`:"N/A"),1),t("td",null,[d(c(a.commission_percentage)+"% ",1),a.commission_type==="ONPROFIT"?(v(),O(se,{key:0,size:"x-small"},{default:l(()=>[d(" OnProfit ")]),_:1})):A("",!0),a.commission_type==="ONNET"?(v(),O(se,{key:1,size:"x-small"},{default:l(()=>[d(" OnNet ")]),_:1})):A("",!0)]),t("td",null,[e(K,{rounded:"",color:a.is_reverse===1?"success":"error",icon:"tabler-a-b-2",variant:(a.is_reverse===1,"outlined"),class:"me-1",size:"30"},null,8,["color","variant"]),e(K,{rounded:"",color:a.copy_sl===1?"success":"error",variant:(a.copy_sl===1,"outlined"),class:"me-1 ms-2",size:"30"},{default:l(()=>[d("SL ")]),_:2},1032,["color","variant"]),e(K,{rounded:"",color:a.copy_tp===1?"success":"error",variant:(a.copy_tp===1,"outlined"),class:"me-1 ms-2",size:"30"},{default:l(()=>[d("TP ")]),_:2},1032,["color","variant"])]),t("td",null,[e(_e,{modelValue:a.status,"onUpdate:modelValue":te=>a.status=te,"true-value":1,"false-value":0,onChange:te=>qe(a),loading:a.loading},{label:l(()=>[t("span",null,c(a.loading?"Loading":a.status===1?"Active":"Disabled"),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","loading"])]),t("td",null,[e(_,{color:"secondary",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-edit",onClick:te=>pe(a)},null,8,["onClick"]),e(_,{color:"error",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-trash",onClick:te=>le(a),loading:y.value},null,8,["onClick","loading"])])]))),128))])]),_:1})):A("",!0),U.value?(v(),q(ge,{key:1},Ve(3,a=>e(Te,{key:a,type:"table-tbody"})),64)):A("",!0),m.value.length>0?(v(),O(X,{key:2,class:"pt-2"},{default:l(()=>[t("div",Hl,[e(Ze,{modelValue:E.value,"onUpdate:modelValue":i[2]||(i[2]=a=>E.value=a),"total-visible":o.$vuetify.display.smAndDown?3:5,length:Math.ceil(ve.value/S.value)},null,8,["modelValue","total-visible","length"])])]),_:1})):A("",!0)]),_:1})]),e(L,{isDialogVisible:B.value,"onUpdate:isDialogVisible":i[3]||(i[3]=a=>B.value=a),masterDetails:g.value,onReload:we},null,8,["isDialogVisible","masterDetails"]),e(R,{isDialogVisible:Q.value,"onUpdate:isDialogVisible":i[4]||(i[4]=a=>Q.value=a),masterDetails:g.value,slaveList:x.value,onReload:we},null,8,["isDialogVisible","masterDetails","slaveList"]),e(G,{isDialogVisible:Z.value,"onUpdate:isDialogVisible":i[5]||(i[5]=a=>Z.value=a),serverDetails:b.value,onServerChanged:F},null,8,["isDialogVisible","serverDetails"]),e(fe,{isDialogVisible:ee.value,"onUpdate:isDialogVisible":i[6]||(i[6]=a=>ee.value=a),masterList:k.value,onMasterChanged:De},null,8,["isDialogVisible","masterList"]),e(We,{isDialogVisible:P.value,"onUpdate:isDialogVisible":i[7]||(i[7]=a=>P.value=a),onConfirm:Ne,"confirmation-question":"Are you want to delete slave?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(ue,{modelValue:M.value,"onUpdate:modelValue":i[9]||(i[9]=a=>M.value=a),"max-width":"500"},{default:l(()=>[e(j,null,{default:l(()=>[e(X,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(ke,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",Yl,c(H.value),1),t("p",null,c(re.value),1),e(_,{color:"success",onClick:i[8]||(i[8]=a=>Me())},{default:l(()=>[d(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ue,{modelValue:p.value,"onUpdate:modelValue":i[10]||(i[10]=a=>p.value=a),"max-width":"500"},{default:l(()=>[e(j,null,{default:l(()=>[e(X,{class:"text-center px-10 py-6"},{default:l(()=>[e(_,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Jl]),_:1}),t("h1",Zl,c(W.value),1),t("p",null,c(w.value),1),e(_,{color:"success",onClick:Me},{default:l(()=>[d(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},la=Le(et,[["__scopeId","data-v-009ea103"]]);export{la as default};
