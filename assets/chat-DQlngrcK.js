import{a as O,f as G,b as ae}from"./formatters-MfVJSZma.js";import{a as R,m as e,o as r,c as p,d as a,b as s,e as n,a0 as h,x as T,f as $,v,ai as L,t as N,F as z,y as U,a5 as E,r as w,E as oe,bn as ne,aV as S,I as Q,J as W,h as F,bo as le,bf as ie,w as re,aL as ce,bp as X,b0 as de,a_ as Y}from"./index-D1wpZbIu.js";import{P as j}from"./vue3-perfect-scrollbar.esm-DH6KFdvO.js";import{u as M}from"./useChatStore-DlgJ_Z0-.js";import{V as A}from"./VAvatar-BdL9cLqL.js";import{V as B}from"./VImg-CZeKFoIy.js";import{V as I}from"./VBadge-DLepwIxP.js";import{_ as ue}from"./AppTextField--9boQEHq.js";import{$ as he}from"./api-CZThb0As.js";import{V as ee}from"./VDivider-5x_iBr5U.js";import{_ as me}from"./AppTextarea-B-pRGOv4.js";import{V as fe,a as pe}from"./VRadioGroup-BTIasbg7.js";import{V as Z}from"./VSwitch-Cv-6bv0I.js";import{u as ve}from"./useResponsiveSidebar-hP8xkKNA.js";import{V as J}from"./VNavigationDrawer-Dlex59De.js";import{V as _e}from"./VSpacer-4nysU2Pe.js";import{V as be}from"./VForm-HpC9CO4V.js";import{V as xe}from"./VTextField-75lvywKs.js";import{a as ge,V as Ce}from"./VMain-uaMubkUx.js";import"./helpers-DK5QwNv0.js";import"./useApi-Bq6kd8Rt.js";import"./createUrl-R9pu32j9.js";import"./index-B3bPRkoL.js";import"./transition-DI64r8B2.js";import"./form-C-VBVvQU.js";import"./VTextarea-Fo-SiG6F.js";/* empty css                   */import"./VCounter-D0lpfgDN.js";import"./index-qHcCSCd7.js";import"./VField-BKmLkQ-8.js";import"./easing-CjukEv2V.js";import"./VInput-BRlakMdJ.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-DyTeC7vw.js";import"./scopeId-DuQ8HD0W.js";import"./ssrBoot-bsSlj0BA.js";/* empty css              */import"./createSimpleFunctional-CHDm7OKT.js";const P=()=>({resolveAvatarBadgeVariant:i=>i==="online"?"success":i==="busy"?"error":i==="away"?"warning":"secondary"}),ye={class:"text-center px-6"},$e={key:1,class:"text-3xl"},ke={class:"text-h5"},Ve={class:"text-capitalize text-body-1 mb-0"},we={class:"my-6"},Se=a("div",{class:"text-sm text-disabled"}," ABOUT ",-1),Ue={class:"mt-1 mb-6"},Te={class:"mb-6"},Ie=a("div",{class:"text-sm text-disabled mb-1"}," PERSONAL INFORMATION ",-1),Ae={class:"d-flex align-center text-high-emphasis pa-2"},De=a("div",{class:"text-base"}," lucifer@email.com ",-1),ze={class:"d-flex align-center text-high-emphasis pa-2"},Be=a("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1),Me={class:"d-flex align-center text-high-emphasis pa-2"},Ne=a("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1),Oe=a("div",{class:"text-sm text-disabled mb-1"}," OPTIONS ",-1),Pe={class:"d-flex align-center text-high-emphasis pa-2"},Le=a("div",{class:"text-base"}," Add Tag ",-1),Ee={class:"d-flex align-center text-high-emphasis pa-2"},Fe=a("div",{class:"text-base"}," Important Contact ",-1),Re={class:"d-flex align-center text-high-emphasis pa-2"},je=a("div",{class:"text-base"}," Shared Media ",-1),qe={class:"d-flex align-center text-high-emphasis pa-2"},Je=a("div",{class:"text-base"}," Delete Contact ",-1),He={class:"d-flex align-center text-high-emphasis pa-2"},Ke=a("div",{class:"text-base"}," Block Contact ",-1),Qe={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(V,{emit:i}){const t=M(),{resolveAvatarBadgeVariant:m}=P();return(g,c)=>{const f=R("IconBtn");return e(t).activeChat?(r(),p(z,{key:0},[a("div",{class:T(["pt-6 px-6",g.$vuetify.locale.isRtl?"text-left":"text-right"])},[s(f,{onClick:c[0]||(c[0]=l=>g.$emit("close"))},{default:n(()=>[s(h,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})],2),a("div",ye,[s(I,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(m)(e(t).activeChat.contact.status),class:"chat-user-profile-badge mb-5"},{default:n(()=>[s(A,{size:"84",variant:e(t).activeChat.contact.avatar?void 0:"tonal",color:e(t).activeChat.contact.avatar?void 0:e(m)(e(t).activeChat.contact.status)},{default:n(()=>[e(t).activeChat.contact.avatar?(r(),$(B,{key:0,src:e(t).activeChat.contact.avatar},null,8,["src"])):(r(),p("span",$e,v(("avatarText"in g?g.avatarText:e(O))(e(t).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",ke,v(e(t).activeChat.contact.fullName),1),a("p",Ve,v(e(t).activeChat.contact.role),1)]),s(e(j),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:n(()=>[a("div",we,[Se,a("p",Ue,v(e(t).activeChat.contact.about),1)]),a("div",Te,[Ie,a("div",Ae,[s(h,{class:"me-2",icon:"tabler-mail",size:"22"}),De]),a("div",ze,[s(h,{class:"me-2",icon:"tabler-phone",size:"22"}),Be]),a("div",Me,[s(h,{class:"me-2",icon:"tabler-clock",size:"22"}),Ne])]),a("div",null,[Oe,a("div",Pe,[s(h,{class:"me-2",icon:"tabler-badge",size:"22"}),Le]),a("div",Ee,[s(h,{class:"me-2",icon:"tabler-star",size:"22"}),Fe]),a("div",Re,[s(h,{class:"me-2",icon:"tabler-photo",size:"22"}),je]),a("div",qe,[s(h,{class:"me-2",icon:"tabler-trash",size:"22"}),Je]),a("div",He,[s(h,{icon:"tabler-ban",class:"me-2",size:"22"}),Ke]),s(L,{block:"",color:"error","append-icon":"tabler-trash",class:"mt-6"},{default:n(()=>[N(" Delete Contact ")]),_:1})])]),_:1})],64)):U("",!0)}}},We={key:1},Xe={class:"flex-grow-1 ms-4 overflow-hidden"},Ye={class:"text-base text-high-emphasis mb-0"},Ze={class:"mb-0 text-truncate text-body-2"},Ge={key:0,class:"d-flex flex-column align-self-start"},et={class:"text-body-2 text-disabled whitespace-no-wrap"},tt={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:Object,required:!0}},setup(V){const i=V,t=M(),{resolveAvatarBadgeVariant:m}=P(),g=E(()=>{var f,l;const c=((f=t.activeChat)==null?void 0:f.contact.id)===i.user.id;return(i.isChatContact||!((l=t.activeChat)!=null&&l.chat))&&c});return(c,f)=>(r(),p("li",{key:e(t).chatsContacts.length,class:T(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(g)}])},[s(I,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:"info",bordered:"","model-value":i.isChatContact},{default:n(()=>[s(A,{size:"40",variant:i.user.avatar?void 0:"tonal",color:i.user.avatar?void 0:e(m)(i.user.status)},{default:n(()=>[i.user.avatar?(r(),$(B,{key:0,src:i.user.avatar,alt:"John Doe"},null,8,["src"])):(r(),p("span",We,v(("avatarText"in c?c.avatarText:e(O))(V.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["model-value"]),a("div",Xe,[a("p",Ye,v(i.user.fullName),1),a("p",Ze,v(i.isChatContact&&"chat"in i.user?i.user.chat.lastMessage.message:i.user.about),1)]),i.isChatContact&&"chat"in i.user?(r(),p("div",Ge,[a("div",et,v(("formatDateToMonthShort"in c?c.formatDateToMonthShort:e(G))(i.user.chat.lastMessage.time)),1),i.user.chat.unseenMsgs?(r(),$(I,{key:0,color:"error",inline:"",content:i.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):U("",!0)])):U("",!0)],2))}},st={key:0,class:"chat-list-header"},at=a("li",{class:"list-none"},[a("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1),ot={key:1},nt={class:"flex-grow-1 ms-4 overflow-hidden"},lt={class:"text-base text-high-emphasis mb-0"},it={class:"mb-0 text-truncate text-body-2"},rt={key:0,class:"d-flex flex-column align-self-start"},ct={class:"text-body-2 text-disabled whitespace-no-wrap"},dt={class:"no-chat-items-text text-disabled"},ut=a("li",{class:"list-none pt-2"},[a("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1),ht={class:"no-chat-items-text text-disabled"},mt={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(V,{emit:i}){const t=V,m=i,g=w([]),c=async()=>{try{const o=await he("/getClientSupportTickets",{method:"POST"});o&&o.client_tickets&&o.client_tickets.data?g.value=o.client_tickets.data:console.warn("Client tickets data not found:",o)}catch(o){console.error("Error fetching Support Ticket list:",o)}};oe(()=>{c()});const{resolveAvatarBadgeVariant:f}=P(),l=ne(t,"search",m),u=M();return(o,C)=>{const b=ue,D=R("IconBtn");return r(),p(z,null,[e(u).profileUser?(r(),p("div",st,[s(I,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(f)(e(u).profileUser.status),bordered:""},{default:n(()=>[s(A,{size:"40",class:"cursor-pointer",onClick:C[0]||(C[0]=y=>o.$emit("showUserProfile"))},{default:n(()=>[s(B,{src:e(u).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),s(b,{modelValue:e(l),"onUpdate:modelValue":C[1]||(C[1]=y=>S(l)?l.value=y:null),placeholder:"Search...","prepend-inner-icon":"tabler-search",class:"ms-4 me-1 chat-list-search"},null,8,["modelValue"]),o.$vuetify.display.smAndDown?(r(),$(D,{key:0,onClick:C[2]||(C[2]=y=>o.$emit("close"))},{default:n(()=>[s(h,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})):U("",!0)])):U("",!0),s(ee),s(e(j),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:n(()=>[at,(r(),p("li",{key:e(u).chatsContacts.length,class:T(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":o.isChatContactActive}])},[s(I,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:"info",bordered:"","model-value":t.isChatContact},{default:n(()=>[s(A,{size:"40",variant:t.user.avatar?void 0:"tonal",color:t.user.avatar?void 0:e(f)(t.user.status)},{default:n(()=>[t.user.avatar?(r(),$(B,{key:0,src:t.user.avatar,alt:"John Doe"},null,8,["src"])):(r(),p("span",ot,v(("avatarText"in o?o.avatarText:e(O))(o.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["model-value"]),a("div",nt,[a("p",lt,v(t.user.fullName),1),a("p",it,v(t.isChatContact&&"chat"in t.user?t.user.chat.lastMessage.message:t.user.about),1)]),t.isChatContact&&"chat"in t.user?(r(),p("div",rt,[a("div",ct,v(("formatDateToMonthShort"in o?o.formatDateToMonthShort:e(G))(t.user.chat.lastMessage.time)),1),t.user.chat.unseenMsgs?(r(),$(I,{key:0,color:"error",inline:"",content:t.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):U("",!0)])):U("",!0)],2)),Q(a("span",dt,"No chats found",512),[[W,!e(u).chatsContacts.length]]),ut,(r(!0),p(z,null,F(e(u).contacts,y=>(r(),$(tt,{key:`chat-${y.id}`,user:y,onClick:q=>o.$emit("openChatOfContact",y.id)},null,8,["user","onClick"]))),128)),Q(a("span",ht,"No contacts found",512),[[W,!e(u).contacts.length]])]),_:1})],64)}}},ft={class:"chat-log pa-6"},pt={class:"mb-0 text-base"},vt={class:"text-sm ms-2 text-disabled"},_t={__name:"ChatLog",setup(V){const i=M(),t=E(()=>{var c,f;return{id:(c=i.activeChat)==null?void 0:c.contact.id,avatar:(f=i.activeChat)==null?void 0:f.contact.avatar}}),m=c=>c.isSeen?{icon:"tabler-checks",color:"success"}:c.isDelivered?{icon:"tabler-checks",color:void 0}:{icon:"tabler-check",color:void 0},g=E(()=>{let c=[];const f=[];if(i.activeChat.chat){c=i.activeChat.chat.messages;let l=c[0].senderId,u={senderId:l,messages:[]};c.forEach((o,C)=>{l===o.senderId?u.messages.push({message:o.message,time:o.time,feedback:o.feedback}):(l=o.senderId,f.push(u),u={senderId:o.senderId,messages:[{message:o.message,time:o.time,feedback:o.feedback}]}),C===c.length-1&&f.push(u)})}return f});return(c,f)=>(r(),p("div",ft,[(r(!0),p(z,null,F(e(g),(l,u)=>(r(),p("div",{key:l.senderId+String(u),class:T(["chat-group d-flex align-start",[{"flex-row-reverse":l.senderId!==e(t).id,"mb-6":e(g).length-1!==u}]])},[a("div",{class:T(["chat-avatar",l.senderId!==e(t).id?"ms-4":"me-4"])},[s(A,{size:"32"},{default:n(()=>{var o;return[s(B,{src:l.senderId===e(t).id?e(t).avatar:(o=e(i).profileUser)==null?void 0:o.avatar},null,8,["src"])]}),_:2},1024)],2),a("div",{class:T(["chat-body d-inline-flex flex-column",l.senderId!==e(t).id?"align-end":"align-start"])},[(r(!0),p(z,null,F(l.messages,(o,C)=>(r(),p("div",{key:o.time,class:T(["chat-content py-2 px-4 elevation-2",[l.senderId===e(t).id?"chat-left":"bg-primary text-white chat-right",l.messages.length-1!==C?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[a("p",pt,v(o.message),1)],2))),128)),a("div",{class:T({"text-right":l.senderId!==e(t).id})},[l.senderId!==e(t).id?(r(),$(h,{key:0,size:"16",color:m(l.messages[l.messages.length-1].feedback).color},{default:n(()=>[N(v(m(l.messages[l.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):U("",!0),a("span",vt,v(("formatDate"in c?c.formatDate:e(ae))(l.messages[l.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},bt={class:"pt-2 me-2 text-end"},xt={class:"text-center px-6"},gt={key:1,class:"text-3xl"},Ct={class:"text-h5"},yt={class:"text-capitalize text-medium-emphasis mb-0"},$t={class:"my-6 text-medium-emphasis"},kt=a("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1),Vt={class:"mb-6"},wt=a("div",{class:"text-base text-disabled"}," STATUS ",-1),St={class:"text-medium-emphasis"},Ut=a("div",{class:"text-base text-disabled"}," SETTINGS ",-1),Tt={class:"d-flex align-center pa-2"},It={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},At=a("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1),Dt={class:"d-flex align-center pa-2"},zt={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},Bt=a("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1),Mt={class:"d-flex align-center pa-2"},Nt=a("div",{class:"text-high-emphasis"}," Invite Friends ",-1),Ot={class:"d-flex align-center pa-2"},Pt=a("div",{class:"text-high-emphasis"}," Delete Account ",-1),Lt={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(V,{emit:i}){const t=M(),{resolveAvatarBadgeVariant:m}=P(),g=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],c=w(!0),f=w(!1);return(l,u)=>{const o=R("IconBtn"),C=me;return e(t).profileUser?(r(),p(z,{key:0},[a("div",bt,[s(o,{onClick:u[0]||(u[0]=b=>l.$emit("close"))},{default:n(()=>[s(h,{class:"text-medium-emphasis",color:"disabled",icon:"tabler-x"})]),_:1})]),a("div",xt,[s(I,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(m)(e(t).profileUser.status),class:"chat-user-profile-badge mb-3"},{default:n(()=>[s(A,{size:"84",variant:e(t).profileUser.avatar?void 0:"tonal",color:e(t).profileUser.avatar?void 0:e(m)(e(t).profileUser.status)},{default:n(()=>[e(t).profileUser.avatar?(r(),$(B,{key:0,src:e(t).profileUser.avatar},null,8,["src"])):(r(),p("span",gt,v(("avatarText"in l?l.avatarText:e(O))(e(t).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",Ct,v(e(t).profileUser.fullName),1),a("p",yt,v(e(t).profileUser.role),1)]),s(e(j),{class:"ps-chat-user-profile-sidebar-content pb-5 px-6",options:{wheelPropagation:!1}},{default:n(()=>[a("div",$t,[kt,s(C,{id:"textarea-user-about",modelValue:e(t).profileUser.about,"onUpdate:modelValue":u[1]||(u[1]=b=>e(t).profileUser.about=b),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),a("div",Vt,[wt,s(fe,{modelValue:e(t).profileUser.status,"onUpdate:modelValue":u[2]||(u[2]=b=>e(t).profileUser.status=b),class:"mt-1"},{default:n(()=>[(r(),p(z,null,F(g,b=>s(pe,{key:b.title,label:b.title,value:b.value,color:b.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),a("div",St,[Ut,a("div",Tt,[s(h,{class:"me-2 text-high-emphasis",icon:"tabler-lock",size:"22"}),a("div",It,[At,s(Z,{modelValue:e(c),"onUpdate:modelValue":u[3]||(u[3]=b=>S(c)?c.value=b:null),density:"compact"},null,8,["modelValue"])])]),a("div",Dt,[s(h,{class:"me-2 text-high-emphasis",icon:"tabler-bell",size:"22"}),a("div",zt,[Bt,s(Z,{modelValue:e(f),"onUpdate:modelValue":u[4]||(u[4]=b=>S(f)?f.value=b:null),density:"compact"},null,8,["modelValue"])])]),a("div",Mt,[s(h,{class:"me-2 text-high-emphasis",icon:"tabler-user-plus",size:"22"}),Nt]),a("div",Ot,[s(h,{class:"me-2 text-high-emphasis",icon:"tabler-trash",size:"22"}),Pt])]),s(L,{color:"primary",class:"mt-12",block:"","append-icon":"tabler-logout"},{default:n(()=>[N(" Logout ")]),_:1})]),_:1})],64)):U("",!0)}}},Et={key:0,class:"d-flex flex-column h-100"},Ft={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},Rt={key:1},jt={class:"flex-grow-1 ms-4 overflow-hidden"},qt={class:"text-h6 mb-0 font-weight-regular"},Jt={class:"text-truncate mb-0 text-body-2"},Ht={class:"d-sm-flex align-center d-none text-medium-emphasis"},Kt={class:"d-flex gap-1"},Qt={key:1,class:"d-flex h-100 align-center justify-center flex-column"},Wt={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},Bs={__name:"chat",setup(V){le(x=>({d026f070:e(se)}));const i=ie(),t=M(),{isLeftSidebarOpen:m}=ve(i.smAndDown),{resolveAvatarBadgeVariant:g}=P(),c=w(),f=()=>{const x=c.value.$el||c.value;x.scrollTop=x.scrollHeight},l=w("");re(l,x=>t.fetchChatsAndContacts(x),{immediate:!0});const u=()=>{i.mdAndUp.value||(m.value=!0)},o=w(""),C=async()=>{o.value&&(await t.sendMsg(o.value),o.value="",Y(()=>{f()}))},b=async x=>{await t.getChat(x),o.value="";const d=t.chatsContacts.find(k=>k.id===x);d&&(d.chat.unseenMsgs=0),i.smAndDown.value&&(m.value=!1),Y(()=>{f()})},D=w(!1),y=w(!1),q=w(),{name:te}=ce(),se=E(()=>{var d,k;let x="transparent";return X&&(x=(k=(d=X)==null?void 0:d[te.value].colors)==null?void 0:k.background),x});return(x,d)=>{const k=R("IconBtn");return r(),$(Ce,{class:"chat-app-layout"},{default:n(()=>[s(J,{modelValue:e(D),"onUpdate:modelValue":d[1]||(d[1]=_=>S(D)?D.value=_:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:n(()=>[s(Lt,{onClose:d[0]||(d[0]=_=>D.value=!1)})]),_:1},8,["modelValue"]),s(J,{modelValue:e(y),"onUpdate:modelValue":d[3]||(d[3]=_=>S(y)?y.value=_:null),width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:n(()=>[s(Qe,{onClose:d[2]||(d[2]=_=>y.value=!1)})]),_:1},8,["modelValue"]),s(J,{modelValue:e(m),"onUpdate:modelValue":d[8]||(d[8]=_=>S(m)?m.value=_:null),absolute:"",touchless:"",location:"start",width:"370",temporary:x.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:x.$vuetify.display.mdAndUp},{default:n(()=>[s(mt,{isDrawerOpen:e(m),"onUpdate:isDrawerOpen":d[4]||(d[4]=_=>S(m)?m.value=_:null),search:e(l),"onUpdate:search":d[5]||(d[5]=_=>S(l)?l.value=_:null),onOpenChatOfContact:b,onShowUserProfile:d[6]||(d[6]=_=>D.value=!0),onClose:d[7]||(d[7]=_=>m.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),s(ge,{class:"chat-content-container"},{default:n(()=>[e(t).activeChat?(r(),p("div",Et,[a("div",Ft,[s(k,{class:"d-md-none me-3",onClick:d[9]||(d[9]=_=>m.value=!0)},{default:n(()=>[s(h,{icon:"tabler-menu-2"})]),_:1}),a("div",{class:"d-flex align-center cursor-pointer",onClick:d[10]||(d[10]=_=>y.value=!0)},[s(I,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:e(g)(e(t).activeChat.contact.status),bordered:""},{default:n(()=>[s(A,{size:"40",variant:e(t).activeChat.contact.avatar?void 0:"tonal",color:e(t).activeChat.contact.avatar?void 0:e(g)(e(t).activeChat.contact.status),class:"cursor-pointer"},{default:n(()=>[e(t).activeChat.contact.avatar?(r(),$(B,{key:0,src:e(t).activeChat.contact.avatar,alt:e(t).activeChat.contact.fullName},null,8,["src","alt"])):(r(),p("span",Rt,v(("avatarText"in x?x.avatarText:e(O))(e(t).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("div",jt,[a("div",qt,v(e(t).activeChat.contact.fullName),1),a("p",Jt,v(e(t).activeChat.contact.role),1)])]),s(_e),a("div",Ht,[s(k,null,{default:n(()=>[s(h,{icon:"tabler-phone"})]),_:1}),s(k,null,{default:n(()=>[s(h,{icon:"tabler-video"})]),_:1}),s(k,null,{default:n(()=>[s(h,{icon:"tabler-search"})]),_:1}),s(k,null,{default:n(()=>[s(h,{icon:"tabler-dots-vertical"})]),_:1})])]),s(ee),s(e(j),{ref_key:"chatLogPS",ref:c,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:n(()=>[s(_t)]),_:1},512),s(be,{class:"chat-log-message-form mb-5 mx-5",onSubmit:de(C,["prevent"])},{default:n(()=>{var _;return[(r(),$(xe,{key:(_=e(t).activeChat)==null?void 0:_.contact.id,modelValue:e(o),"onUpdate:modelValue":d[12]||(d[12]=H=>S(o)?o.value=H:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":n(()=>[a("div",Kt,[s(k,null,{default:n(()=>[s(h,{icon:"tabler-microphone",size:"22"})]),_:1}),s(k,{onClick:d[11]||(d[11]=H=>{var K;return(K=e(q))==null?void 0:K.click()})},{default:n(()=>[s(h,{icon:"tabler-paperclip",size:"22"})]),_:1}),s(L,{onClick:C},{append:n(()=>[s(h,{icon:"tabler-send",color:"#fff"})]),default:n(()=>[N(" Send ")]),_:1})])]),_:1},8,["modelValue"])),a("input",{ref_key:"refInputEl",ref:q,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(r(),p("div",Qt,[s(A,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:n(()=>[s(h,{size:"50",class:"rounded-0",icon:"tabler-message-2"})]),_:1}),x.$vuetify.display.smAndDown?(r(),$(L,{key:0,rounded:"xl",onClick:u},{default:n(()=>[N(" Start Conversation ")]),_:1})):(r(),p("p",Wt," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}};export{Bs as default};
