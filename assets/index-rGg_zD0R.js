import{f as Ue}from"./formatters-MfVJSZma.js";import{_ as _e}from"./ConfirmDialog-BAzm0IhP.js";import{_ as be}from"./DialogCloseBtn-CGSccGdU.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as W,b as we}from"./VCard-DZWvGmgS.js";import{V as ie}from"./VCardTitle-BiC992U8.js";import{V as K}from"./VDivider-DXXBACNJ.js";import{V as ze}from"./VSlideGroup-Cz4KrcLa.js";import{V as Le}from"./VSlideGroupItem-Y4Nl0rXr.js";import{V as De}from"./VSkeletonLoader-Dr1oL0B2.js";import{V as Q}from"./VCardText-U-O62k8O.js";import{r as o,o as m,c as P,b as e,e as l,d as t,t as n,F as me,h as pe,f as h,H as Ae,x as Te,v as d,ah as V,w as Ie,b0 as Ce,m as _,y as $,$ as Z,b9 as ge,ba as Ve,E as Ee}from"./index-JJLVR7gw.js";import{V as H}from"./VDialog-v0wQo-Em.js";import{r as ee}from"./validators-DpYrMFzk.js";import{_ as ye}from"./AppSelect-Dk8olbt1.js";import{_ as xe}from"./AppTextField-C3KG0Fdx.js";import{$ as ve}from"./api-BTN9-S1a.js";import{V as Se}from"./VForm-CCOcmvzZ.js";import{V as N,a as u}from"./VRow-CgtR2C0a.js";import{V as he}from"./VTable-3BS_25Ta.js";import{a as le,b as te}from"./VList-oRE7i2Tp.js";import{V as E}from"./VAvatar-yCqntSJd.js";import{V as R}from"./VSwitch-BS2T9UIV.js";import{V as oe}from"./VChip-Dj7sIaLu.js";import{V as Be}from"./VImg-KnL00SIm.js";import"./helpers-DK5QwNv0.js";import"./createSimpleFunctional-C_BTfS6z.js";import"./index-GgA-9tW3.js";import"./VOverlay-yE6I3_jC.js";import"./easing-CjukEv2V.js";import"./lazy-amXKMzDk.js";import"./scopeId-ClaAXU-I.js";import"./transition-C2_fb7u_.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-OOY4pNuk.js";import"./form-C0qhxlI3.js";import"./VSelect-DolNbEcz.js";import"./VTextField-D_u6fdPg.js";/* empty css                   */import"./VCounter-QpKNLAUU.js";import"./VField-CtxTuAgP.js";import"./VInput-DlxzUbVk.js";import"./VMenu-D0jACTlk.js";import"./VCheckboxBtn-XGtVXTYy.js";import"./VSelectionControl-DEc2CGt5.js";import"./index-B3bPRkoL.js";/* empty css              */import"./ssrBoot-BZxQaRBH.js";const qe={class:"sticky-card"},Fe={key:0,class:"pa-3 pa-sm-4"},Ne=["onClick"],We={class:"text-base font-weight-medium mx-2"},Oe={__name:"ChangeServerDialog",props:{isDialogVisible:{type:Boolean,required:!0},serverDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(c,{emit:ae}){const D=o(0),C=c,g=ae,y=k=>{g("update:isDialogVisible",k)};function b(){g("serverChanged",C.serverDetails[D.value].id),y()}return(k,v)=>{const U=be;return m(),P("section",null,[e(H,{width:k.$vuetify.display.smAndDown?"auto":650,"model-value":C.isDialogVisible,"onUpdate:modelValue":y},{default:l(()=>[e(U,{onClick:v[0]||(v[0]=f=>y(!1))}),e(W,null,{default:l(()=>[t("div",qe,[e(ie,{class:"pt-3"},{default:l(()=>[n("Change Server ")]),_:1}),e(K)]),e(we,{class:"pt-5 pb-5"},{default:l(()=>[n("Select Server")]),_:1}),c.serverDetails?(m(),P("div",Fe,[e(ze,{modelValue:D.value,"onUpdate:modelValue":v[1]||(v[1]=f=>D.value=f),"show-arrows":""},{default:l(()=>[(m(!0),P(me,null,pe(c.serverDetails,(f,w)=>(m(),h(Le,{key:f.id,value:w},{default:l(({isSelected:S,toggle:M})=>[t("div",{style:Ae([{"block-size":"50px","inline-size":"200px"},S?"border-color: rgb(var(--v-theme-primary)) !important":""]),class:Te([S?"border":"border border-dashed","d-flex flex-column justify-center align-center cursor-pointer rounded py-6 px-2"]),onClick:M},[t("h6",We,d(f.server_name),1)],14,Ne)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):(m(),P(me,{key:1},pe(3,f=>e(De,{key:f,type:"list-item-two-line"})),64)),e(Q,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[e(V,{variant:"tonal",color:"secondary",onClick:v[2]||(v[2]=f=>y(!1))},{default:l(()=>[n(" Close ")]),_:1}),e(V,{color:"primary",onClick:v[3]||(v[3]=f=>b())},{default:l(()=>[n(" Change Server ")]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}},Re=fe(Oe,[["__scopeId","data-v-4d011c3e"]]),ke=c=>(ge("data-v-f89bee41"),c=c(),Ve(),c),Pe={class:"sticky-card"},je=ke(()=>t("span",{class:"text-body"},"Server Name :",-1)),Xe={class:"d-flex align-center"},Ge={class:"text-body-1"},Ke={class:"d-flex align-center gap-x-2"},Qe={class:"text-body-1"},He={class:"d-flex align-center"},Ye={class:"text-body-1"},Je={class:"d-flex align-center gap-x-2"},Ze={class:"text-body-1"},el={class:""},ll={class:"mt-4"},tl={class:"mt-1"},al={class:"mt-1"},sl={class:"mt-1"},ol={class:"text-h4 mb-4"},il=ke(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),nl={class:"text-h4 mb-4"},rl={__name:"EditMasterDialog",props:{isDialogVisible:{type:Boolean,required:!0},masterDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(c,{emit:ae}){const D=o("");o("");const C=o(null);o(!0),o(null);const g=o(!1),y=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],b=o(null),k=o(0),v=o(!1),U=o(!1),f=o(!1),w=o(0),S=o(!1),M=o(!1),B=o(!1);let z=o(""),O=o(""),j=o(""),L=o("");const A=o(!1);o(null);const T=o(null),I=o(null),Y=o(null),q=o(null),F=o(!1),se=c,re=ae,J=s=>{re("update:isDialogVisible",s)};Ie(()=>se.masterDetails,s=>{s&&(Y.value=s.id||"",C.value=s.mc_name||"",D.value=s.mc_mt5_id||"",g.value=s.is_config_identical===1,b.value=s.risk_approach||"",k.value=s.multiplier||null,T.value=s.lot_size,w.value=s.fixed_balance||null,v.value=s.copy_sl===1,U.value=s.copy_tp===1,f.value=s.is_reverse===1,I.value=s.description||"",q.value=s.commission_percentage||null,F.value=s.status===1)},{immediate:!0});const X=s=>/^(\d+|\d*\.\d{1,2})$/.test(s.toString())||"Must be a number with up to 2 decimal places",ue=async s=>{if(s){A.value=!0;try{await ve("masters/update",{method:"POST",body:{id:Y.value,mc_mt5_id:D.value,performance_matrix:0,risk_factor:0,is_config_identical:g.value,risk_approach:b.value,lot_size:T.value,multiplier:k.value,fixed_balance:w.value,copy_sl:v.value,copy_tp:U.value,is_reverse:f.value,description:I.value,commission_percentage:q.value,status:F.value},onResponseError({response:G}){z.value="Something Went Wrong !",O.value=G._data.message,A.value=!1,M.value=!0}})&&(j.value="Success !",L.value="Master Updated Successfully !",A.value=!1,B.value=!0)}catch{z.value="Something Went Wrong !",O.value="Something Went Wrong !",A.value=!1,M.value=!0}}},p=async s=>{window.location.reload()};return(s,a)=>{const G=be,x=xe,de=ye,ce=_e;return m(),P("section",null,[e(H,{width:s.$vuetify.display.smAndDown?"auto":650,"model-value":se.isDialogVisible,"onUpdate:modelValue":J},{default:l(()=>[e(G,{onClick:a[0]||(a[0]=i=>J(!1))}),e(W,null,{default:l(()=>[t("div",Pe,[e(ie,{class:"pt-3"},{default:l(()=>[n("Edit Master Accounts")]),_:1}),e(K)]),e(Se,{onSubmit:Ce(()=>{},["prevent"])},{default:l(()=>[e(N,null,{default:l(()=>[e(he,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",Xe,[t("div",Ge,d(c.masterDetails.server.server_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),je]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",Ke,[t("div",Qe,d(c.masterDetails.server.server_ip),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),n(" Server IP : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",He,[t("div",Ye,d(c.masterDetails.server.company_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),n(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",Je,[t("div",Ze,d(c.masterDetails.server.server_type),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),n(" Server Type : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(K,{class:"mb-2"}),e(N,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[t("div",null,[e(x,{label:"MT5 ID",modelValue:D.value,"onUpdate:modelValue":a[1]||(a[1]=i=>D.value=i),placeholder:"Search MT5 ID",disabled:""},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",el,[e(x,{label:"Copier Name",modelValue:C.value,"onUpdate:modelValue":a[2]||(a[2]=i=>C.value=i)},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(x,{label:"Commission",modelValue:q.value,"onUpdate:modelValue":a[3]||(a[3]=i=>q.value=i),suffix:"%"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",ll,[e(R,{modelValue:g.value,"onUpdate:modelValue":a[4]||(a[4]=i=>g.value=i),label:"Set Identical Configuration for all slaves"},null,8,["modelValue"])])]),_:1}),g.value?(m(),h(u,{key:0,cols:"6"},{default:l(()=>[e(de,{modelValue:b.value,"onUpdate:modelValue":a[5]||(a[5]=i=>b.value=i),items:y,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in s?s.requiredValidator:_(ee)]},null,8,["modelValue","rules"])]),_:1})):$("",!0),b.value==="FIXL"?(m(),h(u,{key:1,cols:"6",class:""},{default:l(()=>[e(x,{label:"Lot Size",modelValue:T.value,"onUpdate:modelValue":a[6]||(a[6]=i=>T.value=i),type:"number",min:"0",rules:["requiredValidator"in s?s.requiredValidator:_(ee),X]},null,8,["modelValue","rules"])]),_:1})):$("",!0),b.value==="LMUL"||b.value==="BMUL"||b.value==="EMUL"||b.value==="FBMUL"?(m(),h(u,{key:2,cols:"6",class:""},{default:l(()=>[e(x,{label:"Multiplier",modelValue:k.value,"onUpdate:modelValue":a[7]||(a[7]=i=>k.value=i),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in s?s.requiredValidator:_(ee),X]},null,8,["modelValue","rules"])]),_:1})):$("",!0),b.value==="FBMUL"?(m(),h(u,{key:3,cols:"6"},{default:l(()=>[e(x,{label:"Fixed Master Balance",modelValue:w.value,"onUpdate:modelValue":a[8]||(a[8]=i=>w.value=i),type:"number",min:"0",rules:["requiredValidator"in s?s.requiredValidator:_(ee),X]},null,8,["modelValue","rules"])]),_:1})):$("",!0)]),_:1}),g.value?(m(),h(ie,{key:0,class:"mt-1"},{default:l(()=>[n("Advanced Settings")]),_:1})):$("",!0),g.value?(m(),h(N,{key:1,class:"ml-2"},{default:l(()=>[e(u,{cols:"4"},{default:l(()=>[t("div",tl,[e(R,{modelValue:v.value,"onUpdate:modelValue":a[9]||(a[9]=i=>v.value=i),label:"Copy Stop Loss"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",al,[e(R,{modelValue:U.value,"onUpdate:modelValue":a[10]||(a[10]=i=>U.value=i),label:"Copy Take Profit"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",sl,[e(R,{modelValue:f.value,"onUpdate:modelValue":a[11]||(a[11]=i=>f.value=i),label:"Reverse Trade"},null,8,["modelValue"])])]),_:1})]),_:1})):$("",!0),e(N,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(R,{modelValue:F.value,"onUpdate:modelValue":a[12]||(a[12]=i=>F.value=i),label:F.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(N,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(V,{class:"me-2",color:"primary",disabled:!C.value,onClick:a[13]||(a[13]=i=>S.value=!0),loading:A.value},{default:l(()=>[n(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(ce,{isDialogVisible:S.value,"onUpdate:isDialogVisible":a[14]||(a[14]=i=>S.value=i),onConfirm:ue,"confirmation-question":"Are you want to update master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(H,{modelValue:B.value,"onUpdate:modelValue":a[16]||(a[16]=i=>B.value=i),"max-width":"500"},{default:l(()=>[e(W,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",ol,d(_(j)),1),t("p",null,d(_(L)),1),e(V,{color:"success",onClick:a[15]||(a[15]=i=>p())},{default:l(()=>[n(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(H,{modelValue:M.value,"onUpdate:modelValue":a[17]||(a[17]=i=>M.value=i),"max-width":"500"},{default:l(()=>[e(W,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[il]),_:1}),t("h1",nl,d(_(z)),1),t("p",null,d(_(O)),1),e(V,{color:"success",onClick:p},{default:l(()=>[n(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},ul=fe(rl,[["__scopeId","data-v-f89bee41"]]),Me=c=>(ge("data-v-65eab21b"),c=c(),Ve(),c),dl={class:"sticky-card"},cl=Me(()=>t("span",{class:"text-body"},"Server Name :",-1)),ml={class:"d-flex align-center"},vl={class:"text-body-1"},pl={class:"d-flex align-center gap-x-2"},fl={class:"text-body-1"},_l={class:"d-flex align-center"},bl={class:"text-body-1"},gl={class:"d-flex align-center gap-x-2"},Vl={class:"text-body-1"},yl={class:"mr-2"},xl={class:"mt-4"},hl={class:""},Dl={class:"mt-1"},Cl={class:"mt-1"},Sl={class:"mt-1"},kl={class:"text-h4 mb-4"},Ml=Me(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),$l={class:"text-h4 mb-4"},Ul={__name:"AddMasterDialog",props:{isDialogVisible:{type:Boolean,required:!0},serverDetails:{type:Object,required:!1}},emits:["submit","update:isDialogVisible"],setup(c,{emit:ae}){const D=o("");o("");const C=o(null);o(!0);const g=o(null),y=o(!1),b=o(!1),k=[{text:"Fixed Lot",value:"FIXL"},{text:"Lot Multiplier",value:"LMUL"},{text:"Balance Multiplier",value:"BMUL"},{text:"Equity Multiplier",value:"EMUL"},{text:"Fixed Balance Multiplier",value:"FBMUL"}],v=o(null),U=o(0),f=o(!1),w=o(!1),S=o(!1),M=o(0),B=o(!1),z=o(!1),O=o(!1);let j=o(""),L=o(""),A=o(""),T=o("");const I=o(!1);o(null);const Y=o(null),q=o(null),F=o(null),se=c,re=ae,J=s=>{re("update:isDialogVisible",s)},X=s=>/^(\d+|\d*\.\d{1,2})$/.test(s.toString())||"Must be a number with up to 2 decimal places",ue=async s=>{var a;if(s){I.value=!0;try{await ve("masters/store",{method:"POST",body:{mc_name:C.value,server_id:(a=se.serverDetails)==null?void 0:a.id,mc_mt5_id:D.value,performance_matrix:0,risk_factor:0,is_config_identical:y.value,risk_approach:v.value,lot_size:Y.value,multiplier:U.value,fixed_balance:M.value,copy_sl:f.value,copy_tp:w.value,is_reverse:S.value,status:b.value,is_live:!0,client_id:g.value,description:q.value,commission_percentage:F.value},onResponseError({response:x}){j.value="Something Went Wrong !",L.value=x._data.message,I.value=!1,z.value=!0}})&&(A.value="Success !",T.value="Master Copier Created Successfully !",I.value=!1,O.value=!0)}catch{j.value="Something Went Wrong !",L.value="Something Went Wrong !",I.value=!1,z.value=!0}}},p=async s=>{window.location.reload()};return(s,a)=>{const G=be,x=xe,de=ye,ce=_e;return m(),P("section",null,[e(H,{width:s.$vuetify.display.smAndDown?"auto":650,"model-value":se.isDialogVisible,"onUpdate:modelValue":J},{default:l(()=>[e(G,{onClick:a[0]||(a[0]=i=>J(!1))}),e(W,null,{default:l(()=>[t("div",dl,[e(ie,{class:"pt-3"},{default:l(()=>[n("Add Master Account")]),_:1}),e(K)]),e(Se,{onSubmit:Ce(()=>{},["prevent"])},{default:l(()=>[e(N,null,{default:l(()=>[e(he,{"fixed-header":"",class:"text-no-wrap mt-6 mb-6 ml-4"},{default:l(()=>[t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",ml,[t("div",vl,d(c.serverDetails.server_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-server",class:"mr-1"}),cl]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",pl,[t("div",fl,d(c.serverDetails.server_ip),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-cpu-2",class:"mr-1"}),n(" Server IP : ")]),_:1})]),_:1})])]),t("tr",null,[t("td",null,[e(le,null,{append:l(()=>[t("div",_l,[t("div",bl,d(c.serverDetails.company_name),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-brand-coinbase",class:"mr-1"}),n(" Company Name : ")]),_:1})]),_:1})]),t("td",null,[e(le,null,{append:l(()=>[t("div",gl,[t("div",Vl,d(c.serverDetails.server_type),1)])]),default:l(()=>[e(te,{class:"font-weight-medium me-4 text-overline"},{default:l(()=>[e(E,{color:"secondary",size:"30",variant:"tonal",rounded:"",icon:"tabler-category-2",class:"mr-1"}),n(" Server Type : ")]),_:1})]),_:1})])])]),_:1})]),_:1}),e(K,{class:"mb-2"}),e(N,{class:"mt-2 ml-1 mr-1"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[t("div",null,[e(x,{label:"MT5 ID",modelValue:D.value,"onUpdate:modelValue":a[1]||(a[1]=i=>D.value=i),placeholder:"Search MT5 ID"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",yl,[e(x,{label:"Copier Name",modelValue:C.value,"onUpdate:modelValue":a[2]||(a[2]=i=>C.value=i)},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(x,{label:"Commission",modelValue:F.value,"onUpdate:modelValue":a[3]||(a[3]=i=>F.value=i),suffix:"%"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",xl,[e(R,{modelValue:y.value,"onUpdate:modelValue":a[4]||(a[4]=i=>y.value=i),label:"Set Identical Configuration for all slaves"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"6"},{default:l(()=>[t("div",hl,[e(x,{label:"Description",modelValue:q.value,"onUpdate:modelValue":a[5]||(a[5]=i=>q.value=i)},null,8,["modelValue"])])]),_:1}),y.value?(m(),h(u,{key:0,cols:"6"},{default:l(()=>[e(de,{modelValue:v.value,"onUpdate:modelValue":a[6]||(a[6]=i=>v.value=i),items:k,"item-title":"text","item-value":"value",label:"Risk Approach","single-line":"",rules:["requiredValidator"in s?s.requiredValidator:_(ee)]},null,8,["modelValue","rules"])]),_:1})):$("",!0),v.value==="FIXL"?(m(),h(u,{key:1,cols:"6",class:""},{default:l(()=>[e(x,{label:"Lot Size",modelValue:Y.value,"onUpdate:modelValue":a[7]||(a[7]=i=>Y.value=i),type:"number",min:"0",rules:["requiredValidator"in s?s.requiredValidator:_(ee),X]},null,8,["modelValue","rules"])]),_:1})):$("",!0),v.value==="LMUL"||v.value==="BMUL"||v.value==="EMUL"||v.value==="FBMUL"?(m(),h(u,{key:2,cols:"6",class:""},{default:l(()=>[e(x,{label:"Multiplier",modelValue:U.value,"onUpdate:modelValue":a[8]||(a[8]=i=>U.value=i),type:"number",min:"0",suffix:"%",rules:["requiredValidator"in s?s.requiredValidator:_(ee),X]},null,8,["modelValue","rules"])]),_:1})):$("",!0),v.value==="FBMUL"?(m(),h(u,{key:3,cols:"6"},{default:l(()=>[e(x,{label:"Fixed Master Balance",modelValue:M.value,"onUpdate:modelValue":a[9]||(a[9]=i=>M.value=i),type:"number",min:"0",rules:["requiredValidator"in s?s.requiredValidator:_(ee),X]},null,8,["modelValue","rules"])]),_:1})):$("",!0)]),_:1}),y.value?(m(),h(ie,{key:0,class:"mt-2"},{default:l(()=>[n("Advanced Settings")]),_:1})):$("",!0),y.value?(m(),h(N,{key:1,class:"ml-2"},{default:l(()=>[e(u,{cols:"4"},{default:l(()=>[t("div",Dl,[e(R,{modelValue:f.value,"onUpdate:modelValue":a[10]||(a[10]=i=>f.value=i),label:"Copy Stop Loss"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",Cl,[e(R,{modelValue:w.value,"onUpdate:modelValue":a[11]||(a[11]=i=>w.value=i),label:"Copy Take Profit"},null,8,["modelValue"])])]),_:1}),e(u,{cols:"4"},{default:l(()=>[t("div",Sl,[e(R,{modelValue:S.value,"onUpdate:modelValue":a[12]||(a[12]=i=>S.value=i),label:"Reverse Trade"},null,8,["modelValue"])])]),_:1})]),_:1})):$("",!0),e(N,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(R,{modelValue:b.value,"onUpdate:modelValue":a[13]||(a[13]=i=>b.value=i),label:b.value?"Active":"Inactive"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(N,{class:"ml-2 mt-2 mb-2"},{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(V,{class:"me-2",color:"primary",disabled:!C.value,onClick:a[14]||(a[14]=i=>B.value=!0),loading:I.value},{default:l(()=>[n(" Submit ")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(ce,{isDialogVisible:B.value,"onUpdate:isDialogVisible":a[15]||(a[15]=i=>B.value=i),onConfirm:ue,"confirmation-question":"Are you want to add master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(H,{modelValue:O.value,"onUpdate:modelValue":a[17]||(a[17]=i=>O.value=i),"max-width":"500"},{default:l(()=>[e(W,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",kl,d(_(A)),1),t("p",null,d(_(T)),1),e(V,{color:"success",onClick:a[16]||(a[16]=i=>p())},{default:l(()=>[n(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(H,{modelValue:z.value,"onUpdate:modelValue":a[18]||(a[18]=i=>z.value=i),"max-width":"500"},{default:l(()=>[e(W,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[Ml]),_:1}),t("h1",$l,d(_(j)),1),t("p",null,d(_(L)),1),e(V,{color:"success",onClick:p},{default:l(()=>[n(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},wl=fe(Ul,[["__scopeId","data-v-65eab21b"]]),ne=c=>(ge("data-v-912dc885"),c=c(),Ve(),c),zl={class:"d-flex justify-space-between align-center border-r"},Ll={class:"d-flex flex-column"},Al={class:"text-h6"},Tl=ne(()=>t("span",{class:"text-body-2 text-capitalize"},"Server",-1)),Il={class:"d-flex justify-space-between align-center border-r"},El={class:"d-flex flex-column"},Bl={class:"text-h6"},ql=ne(()=>t("span",{class:"text-body-2 text-capitalize"},"IP Address",-1)),Fl={class:"d-flex justify-space-between align-center border-r"},Nl={class:"d-flex flex-column"},Wl={class:"text-h6"},Ol=ne(()=>t("span",{class:"text-body-2 text-capitalize"},"Manager",-1)),Rl={class:"d-flex justify-space-between align-center border-r"},Pl={class:"d-flex flex-column mb-6"},jl={class:"d-flex flex-column align-center"},Xl={class:"d-flex gap-4 align-center flex-wrap"},Gl={class:"d-flex align-center gap-2"},Kl={class:"d-flex align-center flex-wrap gap-4"},Ql={class:"invoice-list-filter"},Hl={class:"invoice-list-filter"},Yl=ne(()=>t("thead",null,[t("tr",null,[t("th",null," ID "),t("th",null," MASTER NAME "),t("th",null," SERVER NAME "),t("th",null," COMPANY NAME "),t("th",null," MT5 ACCOUNT "),t("th",null," GLOBAL CONFIG "),t("th",null," STATUS "),t("th",null," ACTION ")])],-1)),Jl={class:"text-caption me-0 ms-0 px-0 py-0",style:{"padding-left":"2px"}},Zl=ne(()=>t("br",null,null,-1)),et={class:"pr-1"},lt={class:"text-h4 mb-4"},tt=ne(()=>t("span",{class:"text-5xl font-weight-light"},"X",-1)),at={class:"text-h4 mb-4"},st={__name:"index",setup(c){const ae="NEXTWISEMARKETS",D=o(""),C=o(null);o([]);const g=o([]),y=o(null),b=o([]),k=o(!1),v=o(!1),U=o(null),f=o(!1),w=o(null),S=o(!1),M=o(!1);let B=o(""),z=o(""),O=o(""),j=o("");const L=o(!1),A=o(!1),T=o(!1),I=o(!1);Ee(async()=>{await Y()});const Y=async()=>{try{const p=await ve("/meta-servers",{method:"GET",onResponseError({response:s}){console.error(s)}});y.value=p.data,g.value=y.value[0],T.value=g.value.id,q()}catch(p){console.error(p)}},q=async()=>{I.value=!0;try{const p=await ve(`/masters?server_id=${T.value}`,{method:"GET",onResponseError({response:s}){console.error("Error response:",s)}});p?(b.value=p.data,I.value=!1):console.error("Failed to fetch group list or empty response")}catch(p){console.error("Error fetching group list:",p)}};function F(p){U.value=p,v.value=!0}function se(p){w.value=p,f.value=!0}const re=async p=>{if(p){L.value=!0;try{await ve("masters/delete",{method:"POST",body:{id:w.value},onResponseError({response:a}){B.value="Something Went Wrong !",z.value=a._data.message,L.value=!1,S.value=!0}})&&(O.value="Success !",j.value="Master Deleted Successfully !",L.value=!1,M.value=!0)}catch{B.value="Something Went Wrong !",z.value="Something Went Wrong !",L.value=!1,S.value=!0}}},J=async p=>{window.location.reload()};function X(){A.value=!0}const ue=p=>{T.value=p,g.value=y.value.find(s=>s.id===T.value),q()};return(p,s)=>{const a=xe,G=ye,x=wl,de=ul,ce=Re,i=_e;return m(),P(me,null,[t("section",null,[e(W,{class:"mb-6"},{default:l(()=>[e(Q,{class:"px-3"},{default:l(()=>[e(N,null,{default:l(()=>[e(u,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",zl,[t("div",Ll,[t("h5",Al,d(_(ae)),1),Tl]),e(E,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-server-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(K,{vertical:""}),e(u,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",Il,[t("div",El,[t("h5",Bl,d(g.value.server_ip),1),ql]),e(E,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-cpu-2",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(K,{vertical:""}),e(u,{cols:"12",sm:"6",md:"3",class:"px-4"},{default:l(()=>[t("div",Fl,[t("div",Nl,[t("h5",Wl,d(g.value.manager_name),1),Ol]),e(E,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-user-bolt",size:"26",color:"high-emphasis"})]),_:1})])]),_:1}),e(K,{vertical:""}),e(u,{cols:"12",sm:"6",md:"3",class:"px-2"},{default:l(()=>[t("div",Rl,[t("div",Pl,[e(oe,{color:"primary",outlined:"",size:"small"},{default:l(()=>[n(" ACTIVE ")]),_:1})]),t("div",jl,[e(E,{variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(Z,{icon:"tabler-activity",size:"26",color:"high-emphasis"})]),_:1}),e(V,{color:"secondary",size:"x-small",variant:"outlined",class:"mt-2",onClick:X},{default:l(()=>[e(Z,{start:"",icon:"tabler-settings"}),n("Change server ")]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,{id:"invoice-list"},{default:l(()=>[e(Q,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:l(()=>[t("div",Xl,[t("div",Gl,[e(ie,null,{default:l(()=>[n("Mapped Master Accounts")]),_:1})])]),t("div",Kl,[t("div",Ql,[e(a,{modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=r=>D.value=r),placeholder:"Search Master Account"},null,8,["modelValue"])]),t("div",Hl,[e(G,{modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=r=>C.value=r),placeholder:"Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Active","Inactive"]},null,8,["modelValue"])]),e(V,{onClick:s[2]||(s[2]=r=>k.value=!0)},{default:l(()=>[n(" Add Master Account ")]),_:1})])]),_:1}),e(K),I.value?(m(),P(me,{key:0},pe(3,r=>e(De,{key:r,type:"table-tbody"})),64)):$("",!0),b.value.length>0?(m(),h(he,{key:1,height:"800","fixed-header":"",class:"text-no-wrap"},{default:l(()=>[Yl,t("tbody",null,[(m(!0),P(me,null,pe(b.value,r=>(m(),P("tr",{class:"",key:r.id},[t("td",Jl,[e(oe,{size:"x-small"},{default:l(()=>[n(d(r.id),1)]),_:2},1024),Zl,n(" "+d(("formatDateToMonthShort"in p?p.formatDateToMonthShort:_(Ue))(r.created_at)),1)]),t("td",null,d(r.mc_name),1),t("td",null,d(r.server.server_name),1),t("td",null,d(r.server.company_name),1),t("td",null,[e(oe,{size:"medium",class:"pr-3 pl-3 pt-1 pb-1"},{default:l(()=>[t("div",et,[e(Be,{src:"/images/svg/mt5_lined.svg",style:{padding:"5px",width:"25px"}})]),n(" "+d(r.mc_mt5_id),1)]),_:2},1024)]),t("td",null,[r.is_config_identical===1?(m(),h(oe,{key:0,color:"green",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[n(" Enabled ")]),_:1})):(m(),h(oe,{key:1,color:"red",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[n(" Disabled ")]),_:1}))]),t("td",null,[r.status===1?(m(),h(oe,{key:0,color:"green",outlined:"",variant:"outlined",class:"ma-1"},{default:l(()=>[n(" Active ")]),_:1})):(m(),h(oe,{key:1,color:"red",outlined:"",class:"ma-1",variant:"outlined"},{default:l(()=>[n(" Inactive ")]),_:1}))]),t("td",null,[e(V,{color:"secondary",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-edit",onClick:$e=>F(r)},null,8,["onClick"]),e(V,{color:"error",size:"x-small",variant:"tonal",class:"px-2 me-2 rounded",icon:"tabler-trash",onClick:$e=>se(r.id),loading:L.value},null,8,["onClick","loading"])])]))),128))])]),_:1})):$("",!0)]),_:1})]),e(x,{isDialogVisible:k.value,"onUpdate:isDialogVisible":s[3]||(s[3]=r=>k.value=r),serverDetails:g.value},null,8,["isDialogVisible","serverDetails"]),e(de,{isDialogVisible:v.value,"onUpdate:isDialogVisible":s[4]||(s[4]=r=>v.value=r),masterDetails:U.value},null,8,["isDialogVisible","masterDetails"]),e(ce,{isDialogVisible:A.value,"onUpdate:isDialogVisible":s[5]||(s[5]=r=>A.value=r),serverDetails:y.value,serverId:g.value.id,onServerChanged:ue},null,8,["isDialogVisible","serverDetails","serverId"]),e(i,{isDialogVisible:f.value,"onUpdate:isDialogVisible":s[6]||(s[6]=r=>f.value=r),onConfirm:re,"confirmation-question":"Are you want to delete master?","cancel-title":"Cancelled","confirm-title":"Confirm"},null,8,["isDialogVisible"]),e(H,{modelValue:M.value,"onUpdate:modelValue":s[8]||(s[8]=r=>M.value=r),"max-width":"500"},{default:l(()=>[e(W,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[e(Z,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",lt,d(_(O)),1),t("p",null,d(_(j)),1),e(V,{color:"success",onClick:s[7]||(s[7]=r=>J())},{default:l(()=>[n(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(H,{modelValue:S.value,"onUpdate:modelValue":s[9]||(s[9]=r=>S.value=r),"max-width":"500"},{default:l(()=>[e(W,null,{default:l(()=>[e(Q,{class:"text-center px-10 py-6"},{default:l(()=>[e(V,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:l(()=>[tt]),_:1}),t("h1",at,d(_(B)),1),t("p",null,d(_(z)),1),e(V,{color:"success",onClick:J},{default:l(()=>[n(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Zt=fe(st,[["__scopeId","data-v-912dc885"]]);export{Zt as default};
