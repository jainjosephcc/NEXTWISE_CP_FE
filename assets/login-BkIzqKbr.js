import{i as B,j as M,c4 as $,r as d,E as N,o as m,c as p,d as e,b as v,a0 as _,I as x,cX as z,x as f,v as h,y as T,dI as F,e as L,F as C,t as w,ai as U,b9 as A,ba as j,b6 as b,a_ as H}from"./index-VIgWIw9z.js";import{$ as O}from"./api-BaRI-q-y.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as X}from"./VCheckbox-CUvBVl8g.js";import"./index-B3bPRkoL.js";import"./VCheckboxBtn-BbkRNVdL.js";import"./VSelectionControl-BxKTAbpm.js";import"./form-D5earr4N.js";import"./VInput-C2xQUOvp.js";import"./index-CyI2hWI8.js";import"./transition-CZ13CYou.js";const n=g=>(A("data-v-da80dee7"),g=g(),j(),g),Y=n(()=>e("div",{class:"login-background"},null,-1)),G={class:"login-wrapper"},J={class:"theme-toggle-container"},K=["aria-label"],Q={class:"login-card"},Z={class:"logo-container"},ee=["src"],se=n(()=>e("div",{class:"welcome-section"},[e("h1",{class:"welcome-title"}," Welcome back ðŸ‘‹ "),e("p",{class:"welcome-subtitle"}," Sign in to your Copy Trader account ")],-1)),ae={class:"form-group"},oe=n(()=>e("label",{for:"email",class:"form-label"}," Email address ",-1)),te={key:0,class:"error-message"},le={class:"form-group"},re=n(()=>e("label",{for:"password",class:"form-label"}," Password ",-1)),ie={class:"password-input-wrapper"},de=["type"],ne=["aria-pressed","aria-label"],ue={key:0,class:"error-message"},ce={class:"form-options"},me={class:"remember-me"},pe=n(()=>e("label",{for:"remember-me",class:"remember-label"}," Remember me ",-1)),ve=n(()=>e("div",{class:"forgot-password"},[e("a",{href:"#",class:"forgot-link"}," Forgot password? ")],-1)),ge={class:"submit-container"},_e=n(()=>e("div",{class:"support-section"},[e("p",{class:"support-text"},[w(" Need help? "),e("a",{href:"#",class:"support-link"}," Contact Support Team ")])],-1)),fe={class:"footer"},he={class:"footer-text"},be={__name:"login",setup(g){const y=B(),E=M(),I=$(),r=d({email:"",password:""}),k=d(!1),u=d(!1),i=d(!1),c=d(!1),o=d({email:"",password:""}),l=d(!1),P=async()=>{i.value=!0,c.value=!0;try{const a=await O("/login",{method:"POST",body:{email:r.value.email,password:r.value.password},onResponseError({response:s}){console.log(s),s._data.error?o.value.password=s._data.error:s._data.message&&(o.value.password=s._data.message),i.value=!1,c.value=!1}});b("userAbilityRules").value=a.abilityRules,I.update(a.abilityRules),b("userData").value=a.user,b("accessToken").value=a.token,await H(()=>{i.value=!1,c.value=!1,E.replace(y.query.to?String(y.query.to):"/")})}catch(a){console.error(a),i.value=!1,c.value=!1}},S=()=>{const a=r.value.email.trim(),s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a?s.test(a)?(o.value.email="",!0):(o.value.email="Please enter a valid email address",!1):(o.value.email="Email is required",!1)},V=()=>{const a=r.value.password;return a?a.length<6?(o.value.password="Password must be at least 6 characters",!1):(o.value.password="",!0):(o.value.password="Password is required",!1)},D=async a=>{if(a.preventDefault(),i.value)return;const s=S(),t=V();!s||!t||await P()},R=()=>{l.value=!l.value,document.documentElement.classList.toggle("dark",l.value),localStorage.setItem("theme",l.value?"dark":"light")},q=()=>{const a=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,t=a||(s?"dark":"light");l.value=t==="dark",document.documentElement.classList.toggle("dark",l.value)};return N(()=>{q()}),(a,s)=>(m(),p("div",{class:f(["coral-login-container",{dark:l.value}])},[Y,e("div",G,[e("div",J,[e("button",{onClick:R,type:"button",class:"theme-toggle-btn","aria-label":l.value?"Switch to light mode":"Switch to dark mode"},[v(_,{icon:l.value?"mdi-weather-sunny":"mdi-weather-night",size:"20",class:"theme-icon"},null,8,["icon"])],8,K)]),e("div",Q,[e("div",Z,[e("img",{src:l.value?"/light_logo.svg":"/dark_logo.svg",alt:"Copy Trader",class:"logo"},null,8,ee)]),se,e("form",{onSubmit:D,class:"login-form"},[e("div",ae,[oe,x(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=t=>r.value.email=t),type:"email",autocomplete:"email",required:"",class:f(["form-input",{error:o.value.email}]),placeholder:"Enter your email",onBlur:S,onInput:s[1]||(s[1]=t=>o.value.email="")},null,34),[[z,r.value.email]]),o.value.email?(m(),p("div",te,h(o.value.email),1)):T("",!0)]),e("div",le,[re,e("div",ie,[x(e("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=t=>r.value.password=t),type:u.value?"text":"password",autocomplete:"current-password",required:"",class:f(["form-input",{error:o.value.password}]),placeholder:"Enter your password",onBlur:V,onInput:s[3]||(s[3]=t=>o.value.password="")},null,42,de),[[F,r.value.password]]),e("button",{type:"button",onClick:s[4]||(s[4]=t=>u.value=!u.value),class:"password-toggle-btn","aria-pressed":u.value,"aria-label":u.value?"Hide password":"Show password"},[v(_,{icon:u.value?"mdi-eye-off":"mdi-eye",size:"20"},null,8,["icon"])],8,ne)]),o.value.password?(m(),p("div",ue,h(o.value.password),1)):T("",!0)]),e("div",ce,[e("div",me,[v(X,{modelValue:k.value,"onUpdate:modelValue":s[5]||(s[5]=t=>k.value=t),id:"remember-me",class:"remember-checkbox","hide-details":""},null,8,["modelValue"]),pe]),ve]),e("div",ge,[v(U,{type:"submit",loading:i.value,disabled:c.value,class:"submit-btn",size:"large",block:""},{default:L(()=>[i.value?(m(),p(C,{key:0},[v(_,{icon:"mdi-loading",class:"mr-2"}),w(" Signing in... ")],64)):(m(),p(C,{key:1},[w(" Sign in ")],64))]),_:1},8,["loading","disabled"])])],32),_e]),e("div",fe,[e("p",he," Â© "+h(new Date().getFullYear())+" Paperbot / Copy Trader ",1)])])],2))}},De=W(be,[["__scopeId","data-v-da80dee7"]]);export{De as default};
