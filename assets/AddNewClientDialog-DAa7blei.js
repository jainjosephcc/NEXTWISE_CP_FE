import{_ as X}from"./ConfirmDialog-YJD91LgQ.js";import{_ as Z}from"./AppSelect-tDvAStvn.js";import{_ as Q}from"./AppTextField-DtIJKPhH.js";import{_ as Y}from"./AppDrawerHeaderSection-6Uq5dFPW.js";import{g as ee,c as le}from"./apiUtils-BauU_zFg.js";import{P as ae}from"./vue3-perfect-scrollbar.esm-D7Ifjn5r.js";import{V as te}from"./VDivider-CSkhLUKl.js";import{V as E}from"./VCard-GjZhORBe.js";import{V as $}from"./VCardText-BOk-HfwD.js";import{V as R,a as i}from"./VRow-BGcwpjBg.js";import{V as oe,a as z}from"./VRadioGroup-srsloek4.js";import{r as n,a4 as ne,E as se,o as re,f as ie,e as a,b as e,m as u,ah as d,t as y,$ as ue,d as p,v as _,a_ as de}from"./index-MgTNQxVX.js";import{V as B}from"./VDialog-7-XmTV6F.js";import{V as me}from"./VNavigationDrawer-BWWdVdi3.js";const pe={class:"text-h4 mb-4"},ce=p("span",{class:"text-5xl font-weight-light"},"X",-1),fe={class:"text-h4 mb-4"},Ee={__name:"AddNewClientDialog",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(F,{emit:I}){const c=n(!1),f=n(!1),q=n(),b=n("0"),w=n(""),g=n(""),C=n(""),x=n(""),v=n(""),D=n(""),V=n(!1),h=n(!1),m=n(!1),S=n(!1),W=n(null);let k=n(""),U=n(""),A=n(""),M=n("");ne(()=>v.value===D.value);const j=F,N=I,L=o=>{N("update:isDrawerOpen",o)},s={required:o=>!!o||"Required.",min:o=>o.length>=8||"Min 8 characters",capital:o=>/[A-Z]/.test(o)||"Min 1 uppercase letter",small:o=>/[a-z]/.test(o)||"Min 1 lowercase letter",special:o=>/[!@#$%^&*(),.?":{}|<>]/.test(o)||"Min 1 special character",number:o=>/[0-9]/.test(o)||"Min 1 number",email:o=>/.+@.+\..+/.test(o)||"E-mail must be valid"},O=()=>{N("update:isDrawerOpen",!1),de(()=>{var o,l;(o=q.value)==null||o.reset(),(l=q.value)==null||l.resetValidation()})},G=async o=>{if(o){m.value=!0;try{await(await fetch("https://beclient.bitragemarkets.com/api/client/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_entity:1,email_id:g.value,fname:w.value,is_corporate:b.value,is_email_verified:0,nationality:C.value,password:v.value,phone_number:x.value}),onResponseError({response:r}){k.value="Something Went Wrong !",U.value=r._data.message,m.value=!1,V.value=!0}})).json()&&(A.value="Success !",M.value="Client Created Successfully !",m.value=!1,h.value=!0)}catch(l){k.value="Something Went Wrong !",U.value=l.data.message,m.value=!1,V.value=!0}}},T=async o=>{window.location.reload()};function H(){W.value=!0,S.value=!0}return se(async()=>{await ee()}),(o,l)=>{const P=Y,r=Q,J=Z,K=X;return re(),ie(me,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":j.isDrawerOpen,"onUpdate:modelValue":L},{default:a(()=>[e(P,{title:"Add New Client",onCancel:O}),e(te),e(u(ae),{options:{wheelPropagation:!1}},{default:a(()=>[e(E,{flat:""},{default:a(()=>[e($,null,{default:a(()=>[e(R,null,{default:a(()=>[e(oe,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=t=>b.value=t),inline:""},{default:a(()=>[e(z,{label:"Individual Client",value:"0"}),e(z,{label:"Corporate Client",value:"1"})]),_:1},8,["modelValue"])]),_:1}),e(R,null,{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[e(r,{modelValue:w.value,"onUpdate:modelValue":l[1]||(l[1]=t=>w.value=t),rules:[s.required],label:"Full Name",placeholder:"Enter your full name"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(r,{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=t=>g.value=t),rules:[s.required,s.email],label:"Email",placeholder:"Enter your email id"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(r,{modelValue:x.value,"onUpdate:modelValue":l[3]||(l[3]=t=>x.value=t),type:"number",rules:[s.required],label:"Contact",placeholder:"Enter your contact number"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(J,{modelValue:C.value,"onUpdate:modelValue":l[4]||(l[4]=t=>C.value=t),label:"Select Country",placeholder:"Select Country",rules:[s.required],items:u(le),clearable:""},null,8,["modelValue","rules","items"])]),_:1}),e(i,{cols:"12",sm:"12"},{default:a(()=>[e(r,{modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=t=>v.value=t),rules:[s.required,s.min,s.capital,s.small,s.special],"append-inner-icon":c.value?"tabler-eye-off":"tabler-eye",type:c.value?"text":"password",name:"input-10-2",placeholder:"············",label:"Enter Password",hint:"At least 8 characters","onClick:appendInner":l[6]||(l[6]=t=>c.value=!c.value)},null,8,["modelValue","rules","append-inner-icon","type"])]),_:1}),e(i,{cols:"12",sm:"12"},{default:a(()=>[e(r,{modelValue:D.value,"onUpdate:modelValue":l[7]||(l[7]=t=>D.value=t),rules:[s.required,s.min,s.capital,s.small,s.special],"append-inner-icon":f.value?"tabler-eye-off":"tabler-eye",type:f.value?"text":"password",name:"input-10-2",placeholder:"············",label:"Enter Confirm Password","onClick:appendInner":l[8]||(l[8]=t=>f.value=!f.value)},null,8,["modelValue","rules","append-inner-icon","type"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(d,{class:"me-3",onClick:l[9]||(l[9]=t=>H()),loading:m.value},{default:a(()=>[y(" Submit ")]),_:1},8,["loading"]),e(d,{type:"reset",variant:"tonal",color:"error",onClick:O},{default:a(()=>[y(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1}),e(K,{isDialogVisible:S.value,"onUpdate:isDialogVisible":l[10]||(l[10]=t=>S.value=t),onConfirm:G,"confirmation-question":"Are you sure you want to add this client?","cancel-title":"Cancelled","confirm-title":"Confirmed!"},null,8,["isDialogVisible"]),e(B,{modelValue:h.value,"onUpdate:modelValue":l[12]||(l[12]=t=>h.value=t),"max-width":"500"},{default:a(()=>[e(E,null,{default:a(()=>[e($,{class:"text-center px-10 py-6"},{default:a(()=>[e(d,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[e(ue,{icon:"tabler-check",size:"38"})]),_:1}),p("h1",pe,_(u(A)),1),p("p",null,_(u(M)),1),e(d,{color:"success",onClick:l[11]||(l[11]=t=>T())},{default:a(()=>[y(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(B,{modelValue:V.value,"onUpdate:modelValue":l[13]||(l[13]=t=>V.value=t),"max-width":"500"},{default:a(()=>[e(E,null,{default:a(()=>[e($,{class:"text-center px-10 py-6"},{default:a(()=>[e(d,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[ce]),_:1}),p("h1",fe,_(u(k)),1),p("p",null,_(u(U)),1),e(d,{color:"success",onClick:T},{default:a(()=>[y(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{Ee as _};
